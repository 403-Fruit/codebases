"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = require("../../../../../types");
const constants_1 = require("../../../../../constants");
const dealsHelpers_1 = require("../../../../../helpers/dealsHelpers");
const getRevenueMovementQuery = (interval, args) => {
    return {
        field: types_1.Deals.QueryReportTypeField.REVENUE_MOVEMENT,
        args: Object.assign(Object.assign({}, args), { field: types_1.Deals.MeasureByType.PAYMENTS_CHANGE_AMOUNT, groupBy: `"${constants_1.deals.PAYMENTS_DUE_AT_FIELD}"`, segmentBy: '"paymentsType"', interval: interval && typeof interval === 'string' && interval.toUpperCase(), paymentType: 'recurring' }),
        fields: {
            data: dealsHelpers_1.prepareForQueryBuilder(['paymentsDueAt', 'paymentsType', 'sum']),
            meta: dealsHelpers_1.prepareForQueryBuilder(constants_1.deals.METADATA_FIELDS),
        },
    };
};
exports.default = getRevenueMovementQuery;
