"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDurationQuery = void 0;
const types_1 = require("../../../../../types");
const constants_1 = require("../../../../../constants");
const dealsHelpers_1 = require("../../../../../helpers/dealsHelpers");
exports.getDurationQuery = (args, groupByFilter, segmentByFilter) => {
    const fields = ['duration', 'count', 'isOtherSegment'];
    if (groupByFilter) {
        fields.push(groupByFilter);
    }
    if (segmentByFilter) {
        fields.push(segmentByFilter);
    }
    return {
        field: types_1.Deals.QueryReportTypeField.DURATION,
        args,
        fields: {
            data: dealsHelpers_1.prepareForQueryBuilder(fields),
            meta: dealsHelpers_1.prepareForQueryBuilder(constants_1.deals.METADATA_FIELDS),
            summary: dealsHelpers_1.prepareForQueryBuilder(['total { count duration }']),
        },
    };
};
exports.default = exports.getDurationQuery;
