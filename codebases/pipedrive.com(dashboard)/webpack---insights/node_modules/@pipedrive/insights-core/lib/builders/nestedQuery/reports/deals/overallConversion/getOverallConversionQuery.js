"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = require("../../../../../types");
const constants_1 = require("../../../../../constants");
const dealsHelpers_1 = require("../../../../../helpers/dealsHelpers");
const getOverallConversionQuery = (groupByFilter, args, chartType) => {
    const fields = [
        'conversion',
        'sumConversion',
        'count',
        'sum',
        'status',
        'currency',
        'isOtherSegment',
    ];
    const shouldAddGroupByFieldToQuery = chartType !== types_1.ChartType.SCORECARD;
    if (shouldAddGroupByFieldToQuery) {
        fields.push(groupByFilter);
    }
    return {
        field: types_1.Deals.QueryReportTypeField.CONVERSION_OVERALL,
        args,
        fields: {
            data: dealsHelpers_1.prepareForQueryBuilder(fields),
            meta: dealsHelpers_1.prepareForQueryBuilder(constants_1.deals.METADATA_FIELDS),
        },
    };
};
exports.default = getOverallConversionQuery;
