"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateUnifiedDealsQuery = void 0;
const types_1 = require("../../types");
const unifiedQueryBuilder_1 = __importDefault(require("../../builders/unifiedQuery/unifiedQueryBuilder"));
const unifiedApiConstants_1 = require("../../constants/unifiedApiConstants");
const unifiedDealsProgressQuery_1 = require("./unifiedDealsProgressQuery");
const queryGeneratorsByReportType = Object.freeze({
    [types_1.ReportType.DEALS_PROGRESS]: unifiedDealsProgressQuery_1.generateUnifiedDealsProgressQuery,
});
exports.generateUnifiedDealsQuery = ({ rootQueryField, rootQueryArguments, subQueryFields, reportArguments, reportStatisticsFields, listArguments, listFields, exportListArguments, fieldFields, }) => {
    const queryBuilder = new unifiedQueryBuilder_1.default(unifiedApiConstants_1.UNIFIED_API_TEMPORARY_DEAL_FIELD, rootQueryArguments.timeZone);
    const generate = queryGeneratorsByReportType[rootQueryField];
    if (!generate) {
        throw Error(`"${rootQueryField}" is not supported root query field`);
    }
    generate(queryBuilder, {
        rootQueryField,
        rootQueryArguments,
        subQueryFields,
        reportArguments,
        reportStatisticsFields,
        listArguments,
        listFields,
        exportListArguments,
        fieldFields,
    });
    return queryBuilder.build();
};
