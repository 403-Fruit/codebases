"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getStatsFields = exports.getFieldsObjectForQueryBuilder = exports.getFieldsWithLabelFields = void 0;
const commonHelpers_1 = require("../commonHelpers");
/*
    This file contains helpers that are meant for internal use only.
*/
exports.getFieldsWithLabelFields = (fields, fieldsRequiringLables) => {
    const fieldsWithLabels = [];
    fields.forEach((field) => {
        if (fieldsRequiringLables.includes(field)) {
            const labelField = commonHelpers_1.getLabelFieldKey(field);
            fieldsWithLabels.push(labelField);
        }
    });
    return [...fields, ...fieldsWithLabels];
};
/*
    Returns an object from array, where array items are keys and values are "true"
    e.g. ['title', 'value] becomes {title: true, value: true}
*/
exports.getFieldsObjectForQueryBuilder = (fields) => {
    return fields.sort().reduce((object, item) => {
        object[item] = true;
        return object;
    }, {});
};
exports.getStatsFields = (groupByFilter, segmentByFilter, statsAdditionalFields = []) => {
    const statsFields = [...statsAdditionalFields];
    if (groupByFilter) {
        statsFields.push(groupByFilter);
    }
    if (segmentByFilter) {
        statsFields.push(segmentByFilter);
    }
    return exports.getFieldsObjectForQueryBuilder(statsFields);
};
