"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const queryBuilderUtils_1 = require("../queryBuilderUtils");
const constants_1 = require("../constants");
const getDurationQuery = (args, groupByFilter, segmentByFilter) => {
    const fields = ['duration', 'count', 'isOtherSegment'];
    if (groupByFilter) {
        fields.push(groupByFilter);
    }
    if (segmentByFilter) {
        fields.push(segmentByFilter);
    }
    const reportQuery = {
        field: constants_1.QueryReportTypeField.DURATION,
        args,
        fields: {
            data: queryBuilderUtils_1.prepareForQueryBuilder(fields),
            meta: queryBuilderUtils_1.prepareForQueryBuilder(constants_1.METADATA_FIELDS),
            summary: queryBuilderUtils_1.prepareForQueryBuilder(['total { count duration }']),
        },
    };
    return reportQuery;
};
exports.default = getDurationQuery;
