!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("prop-types"),require("@pipedrive/convention-ui-react"),require("lodash"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["react","prop-types","@pipedrive/convention-ui-react","lodash","react-dom"],t);else{var n="object"==typeof exports?t(require("react"),require("prop-types"),require("@pipedrive/convention-ui-react"),require("lodash"),require("react-dom")):t(e.react,e["prop-types"],e["@pipedrive/convention-ui-react"],e.lodash,e["react-dom"]);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(e,t,r,o,i){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=224)}([function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"g",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"G",function(){return c}),n.d(t,"p",function(){return l}),n.d(t,"o",function(){return u}),n.d(t,"f",function(){return f}),n.d(t,"D",function(){return d}),n.d(t,"C",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"A",function(){return g}),n.d(t,"x",function(){return v}),n.d(t,"z",function(){return m}),n.d(t,"y",function(){return y}),n.d(t,"B",function(){return b}),n.d(t,"t",function(){return w}),n.d(t,"e",function(){return _}),n.d(t,"d",function(){return x}),n.d(t,"w",function(){return k}),n.d(t,"i",function(){return E}),n.d(t,"m",function(){return S}),n.d(t,"l",function(){return O}),n.d(t,"v",function(){return T}),n.d(t,"E",function(){return C}),n.d(t,"u",function(){return A}),n.d(t,"s",function(){return P}),n.d(t,"h",function(){return I}),n.d(t,"F",function(){return L}),n.d(t,"j",function(){return j}),n.d(t,"n",function(){return N}),n.d(t,"r",function(){return R}),n.d(t,"q",function(){return M});n(64),n(36),n(23),n(40),n(79),n(21);var r=n(51);function o(e,t){return e&&!(e instanceof HTMLDocument)&&(t(e)?e:o(e.parentNode,t))}function i(e){return o(e,function(e){return!!e.getAttribute&&"true"===e.getAttribute("contenteditable")})}function a(e){return e.querySelector("div[data-pipedrivesignature]")?e.querySelector("div[data-pipedrivesignature]").previousSibling:e}function s(e){if(e instanceof HTMLElement)return e;var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function c(e,t){for(t(e),e=e.firstChild;e;){var n=e.nextSibling;c(e,t),e=n}}function l(){return-1!==["msie","edge"].indexOf(S())}function u(){return"firefox"===S()}function f(){var e=window.getSelection(),t=e.rangeCount&&e.getRangeAt(0);if(t){var n=t.endContainer,r=(n.lastElementChild||n).previousSibling;if(n.contentEditable){var o=n.childNodes[t.endOffset-1];return o&&"INPUT"===o.nodeName?o:null}return r&&"INPUT"!==r.nodeName?r:null}}function d(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null}function p(e){if(e)if(window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}else document.selection&&e.select&&e.select()}function h(){var e=window.getSelection();return e&&e.rangeCount>0&&e.getRangeAt(0)}function g(e){var t=document.createRange(),n=window.getSelection();t.setStart(e,0),t.setEnd(e,0),n.removeAllRanges(),n.addRange(t)}function v(e){var t=document.createRange(),n=window.getSelection();t.setStartAfter(e),t.setEndAfter(e),n.removeAllRanges(),n.addRange(t)}function m(e){if(e&&e.focus&&e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange(),n=window.getSelection();t.selectNodeContents(e),t.collapse(!1),n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}function y(e){var t=e.querySelector("div[data-pipedrivesignature]");return t?v(t.previousSibling):m(e),e}function b(e,t){e.parentNode.replaceChild(t,e)}function w(e){return!Object.keys(e).length&&JSON.stringify(e)===JSON.stringify({})}function _(e,t){return Object.keys(e).map(function(n){return t(n,e[n],e)})}function x(e){return e.replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function k(e){return/^(www(?:\.\w+){2,})|(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(e)}function E(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft||0),top:t.top+(window.pageYOffset||n.scrollTop||0)}}function S(e){var t=function(){switch(navigator.appName){case"Opera":return"opera";case"Microsoft Internet Explorer":return"msie";case"Netscape":if(null!==/Trident\/.*rv:([0-9]+[.0-9]*)/.exec(navigator.userAgent))return"msie";default:return function(){if(Array.isArray(navigator.vendor.match(/Google Inc./i)))return"chrome";if(Array.isArray(navigator.vendor.match(/Apple Computer, Inc./i)))return Array.isArray(navigator.userAgent.match(/iPad/i))?"ipad":Array.isArray(navigator.userAgent.match(/iPhone/i))?"iphone":"safari";if(navigator.userAgent.indexOf("Firefox")>-1)return"firefox";if(navigator.userAgent.indexOf("Edge")>-1)return"edge";return"unknown"}()}};return"string"==typeof e?t()===e:t()}function O(e){var t="unknown";return-1!==navigator.appVersion.indexOf("Windows Phone")?t="windowsphone":-1!==navigator.appVersion.indexOf("Win")?t="windows":-1!==navigator.appVersion.indexOf("Android")?t="android":-1!==navigator.appVersion.indexOf("Mac")?t="macosx":-1!==navigator.appVersion.indexOf("X11")?t="unix":-1!==navigator.appVersion.indexOf("Linux")&&(t="linux"),"string"==typeof e?t===e:t}function T(e){var t;if(document.selection)t=document.selection.createRange().parentElement();else{var n=window.getSelection();if(n.rangeCount){var r=n.getRangeAt(0).startContainer;t=3===r.nodeType?r.parentNode:r}}return e===(t?t.closest("div[contenteditable]"):null)}function C(e){var t=window.getSelection().focusNode;if(t&&t!==e&&!t.className){var n=Object(r.b)(t),o=Object(r.a)(n,e);o&&n&&(Object(r.d)(o)?function(e,t,n){if(e===t||e.className){var o=document.createRange(),i=document.createElement("div");i.setAttribute("dir","rtl"),o.selectNode(Object(r.c)(n)),o.surroundContents(i),m(i)}else e.setAttribute("dir","rtl")}(n,e,t):n.parentElement&&n.parentElement.hasAttribute("dir")?n.setAttribute("dir","ltr"):n.removeAttribute("dir"))}}function A(e){if("safari"===S())return[].some.call(e.clipboardData.types||[],function(e){return-1!==e.indexOf("image")});var t=window.clipboardData||e.clipboardData,n=t&&t.items||[];if(4===n.length&&[].some.call(n||[],function(e){return 0===e.kind.indexOf("file")}))return!1;return[].some.call(t.files||[],function(e){return-1!==e.type.indexOf("image")})}function P(e){return e&&e.getAttribute&&e.getAttribute("contenteditable")}function I(e){var t={};if(!e)return t;if(e.types)for(var n=0;n<e.types.length;n++){var r=e.types[n];t[r]=e.getData(r)}return t}function L(e){e.getElementsByTagName("blockquote").forEach(function(e){return e.style.margin="0 0 0 40px"})}function j(e){return"BLOCKQUOTE"===e.nodeName?e:e.parentNode.closest("blockquote")}function N(e,t){var n=e.querySelectorAll("blockquote"),r=document.createElement("blockquote"),o=document.createElement("br");r.appendChild(o);var i=null;n.forEach(function(e){e===t&&(i=e)}),i&&i.after(r),L(e),g(r)}function R(){var e=document.querySelector(".tribute-container");return!!e&&"none"!==e.style.display}function M(e){return e.dataset.mentions}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){var r=n(199);"string"==typeof r&&(r=[[e.i,r,""]]);n(50)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(6),o=n(39).f,i=n(44),a=n(45),s=n(107),c=n(132),l=n(113);e.exports=function(e,t){var n,u,f,d,p,h=e.target,g=e.global,v=e.stat;if(n=g?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(u in t){if(d=t[u],f=e.noTargetGet?(p=o(n,u))&&p.value:n[u],!l(g?u:h+(v?".":"#")+u,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,u,d,e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(80))},function(e,t,n){var r=n(197);"string"==typeof r&&(r=[[e.i,r,""]]);n(50)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){e.exports=r},function(e,t,n){var r=n(6),o=n(84),i=n(25),a=n(108),s=n(105),c=n(130),l=o("wks"),u=r.Symbol,f=c?u:u&&u.withoutSetter||a;e.exports=function(e){return i(l,e)&&(s||"string"==typeof l[e])||(s&&i(u,e)?l[e]=u[e]:l[e]=f("Symbol."+e)),l[e]}},function(e,t,n){var r=n(190);"string"==typeof r&&(r=[[e.i,r,""]]);n(50)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(122),o=n(45),i=n(183);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){"use strict";var r=n(35),o=n(117),i=n(78),a=n(63),s=n(149),c=a.set,l=a.getterFor("Array Iterator");e.exports=s(Array,"Array",function(e,t){c(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var r=n(19);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";var r=n(145).charAt,o=n(22),i=n(63),a=n(149),s=i.set,c=i.getterFor("String Iterator");a(String,"String",function(e){s(this,{type:"String Iterator",string:o(e),index:0})},function(){var e,t=c(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(6),o=n(138),i=n(139),a=n(12),s=n(44),c=n(9),l=c("iterator"),u=c("toStringTag"),f=a.values,d=function(e,t){if(e){if(e[l]!==f)try{s(e,l,f)}catch(t){e[l]=f}if(e[u]||s(e,u,t),o[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var p in o)d(r[p]&&r[p].prototype,p);d(i,"DOMTokenList")},function(e,t,n){"use strict";var r=n(4),o=n(6),i=n(47),a=n(55),s=n(24),c=n(105),l=n(5),u=n(25),f=n(91),d=n(19),p=n(70),h=n(13),g=n(32),v=n(35),m=n(83),y=n(22),b=n(69),w=n(57),_=n(73),x=n(88),k=n(181),E=n(112),S=n(39),O=n(33),T=n(81),C=n(44),A=n(45),P=n(84),I=n(86),L=n(87),j=n(108),N=n(9),R=n(146),M=n(147),z=n(95),D=n(63),H=n(74).forEach,F=I("hidden"),B=N("toPrimitive"),U=D.set,q=D.getterFor("Symbol"),V=Object.prototype,W=o.Symbol,G=i("JSON","stringify"),K=S.f,X=O.f,Y=k.f,$=T.f,Q=P("symbols"),J=P("op-symbols"),Z=P("string-to-symbol-registry"),ee=P("symbol-to-string-registry"),te=P("wks"),ne=o.QObject,re=!ne||!ne.prototype||!ne.prototype.findChild,oe=s&&l(function(){return 7!=w(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=K(V,t);r&&delete V[t],X(e,t,n),r&&e!==V&&X(V,t,r)}:X,ie=function(e,t){var n=Q[e]=w(W.prototype);return U(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ae=function(e,t,n){e===V&&ae(J,t,n),h(e);var r=m(t);return h(n),u(Q,r)?(n.enumerable?(u(e,F)&&e[F][r]&&(e[F][r]=!1),n=w(n,{enumerable:b(0,!1)})):(u(e,F)||X(e,F,b(1,{})),e[F][r]=!0),oe(e,r,n)):X(e,r,n)},se=function(e,t){h(e);var n=v(t),r=_(n).concat(fe(n));return H(r,function(t){s&&!ce.call(n,t)||ae(e,t,n[t])}),e},ce=function(e){var t=m(e),n=$.call(this,t);return!(this===V&&u(Q,t)&&!u(J,t))&&(!(n||!u(this,t)||!u(Q,t)||u(this,F)&&this[F][t])||n)},le=function(e,t){var n=v(e),r=m(t);if(n!==V||!u(Q,r)||u(J,r)){var o=K(n,r);return!o||!u(Q,r)||u(n,F)&&n[F][r]||(o.enumerable=!0),o}},ue=function(e){var t=Y(v(e)),n=[];return H(t,function(e){u(Q,e)||u(L,e)||n.push(e)}),n},fe=function(e){var t=e===V,n=Y(t?J:v(e)),r=[];return H(n,function(e){!u(Q,e)||t&&!u(V,e)||r.push(Q[e])}),r};(c||(A((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=j(e),n=function(e){this===V&&n.call(J,e),u(this,F)&&u(this[F],t)&&(this[F][t]=!1),oe(this,t,b(1,e))};return s&&re&&oe(V,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",function(){return q(this).tag}),A(W,"withoutSetter",function(e){return ie(j(e),e)}),T.f=ce,O.f=ae,S.f=le,x.f=k.f=ue,E.f=fe,R.f=function(e){return ie(N(e),e)},s&&(X(W.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),a||A(V,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),H(_(te),function(e){M(e)}),r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=y(e);if(u(Z,t))return Z[t];var n=W(t);return Z[t]=n,ee[n]=t,n},keyFor:function(e){if(!p(e))throw TypeError(e+" is not a symbol");if(u(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,t){return void 0===t?w(e):se(w(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ue,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:l(function(){E.f(1)})},{getOwnPropertySymbols:function(e){return E.f(g(e))}}),G)&&r({target:"JSON",stat:!0,forced:!c||l(function(){var e=W();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))})},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(d(t)||void 0!==e)&&!p(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!p(t))return t}),o[1]=t,G.apply(null,o)}});W.prototype[B]||C(W.prototype,B,W.prototype.valueOf),z(W,"Symbol"),L[F]=!0},function(e,t,n){"use strict";var r=n(4),o=n(24),i=n(6),a=n(25),s=n(19),c=n(33).f,l=n(132),u=i.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new u(e):void 0===e?u():u(e);return""===e&&(f[t]=!0),t};l(d,u);var p=d.prototype=u.prototype;p.constructor=d;var h=p.toString,g="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(a(f,e))return"";var n=g?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){n(147)("iterator")},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(4),o=n(5),i=n(91),a=n(19),s=n(32),c=n(26),l=n(75),u=n(116),f=n(76),d=n(9),p=n(71),h=d("isConcatSpreadable"),g=p>=51||!o(function(){var e=[];return e[h]=!1,e.concat()[0]!==e}),v=f("concat"),m=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!g||!v},{concat:function(e){var t,n,r,o,i,a=s(this),f=u(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],m(i)){if(d+(o=c(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,d++)n in i&&l(f,d,i[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(f,d++,i)}return f.length=d,f}})},function(e,t,n){var r=n(6),o=n(138),i=n(139),a=n(176),s=n(44),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var l in o)c(r[l]&&r[l].prototype);c(i)},function(e,t,n){var r=n(70);e.exports=function(e){if(r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},function(e,t,n){"use strict";var r=n(4),o=n(92);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){var r=n(5);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t,n){var r=n(32),o={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return o.call(r(e),t)}},function(e,t,n){var r=n(72),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(24),o=n(33).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;!r||"name"in i||o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(4),o=n(19),i=n(91),a=n(110),s=n(26),c=n(35),l=n(75),u=n(9),f=n(76)("slice"),d=u("species"),p=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,r,u,f=c(this),g=s(f.length),v=a(e,g),m=a(void 0===t?g:t,g);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(f,v,m);for(r=new(void 0===n?Array:n)(h(m-v,0)),u=0;v<m;v++,u++)v in f&&l(r,u,f[v]);return r.length=u,r}})},function(e,t,n){var r=n(4),o=n(186);r({target:"Array",stat:!0,forced:!n(155)(function(e){Array.from(e)})},{from:o})},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});n(98),n(191),n(21),n(20);var r=n(0),o={U:"underline",B:"bold",I:"italic",OL:"ol",UL:"ul",STRIKE:"strikethrough"},i={ol:["ul"],ul:["ol"]},a=function(e){var t=e.activeButtons,n=e.onActiveBtnChange;if(n){var i=Object(r.k)().startContainer;i&&(t.splice(0,t.length),function e(n){if(n){var i=o[n.nodeName];i&&-1===t.indexOf(i)&&t.push(i),Object(r.s)(n)||e(n.parentNode)}}(i),n(t))}},s=function(e){var t=e.activeButtons,n=e.onActiveBtnChange,r=e.buttonType;if(n){if(Object.values(o).indexOf(r)>-1){var a=t.indexOf(r);-1===a?t.push(r):t.splice(a,1)}i[r]&&i[r].forEach(function(e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}),n(t)}},c=function(e,t){var n=window.getSelection(),r=n.rangeCount&&n.getRangeAt(0);if(r){var o=r.startContainer,i=r.endContainer;return{startContainer:o.nodeName.toLowerCase()===e.toLowerCase()?o.closest("".concat(e,"[").concat(t,"]")):o.parentNode.closest("".concat(e,"[").concat(t,"]")),endContainer:i.nodeName.toLowerCase()===e.toLowerCase()?i.closest("".concat(e,"[").concat(t,"]")):i.parentNode.closest("".concat(e,"[").concat(t,"]"))}}},l=function(e){var t=e.font,n=e.commandName,r=e.attrName,o=e.setSelectedFont,i=e.setIsPopoverVisible,a=t.title,s=t.value;o(a),i(!1),s?document.execCommand(n,!1,s):function(e){var t=e.nodeName,n=e.attr,r=window.getSelection(),o=r.rangeCount&&r.getRangeAt(0);if(o){var i=o.commonAncestorContainer;if(3===i.nodeType){var a=i.parentNode.closest(t);return a&&a.removeAttribute(n)}for(var s=document.createNodeIterator(i,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return e.nodeName===t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),c=[],l=function(e,t){return{startNode:e.startContainer.parentNode.closest(t)||e.startContainer.closest(t),endNode:e.endContainer.parentNode.closest(t)||e.endContainer.closest(t)}}(o,t),u=l.startNode,f=l.endNode;s.nextNode()&&(0===c.length&&s.referenceNode!==u||(c.push(s.referenceNode),s.referenceNode!==f)););c&&c.forEach(function(e){return e.removeAttribute(n)})}}({nodeName:"FONT",attr:r})}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(31);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(24),o=n(131),i=n(13),a=n(83),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=a(t),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={undo:{clickMethod:"undo",focus:!0,keyCode:90,label:{value:"Undo",shortcut:{macosx:"(⌘Z)",windows:"(Ctrl Z)"}}},redo:{clickMethod:"redo",focus:!0,keyCode:89,label:{value:"Redo",shortcut:{macosx:"(⌘Y)",windows:"(Ctrl Y)"}}},outdent:{clickMethod:"outdent",focus:!0,keyCode:219,label:{value:"Indent less",shortcut:{macosx:"(⌘[)",windows:"(Ctrl [)"}}},indent:{clickMethod:"indent",focus:!0,keyCode:221,label:{value:"Indent more",shortcut:{macosx:"(⌘])",windows:"(Ctrl ])"}}},bold:{clickMethod:"bold",focus:!0,keyCode:66,label:{value:"Bold",shortcut:{macosx:"(⌘B)",windows:"(Ctrl B)"}}},italic:{clickMethod:"italicize",focus:!0,keyCode:73,label:{value:"Italic",shortcut:{macosx:"(⌘I)",windows:"(Ctrl I)"}}},underline:{clickMethod:"underline",focus:!0,keyCode:85,label:{value:"Underline",shortcut:{macosx:"(⌘U)",windows:"(Ctrl U)"}}},quote:{clickMethod:"quote",focus:!0,shiftKey:!0,keyCode:57,label:{value:"Quote",shortcut:{macosx:"(⌘⇧9)",windows:"(Ctrl 9)"}}},strikethrough:{clickMethod:"strikeThrough",focus:!0,shiftKey:!0,keyCode:88,label:{value:"Strikethrough",shortcut:{macosx:"(⌘⇧X)",windows:"(Ctrl X)"}}},remove:{clickMethod:"removeFormat",focus:!0,keyCode:220,label:{value:"Remove style",shortcut:{macosx:"(⌘\\)",windows:"(Ctrl \\)"}}},link:{plugin:"linkHandler",keyCode:75,label:{value:"Link",shortcut:{macosx:"(⌘K)",windows:"(Ctrl K)"}}},at:{plugin:"mentions",allowOutsideEditorClick:!0,label:{value:"Mention",shortcut:{macosx:"(@)",windows:"(@)"}}},image:{focus:!0,plugin:"inlineImages",keyCode:77,label:{value:"Image",shortcut:{macosx:"(⌘M)",windows:"(Ctrl M)"}}},ol:{clickMethod:"orderedList",focus:!0,keyCode:55,shiftKey:!0,label:{value:"Ordered list",shortcut:{macosx:"(⌘⇧7)",windows:"(Ctrl⇧7)"}}},ul:{clickMethod:"unorderedList",focus:!0,keyCode:56,shiftKey:!0,label:{value:"Unordered list",shortcut:{macosx:"(⌘⇧8)",windows:"(Ctrl⇧8)"}}},fontsize:{initMethod:"fontSize",initMethodDelegated:"fontSizeDelegated",focus:!0,label:{value:"Font size"}},fontfamily:{initMethod:"fontFamily",initMethodDelegated:"fontFamilyDelegated",focus:!0,label:{value:"Font"}},fontcolor:{initMethod:"fontColor",initMethodDelegated:"fontColorDelegated",focus:!0,label:{value:"Text color"}}}},function(e,t,n){var r=n(82),o=n(31);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";var r=n(4),o=n(74).map;r({target:"Array",proto:!0,forced:!n(76)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),o=n(74).filter;r({target:"Array",proto:!0,forced:!n(76)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){e.exports=o},function(e,t,n){var r=n(24),o=n(81),i=n(69),a=n(35),s=n(83),c=n(25),l=n(131),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=a(e),t=s(t),l)try{return u(e,t)}catch(e){}if(c(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=n(93),o=n(5),i=n(13),a=n(72),s=n(26),c=n(22),l=n(31),u=n(121),f=n(180),d=n(94),p=n(9)("replace"),h=Math.max,g=Math.min,v=function(e){return void 0===e?e:String(e)},m="$0"==="a".replace(/./,"$0"),y=!!/./[p]&&""===/./[p]("a","$0");r("replace",function(e,t,n){var r=y?"$":"$0";return[function(e,n){var r=l(this),o=void 0==e?void 0:e[p];return void 0!==o?o.call(e,r,n):t.call(c(r),e,n)},function(e,o){var l=i(this),p=c(e);if("string"==typeof o&&-1===o.indexOf(r)&&-1===o.indexOf("$<")){var m=n(t,l,p,o);if(m.done)return m.value}var y="function"==typeof o;y||(o=c(o));var b=l.global;if(b){var w=l.unicode;l.lastIndex=0}for(var _=[];;){var x=d(l,p);if(null===x)break;if(_.push(x),!b)break;""===c(x[0])&&(l.lastIndex=u(p,s(l.lastIndex),w))}for(var k="",E=0,S=0;S<_.length;S++){x=_[S];for(var O=c(x[0]),T=h(g(a(x.index),p.length),0),C=[],A=1;A<x.length;A++)C.push(v(x[A]));var P=x.groups;if(y){var I=[O].concat(C,T,p);void 0!==P&&I.push(P);var L=c(o.apply(void 0,I))}else L=f(O,p,T,C,P,o);T>=E&&(k+=p.slice(E,T)+L,E=T+O.length)}return k+p.slice(E)}]},!!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!m||y)},function(e,t,n){var r=n(4),o=n(5),i=n(32),a=n(96),s=n(151);r({target:"Object",stat:!0,forced:o(function(){a(1)}),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,n){var r=n(4),o=n(47),i=n(56),a=n(13),s=n(19),c=n(57),l=n(194),u=n(5),f=o("Reflect","construct"),d=u(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),p=!u(function(){f(function(){})}),h=d||p;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!d)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var o=n.prototype,u=c(s(o)?o:Object.prototype),h=Function.apply.call(e,u,t);return s(h)?h:u}})},function(e,t,n){var r=n(223);"string"==typeof r&&(r=[[e.i,r,""]]);n(50)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(24),o=n(33),i=n(69);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(6),o=n(44),i=n(25),a=n(107),s=n(109),c=n(63),l=c.get,u=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var c,l=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),(c=u(n)).source||(c.source=f.join("string"==typeof t?t:""))),e!==r?(l?!p&&e[t]&&(d=!0):delete e[t],d?e[t]=n:o(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||s(this)})},function(e,t){e.exports=i},function(e,t,n){var r=n(6);e.exports=function(e,t){return arguments.length<2?function(e){return"function"==typeof e?e:void 0}(r[e]):r[e]&&r[e][t]}},function(e,t,n){"use strict";var r=n(4),o=n(135).includes,i=n(117);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t){var n={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},o=r(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),i=r(function(){return document.head||document.getElementsByTagName("head")[0]}),a=null,s=0,c=[];function l(e,t){for(var r=0;r<e.length;r++){var o=e[r],i=n[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(h(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(h(o.parts[a],t));n[o.id]={id:o.id,refs:1,parts:s}}}}function u(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[i]?n[i].parts.push(a):t.push(n[i]={id:i,parts:[a]})}return t}function f(e,t){var n=i(),r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function d(e){e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function p(e){var t=document.createElement("style");return t.type="text/css",f(e,t),t}function h(e,t){var n,r,o;if(t.singleton){var i=s++;n=a||(a=p(t)),r=v.bind(null,n,i,!1),o=v.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",f(e,t),t}(t),r=function(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}.bind(null,n),o=function(){d(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){d(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=o()),void 0===t.insertAt&&(t.insertAt="bottom");var r=u(e);return l(r,t),function(e){for(var o=[],i=0;i<r.length;i++){var a=r[i];(s=n[a.id]).refs--,o.push(s)}e&&l(u(e),t);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete n[s.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function v(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a});n(23),n(40),n(77);function r(e){return/[\u0591-\u07FF]/.test(e)}function o(e){return"DIV"!==e.nodeName&&(e=e.parentNode),"DIV"!==e.nodeName&&(e=e.closest("DIV")),e}function i(e){return 3===e.nodeType&&e.parentNode&&"LI"===e.parentNode.nodeName?e.parentNode.closest("UL")||e.parentNode.closest("OL"):e}function a(e,t){if(!e.textContent)return"";var n=t.querySelector("[data-pipedrivesignature]");return n?e.textContent.replace(n.textContent,""):e.textContent.trim()}},function(e,t,n){"use strict";(function(e){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e){var t="; ".concat(document.cookie).split("; ".concat(e,"="));return t&&2===t.length?t.pop().split(";").shift():""}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return u});var s={default:"Request unsuccessful",invalidJSON:"Did not receive JSON response",notAvailable:"Fetch is not available",unauthorized:"Unauthorized request"};function c(e,t){return new Promise(function(n,r){e.json().then(function(e){return t||!e.success?r(Object.assign({message:s.default},e)):n(e)}).catch(function(e){var t=e.message.includes("invalid json response body")?s.invalidJSON:s.default;return r(new Error(t))})})}function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.fetch)throw new Error(s.notAvailable);var r=n.retryOptions,l=void 0===r?{retries:1,retryDelay:250}:r,u=n.queryParams,f=void 0===u?{}:u,d=n.authCallback,p=i(n,["retryOptions","queryParams","authCallback"]),h=o({session_token:a("pipe-session-token"),strict_mode:!0},f),g=Object.keys(h).map(function(e){var t=h[e];return"".concat(e,"=").concat(encodeURIComponent(t))}).join("&");t+="".concat(t.match(/\?/)?"&":"?").concat(g);var v=o({credentials:"include"},p,{headers:o({Accept:"application/json","Content-Type":"application/json","Cache-control":"no-cache",Pragma:"no-cache"},p.headers)});return new Promise(function(n,r){!function o(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.retries-1;return e.fetch(t,v).then(function(e){return 401===e.status?("function"==typeof d?d(e):window.location.assign("/auth/login"),r(new Error(s.unauthorized))):e.status<200||e.status>=300?c(e,!0):c(e)}).then(function(e){return n(e)}).catch(function(e){if(i>0)setTimeout(function(){o(--i)},l.retryDelay);else{if(e instanceof Error&&l.retries>1)return r(new Error("Request unsuccessful after ".concat(l.retries," retries with error: ").concat(e.message)));r(e)}})}()})}var u=function(e,t){return l(e,o({method:"GET"},t))}}).call(this,n(80))},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(47);e.exports=r("navigator","userAgent")||""},function(e,t){e.exports=!1},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r,o=n(13),i=n(175),a=n(111),s=n(87),c=n(136),l=n(85),u=n(86)("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}h="undefined"!=typeof document?document.domain&&r?p(r):function(){var e,t=l("iframe");return t.style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F}():p(r);for(var e=a.length;e--;)delete h.prototype[a[e]];return h()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[u]=e):n=h(),void 0===t?n:i(n,t)}},function(e,t,n){"use strict";var r=n(4),o=n(119),i=n(31),a=n(22);r({target:"String",proto:!0,forced:!n(120)("includes")},{includes:function(e){return!!~a(i(this)).indexOf(a(o(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(93),o=n(142),i=n(13),a=n(31),s=n(159),c=n(121),l=n(26),u=n(22),f=n(94),d=n(92),p=n(144),h=n(5),g=p.UNSUPPORTED_Y,v=[].push,m=Math.min;r("split",function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=u(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);for(var s,c,l,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,g=new RegExp(e.source,p+"g");(s=d.call(g,r))&&!((c=g.lastIndex)>h&&(f.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&v.apply(f,s.slice(1)),l=s[0].length,h=c,f.length>=i));)g.lastIndex===s.index&&g.lastIndex++;return h===r.length?!l&&g.test("")||f.push(""):f.push(r.slice(h)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(u(o),t,n)},function(e,o){var a=i(this),d=u(e),p=n(r,a,d,o,r!==t);if(p.done)return p.value;var h=s(a,RegExp),v=a.unicode,y=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(g?"g":"y"),b=new h(g?"^(?:"+a.source+")":a,y),w=void 0===o?4294967295:o>>>0;if(0===w)return[];if(0===d.length)return null===f(b,d)?[d]:[];for(var _=0,x=0,k=[];x<d.length;){b.lastIndex=g?0:x;var E,S=f(b,g?d.slice(x):d);if(null===S||(E=m(l(b.lastIndex+(g?x:0)),d.length))===_)x=c(d,x,v);else{if(k.push(d.slice(_,x)),k.length===w)return k;for(var O=1;O<=S.length-1;O++)if(k.push(S[O]),k.length===w)return k;x=_=E}}return k.push(d.slice(_)),k}]},!!h(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),g)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={link:{textLabel:"Text",linkLabel:"Link"},image:{smallSize:"Small",bestFitSize:"Best fit"},shared:{editButton:"Edit",removeButton:"Remove",saveButton:"Save",deleteButton:"Delete"},fontColor:{backgroundColor:"Background Color",color:"Text color"},fontSize:{small:"Small",normal:"Normal",large:"Large",huge:"Huge"},fontFamily:{custom:"Custom",various:"Various"}}},function(e,t,n){var r=n(198);"string"==typeof r&&(r=[[e.i,r,""]]);n(50)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return d});var r=n(46),o=n.n(r),i=n(1),a=n.n(i),s=n(101),c=n(102),l=n(103);function u(e){var t=e.buttonEl,n=e.translations;o.a.render(a.a.createElement(s.a,{html:t.innerHTML,translations:n,trackUsage:function(){},closeTooltip:function(){},editorElWrapper:"",eventHandler:function(){}},a.a.createElement("div",null,"Children")),t)}function f(e){var t=e.buttonEl;o.a.render(a.a.createElement(c.a,{html:t.innerHTML,trackUsage:function(){},closeTooltip:function(){},editorElWrapper:"",eventHandler:function(){},setButtonLabel:function(){}},a.a.createElement("div",null,"Children")),t)}function d(e){var t=e.buttonEl,n=e.translations;o.a.render(a.a.createElement(l.a,{html:t.innerHTML,translations:n,trackUsage:function(){},closeTooltip:function(){},editorElWrapper:"",eventHandler:function(){}},a.a.createElement("div",null,"Children")),t)}},function(e,t,n){var r,o,i,a=n(171),s=n(6),c=n(19),l=n(44),u=n(25),f=n(106),d=n(86),p=n(87),h=s.WeakMap;if(a||f.state){var g=f.state||(f.state=new h),v=g.get,m=g.has,y=g.set;r=function(e,t){if(m.call(g,e))throw new TypeError("Object already initialized");return t.facade=e,y.call(g,e,t),t},o=function(e){return v.call(g,e)||{}},i=function(e){return m.call(g,e)}}else{var b=d("state");p[b]=!0,r=function(e,t){if(u(e,b))throw new TypeError("Object already initialized");return t.facade=e,l(e,b,t),t},o=function(e){return u(e,b)?e[b]:{}},i=function(e){return u(e,b)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(4),o=n(32),i=n(73);r({target:"Object",stat:!0,forced:n(5)(function(){i(1)})},{keys:function(e){return i(o(e))}})},function(e,t,n){"use strict";var r=n(4),o=n(82),i=n(35),a=n(118),s=[].join,c=o!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(2),a=n.n(i),s=n(8),c=n(0),l=n(10),u=n.n(l),f=function(e){var t=e.isPopoverVisible,n=e.setIsPopoverVisible,i=e.closeTooltip,a=e.setSelection;Object(r.useEffect)(function(){t&&a?a(Object(c.D)()):i()},[t]);return o.a.createElement(s.Popover,{className:u.a.fontPopover,placement:"top",arrow:!1,visible:t,onPopupVisibleChange:function(e){return n(e)},toggleOnTriggerClick:!0,spacing:{vertical:"s"},popperProps:{modifiers:{preventOverflow:{enabled:!0},hide:{enabled:!0}}},content:e.children},function(){var t=e.html,n=e.children,r=e.triggerButton;return t?o.a.createElement("span",{dangerouslySetInnerHTML:{__html:(void 0).props.html}}):r||o.a.createElement("span",{className:u.a.fontPopoverTrigger},n[0].key)}())};f.propTypes={html:a.a.string,children:a.a.node.isRequired,triggerButton:a.a.node.isRequired,closeTooltip:a.a.func.isRequired,isPopoverVisible:a.a.bool.isRequired,setIsPopoverVisible:a.a.func.isRequired,setSelection:a.a.func},t.a=f},function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(20);var r=n(1);function o(e,t,n,o){Object(r.useEffect)(function(){if(e&&t)return["keyup","mouseup"].forEach(function(r){t.addEvent(e,"".concat(r,".").concat(n),function(){return o()})}),function(){["keyup","mouseup"].forEach(function(r){t.removeEvent(e,"".concat(r,".").concat(n),function(){return o()})})}},[e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});n(21),n(23),n(59),n(98),n(16),n(17),n(11),n(18),n(12),n(14),n(15),n(28),n(27),n(29);var r=n(0);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events=[]}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"addEvent",value:function(e,t,n){var r=this;t.split(" ").forEach(function(t){var i=o(t.split("."),1)[0];r._addEventToList(e,t,n),e.addEventListener(i,n)})}},{key:"removeEvent",value:function(e,t){null!==this._getElementIndexInEventsList(e)&&t.split(" ").forEach(this._removeEventFromList.bind(this,e))}},{key:"unload",value:function(){this._unbindAllEvents()}},{key:"_addEventToList",value:function(e,t,n){var r=o(t.split("."),2),i=r[0],a=r[1],s=this._getElementIndexInEventsList(e);if(null===s){var c={el:e,callbacks:{}};s=this._events.push(c)-1}this._events[s].callbacks[i]||(this._events[s].callbacks[i]={}),this._events[s].callbacks[i][a]&&e.removeEventListener(i,n),this._events[s].callbacks[i][a]=n}},{key:"_removeEventFromList",value:function(e,t){var n=o(t.split("."),2),r=n[0],i=n[1],a=this._getElementIndexInEventsList(e),s=this._events[a].callbacks[r];if(s&&s[i]){var c=this._events[a].callbacks[r][i];this._events[a].el.removeEventListener(r,c),delete this._events[a].callbacks[r][i],this._cleanEvents(a,r)}}},{key:"_cleanEvents",value:function(e,t){Object(r.t)(this._events[e].callbacks[t])&&delete this._events[e].callbacks[t],Object(r.t)(this._events[e].callbacks)&&this._events.splice(e,1)}},{key:"_getElementIndexInEventsList",value:function(e){for(var t=null,n=0;n<this._events.length;n++)if(this._events[n].el===e){t=n;break}return t}},{key:"_unbindAllEvents",value:function(){Object(r.e)(this._events,function(e,t){var n=t.el,o=t.callbacks;Object(r.e)(o,function(e,t){Object(r.e)(t,function(t,r){n.removeEventListener(e,r)})})}),this._events=[]}}]),e}()},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(47),o=n(130);e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return"function"==typeof t&&Object(e)instanceof t}},function(e,t,n){var r,o,i=n(6),a=n(54),s=i.process,c=i.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u?o=(r=u.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(134),o=n(111);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(89),o=n(82),i=n(32),a=n(26),s=n(116),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,f=6==e,d=7==e,p=5==e||f;return function(h,g,v,m){for(var y,b,w=i(h),_=o(w),x=r(g,v,3),k=a(_.length),E=0,S=m||s,O=t?S(h,k):n||d?S(h,0):void 0;k>E;E++)if((p||E in _)&&(b=x(y=_[E],E,w),e))if(t)O[E]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return E;case 2:c.call(O,y)}else switch(e){case 4:return!1;case 7:c.call(O,y)}return f?-1:l||u?u:O}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(e,t,n){"use strict";var r=n(83),o=n(33),i=n(69);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(5),o=n(9),i=n(71),a=o("species");e.exports=function(e){return i>=51||!r(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t,n){"use strict";var r=n(4),o=n(140).trim;r({target:"String",proto:!0,forced:n(177)("trim")},{trim:function(){return o(this)}})},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(93),o=n(13),i=n(26),a=n(22),s=n(31),c=n(121),l=n(94);r("match",function(e,t,n){return[function(t){var n=s(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](a(n))},function(e){var r=o(this),s=a(e),u=n(t,r,s);if(u.done)return u.value;if(!r.global)return l(r,s);var f=r.unicode;r.lastIndex=0;for(var d,p=[],h=0;null!==(d=l(r,s));){var g=a(d[0]);p[h]=g,""===g&&(r.lastIndex=c(s,i(r.lastIndex),f)),h++}return 0===h?null:p}]})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(5),o=n(53),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(129),o=n(70);e.exports=function(e){var t=r(e,"string");return o(t)?t:String(t)}},function(e,t,n){var r=n(55),o=n(106);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.17.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(6),o=n(19),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(84),o=n(108),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(134),o=n(111).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(56);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(4),o=n(74).find,i=n(117),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,n){var r=n(53);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(22),o=n(143),i=n(144),a=n(84),s=n(57),c=n(63).get,l=n(178),u=n(179),f=RegExp.prototype.exec,d=a("native-string-replace",String.prototype.replace),p=f,h=function(){var e=/a/,t=/b*/g;return f.call(e,"a"),f.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),g=i.UNSUPPORTED_Y||i.BROKEN_CARET,v=void 0!==/()??/.exec("")[1];(h||v||g||l||u)&&(p=function(e){var t,n,i,a,l,u,m,y=this,b=c(y),w=r(e),_=b.raw;if(_)return _.lastIndex=y.lastIndex,t=p.call(_,w),y.lastIndex=_.lastIndex,t;var x=b.groups,k=g&&y.sticky,E=o.call(y),S=y.source,O=0,T=w;if(k&&(-1===(E=E.replace("y","")).indexOf("g")&&(E+="g"),T=w.slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==w.charAt(y.lastIndex-1))&&(S="(?: "+S+")",T=" "+T,O++),n=new RegExp("^(?:"+S+")",E)),v&&(n=new RegExp("^"+S+"$(?!\\s)",E)),h&&(i=y.lastIndex),a=f.call(k?n:y,T),k?a?(a.input=a.input.slice(O),a[0]=a[0].slice(O),a.index=y.lastIndex,y.lastIndex+=a[0].length):y.lastIndex=0:h&&a&&(y.lastIndex=y.global?a.index+a[0].length:i),v&&a&&a.length>1&&d.call(a[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)}),a&&x)for(a.groups=u=s(null),l=0;l<x.length;l++)u[(m=x[l])[0]]=a[m[1]];return a}),e.exports=p},function(e,t,n){"use strict";n(23);var r=n(45),o=n(92),i=n(5),a=n(9),s=n(44),c=a("species"),l=RegExp.prototype;e.exports=function(e,t,n,u){var f=a(e),d=!i(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),p=d&&!i(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t});if(!d||!p||n){var h=/./[f],g=t(f,""[e],function(e,t,n,r,i){var a=t.exec;return a===o||a===l.exec?d&&!i?{done:!0,value:h.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}});r(String.prototype,e,g[0]),r(l,f,g[1])}u&&s(l[f],"sham",!0)}},function(e,t,n){var r=n(53),o=n(92);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(33).f,o=n(25),i=n(9)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(25),o=n(32),i=n(86),a=n(151),s=i("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,n){var r=n(4),o=n(5),i=n(35),a=n(39).f,s=n(24),c=o(function(){a(1)});r({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},function(e,t,n){"use strict";var r=n(4),o=n(110),i=n(72),a=n(26),s=n(32),c=n(116),l=n(75),u=n(76)("splice"),f=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,r,u,p,h,g,v=s(this),m=a(v.length),y=o(e,m),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=m-y):(n=b-2,r=d(f(i(t),0),m-y)),m+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=c(v,r),p=0;p<r;p++)(h=y+p)in v&&l(u,p,v[h]);if(u.length=r,n<r){for(p=y;p<m-r;p++)g=p+n,(h=p+r)in v?v[g]=v[h]:delete v[g];for(p=m;p>m-r+n;p--)delete v[p-1]}else if(n>r)for(p=m-r;p>y;p--)g=p+n-1,(h=p+r-1)in v?v[g]=v[h]:delete v[g];for(p=0;p<n;p++)v[p+y]=arguments[p+2];return v.length=m-r+n,u}})},function(e,t,n){"use strict";var r,o,i,a,s=n(4),c=n(55),l=n(6),u=n(47),f=n(200),d=n(45),p=n(201),h=n(123),g=n(95),v=n(202),m=n(19),y=n(56),b=n(203),w=n(109),_=n(204),x=n(155),k=n(159),E=n(114).set,S=n(205),O=n(208),T=n(209),C=n(162),A=n(210),P=n(63),I=n(113),L=n(9),j=n(211),N=n(115),R=n(71),M=L("species"),z="Promise",D=P.get,H=P.set,F=P.getterFor(z),B=f&&f.prototype,U=f,q=B,V=l.TypeError,W=l.document,G=l.process,K=C.f,X=K,Y=!!(W&&W.createEvent&&l.dispatchEvent),$="function"==typeof PromiseRejectionEvent,Q=!1,J=I(z,function(){var e=w(U),t=e!==String(U);if(!t&&66===R)return!0;if(c&&!q.finally)return!0;if(R>=51&&/native code/.test(e))return!1;var n=new U(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[M]=r,!(Q=n.then(function(){})instanceof r)||!t&&j&&!$}),Z=J||!x(function(e){U.all(e).catch(function(){})}),ee=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},te=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;S(function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var a,s,c,l=n[i++],u=o?l.ok:l.fail,f=l.resolve,d=l.reject,p=l.domain;try{u?(o||(2===e.rejection&&ie(e),e.rejection=1),!0===u?a=r:(p&&p.enter(),a=u(r),p&&(p.exit(),c=!0)),a===l.promise?d(V("Promise-chain cycle")):(s=ee(a))?s.call(a,f,d):f(a)):d(r)}catch(e){p&&!c&&p.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&re(e)})}},ne=function(e,t,n){var r,o;Y?((r=W.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!$&&(o=l["on"+e])?o(r):"unhandledrejection"===e&&T("Unhandled promise rejection",n)},re=function(e){E.call(l,function(){var t,n=e.facade,r=e.value;if(oe(e)&&(t=A(function(){N?G.emit("unhandledRejection",r,n):ne("unhandledrejection",n,r)}),e.rejection=N||oe(e)?2:1,t.error))throw t.value})},oe=function(e){return 1!==e.rejection&&!e.parent},ie=function(e){E.call(l,function(){var t=e.facade;N?G.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)})},ae=function(e,t,n){return function(r){e(t,r,n)}},se=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,te(e,!0))},ce=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw V("Promise can't be resolved itself");var r=ee(t);r?S(function(){var n={done:!1};try{r.call(t,ae(ce,n,e),ae(se,n,e))}catch(t){se(n,t,e)}}):(e.value=t,e.state=1,te(e,!1))}catch(t){se({done:!1},t,e)}}};if(J&&(q=(U=function(e){b(this,U,z),y(e),r.call(this);var t=D(this);try{e(ae(ce,t),ae(se,t))}catch(e){se(t,e)}}).prototype,(r=function(e){H(this,{type:z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(q,{then:function(e,t){var n=F(this),r=K(k(this,U));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=N?G.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&te(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ae(ce,t),this.reject=ae(se,t)},C.f=K=function(e){return e===U||e===i?new o(e):X(e)},!c&&"function"==typeof f&&B!==Object.prototype)){a=B.then,Q||(d(B,"then",function(e,t){var n=this;return new U(function(e,t){a.call(n,e,t)}).then(e,t)},{unsafe:!0}),d(B,"catch",q.catch,{unsafe:!0}));try{delete B.constructor}catch(e){}h&&h(B,q)}s({global:!0,wrap:!0,forced:J},{Promise:U}),g(U,z,!1,!0),v(z),i=u(z),s({target:z,stat:!0,forced:J},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),s({target:z,stat:!0,forced:c||J},{resolve:function(e){return O(c&&this===i?U:this,e)}}),s({target:z,stat:!0,forced:Z},{all:function(e){var t=this,n=K(t),r=n.resolve,o=n.reject,i=A(function(){var n=y(t.resolve),i=[],a=0,s=1;_(e,function(e){var c=a++,l=!1;i.push(void 0),s++,n.call(t,e).then(function(e){l||(l=!0,i[c]=e,--s||r(i))},o)}),--s||r(i)});return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=K(t),r=n.reject,o=A(function(){var o=y(t.resolve);_(e,function(e){o.call(t,e).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return b});n(104),n(27),n(173),n(90),n(64),n(20),n(36),n(21),n(77),n(48),n(58),n(23),n(40),n(28),n(16),n(17),n(11),n(18),n(12),n(14),n(15),n(29),n(37),n(97),n(125);var r=n(62),o=n(68),i=n(0),a=n(34),s=n(164),c=n(60),l=n(30),u=n(165),f=n.n(u);function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.editorEl=n.editorEl,this.translations=n.translations||c.a,this.trackUsage=n.trackUsage||function(){},this.fontPickersEnabled=n.fontPickersEnabled||!1,this.sanitizeHtml=n.sanitizeHtml,this.sanitizePasteData=n.sanitizePasteData,this.useEventsDelegation=n.useEventsDelegation,this.useDefaultTooltips=!n.hasOwnProperty("useDefaultTooltips")||n.useDefaultTooltips,this.defaultEventsEnabled=Object.assign({paste:!0,keyup:!0,keydown:!0},n.defaultEventsEnabled),this.placeholder=n.placeholder,this.focusAndPlaceholder=n.focusAndPlaceholder,this.rtlEnabled=!n.hasOwnProperty("rtlEnabled")||n.rtlEnabled,this.editorEl.setAttribute("contenteditable",!0),this.eventHandler=n.eventHandler||new o.a,this.activeButtons=[],this.onActiveBtnChange=n.onToolbarActiveButtonsChange,this.plugins=(n.plugins||[]).reduce(function(e,t){var n=g(Array.isArray(t)?t:[t,{}],2),o=n[0],i=n[1];return e[o.name]=new o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({editorEl:r.editorEl,eventHandler:r.eventHandler,translations:r.translations,trackUsage:r.sendMetrics.bind(r),callPluginMethod:r.callPluginMethod.bind(r)},i)),e},{}),this.setPlaceholder(),this.bindEvents(),n.toolbarEl&&this.initToolbar(n.toolbarEl),"firefox"===i.m()&&e(function(){document.execCommand("enableObjectResizing",!1,!1)})}return function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"bindEvents",value:function(){var e=this;this.eventHandler.addEvent(this.editorEl,"focus.contenteditable",function(){return e.onEditorFocus()}),this.eventHandler.addEvent(this.editorEl,"blur.contenteditable",function(){return e.onEditorBlur()}),this.defaultEventsEnabled.paste&&this.eventHandler.addEvent(this.editorEl,"paste.contenteditable",function(t){return e.sanitizeAndInsertPasteData(t)}),this.defaultEventsEnabled.keyup&&this.eventHandler.addEvent(this.editorEl,"keyup.contenteditable",function(){return e.onEditorKeyUp()}),this.defaultEventsEnabled.keydown&&this.bindKeyDownEvents(),document.addEventListener("selectionchange",function(){if(document.activeElement===e.editorEl){var t=window.getSelection(),n=t.rangeCount&&t.getRangeAt(0);n&&e.saveCaretProps(n),l.c({activeButtons:e.activeButtons,onActiveBtnChange:e.onActiveBtnChange})}})}},{key:"initToolbar",value:function(e){var t,n=this;this.toolbarEl=e,this.useEventsDelegation?this.delegateToolbarClicks():this.bindToolbarClicks(),this.eventHandler.addEvent(this.editorEl,"focus.contenteditable",function(){clearTimeout(t),n.toolbarEl.classList.add("visible")}),this.eventHandler.addEvent(this.editorEl,"blur.contenteditable",function(){t=setTimeout(function(){n.toolbarEl.classList.remove("visible")},100)}),this.eventHandler.addEvent(this.editorEl,"keydown.contenteditable",function(e){if(e.ctrlKey||e.metaKey){var t=Object.keys(a.a).find(function(t){return a.a[t].keyCode===e.keyCode}),r=a.a[t];if(r&&n.hasClickHandler(r)){if(r.shiftKey&&!e.shiftKey)return;e.preventDefault(),n.clickButton(r,{buttonType:t})}}})}},{key:"hasPluginMethod",value:function(e,t){return this.plugins[e]&&"function"==typeof this.plugins[e][t]}},{key:"callPluginMethod",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.hasPluginMethod(e,t)?(n=this.plugins[e])[t].apply(n,d(r)):!o&&console.warn("Plugin: ".concat(e," either is not presented or does not have method: ").concat(t))}},{key:"callAllPluginsMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return[]};return Object.keys(this.plugins).map(function(r){return t.callPluginMethod(r,e,n(r))})}},{key:"getParsedContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editorEl.cloneNode(!0);return this.callAllPluginsMethod("onParseContent",function(n){return[t,e[n]]}),t.innerHTML!==this.placeholder||this.focusAndPlaceholder?t.innerHTML:""}},{key:"initButton",value:function(e,t,n){if(e.plugin)return this.callPluginMethod(e.plugin,"toolbarButtonInit",[t],!0);var r=n?e.initMethodDelegated:e.initMethod;return r?this[r](t):void 0}},{key:"hasClickHandler",value:function(e){return e.plugin&&this.hasPluginMethod(e.plugin,"toolbarButtonClick")||e.clickMethod}},{key:"clickButton",value:function(e,t){e.plugin?this.callPluginMethod(e.plugin,"toolbarButtonClick",[t]):e.clickMethod&&(this[e.clickMethod](t),l.d({buttonType:t.buttonType,activeButtons:this.activeButtons,onActiveBtnChange:this.onActiveBtnChange})),e.focus&&this.editorEl.focus()}},{key:"delegateToolbarClicks",value:function(){var e=this;this.eventHandler.addEvent(this.toolbarEl,"click.delegated.toolbarButtons",function(t){if(t&&t.target){var n=Object(s.a)(t),r=n.target,o=n.type;if(r){var c=a.a[o];e.initButton(c,{buttonEl:r},!0),e.hasClickHandler(c)&&i.v(e.editorEl)&&(t.preventDefault(),t.stopPropagation(),e.clickButton(c,{buttonEl:r,buttonType:o}))}}})}},{key:"bindToolbarClicks",value:function(){var e=this,t=i.l();Object.keys(a.a).forEach(function(n){var r=e.toolbarEl.querySelector(".toolbar_".concat(n));if(r){var o=a.a[n]||{},s=e.translations.toolbar&&e.translations.toolbar[n]||o.label,c=s.shortcut||o.label.shortcut,l="".concat(s.value," ").concat(c?c[t]:"");l&&(e.useDefaultTooltips&&r.classList.add(f.a.editorTooltip),r.setAttribute("data-editor-tooltip",l));var u={buttonEl:r,buttonType:n};e.initButton(o,u),e.hasClickHandler(o)&&e.eventHandler.addEvent(r,"click.toolbarButton",function(t){t.preventDefault(),t.stopPropagation(),(o.allowOutsideEditorClick||i.v(e.editorEl))&&e.clickButton(o,u)})}})}},{key:"onEditorFocus",value:function(){var e=this;clearTimeout(this.blurTimeout),this.placeholder&&(this.focusAndPlaceholder?this.eventHandler.addEvent(this.editorEl,"keydown.placeholder paste.placeholder input.placeholder",function(){e.eventHandler.removeEvent(e.editorEl,"keydown.placeholder paste.placeholder input.placeholder"),e.removePlaceholder()}):this.removePlaceholder())}},{key:"onEditorKeyUp",value:function(){this.rtlEnabled&&i.E(this.editorEl)}},{key:"removePlaceholder",value:function(){this.editorEl.textContent===this.placeholder&&this.editorEl.classList.contains("placeholder")&&(this.editorEl.classList.remove("placeholder"),this.editorEl.innerHTML="")}},{key:"isEditorEmpty",value:function(){return!this.editorEl.querySelectorAll('img, input, [data-container="imagePlaceholder"]').length&&""===this.editorEl.textContent.trim()}},{key:"setPlaceholder",value:function(){this.isEditorEmpty()&&this.placeholder&&(this.editorEl.classList.add("placeholder"),this.editorEl.innerHTML=this.placeholder)}},{key:"onEditorBlur",value:function(){var e=this;this.savedSelection=i.D(),this.blurTimeout=setTimeout(function(){return e.setPlaceholder()},100)}},{key:"replaceTags",value:function(e){var t=document.createElement("div"),n={H1:"2em",H2:"1.5em",H3:"1.17em",H5:"0.83em",H6:"0.67em"};return t.innerHTML=e,i.G(t,function(e){if(/^H[1-6]$/.test(e.nodeName)){var t=document.createElement("div"),r=n[e.nodeName];e.style.cssText&&(t.style.cssText=e.style.cssText),t.innerHTML=e.innerHTML,!t.style.fontSize&&r&&(t.style.fontSize=r),e.parentNode.replaceChild(t,e)}}),t.innerHTML}},{key:"transformPastedData",value:function(e){return this.sanitizePasteData&&(e=this.sanitizeHtml(e)),this.replaceTags(e)}},{key:"sanitizeAndInsertPasteData",value:function(e){var t=this,n=e.target;"INPUT"!==n.tagName&&(n.className.includes("imagePlaceholder")?e.preventDefault():i.u(e)||(i.p()?setTimeout(function(){t.editorEl.innerHTML=t.transformPastedData(t.editorEl.innerHTML)},0):(e.preventDefault(),document.execCommand("insertHTML",!1,this.transformPastedData(this.getPastedDataFromClipboard(e))))))}},{key:"getPastedDataFromClipboard",value:function(e){var t=e.clipboardData.getData("text/html");return t?t.replace(/<img[^>]*src="file:[^>]*>/gi,"").replace(/<p[^>]*><span[^>]*><o:p>&nbsp;<\/o:p>.+?(?=<\/p>)<\/p>/gi,"<br>").replace(/\r\n|\n|\r/g," ").replace(/font-weight: 700;/g,"font-weight: bold").replace(/<\/?span style[^>]*>([^<]*?)<\/span>/gi,"$1").replace(/font-size:\s*\d+(.\d+)?(em|rem|%|vw|vh|px)/g,"").replace(/font-family:\s*(&quot;|[^'";])+/g,"").replace(/<!DOCTYPE[^>]*>/,"").replace(/<meta[^>]*>/,""):e.clipboardData.getData("text/plain").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\t/g,"    ").replace(/ {2}/g,"&nbsp; ").replace(/ {2}/g," &nbsp;").replace(/\r\n|\n|\r/g,"<br />")}},{key:"backspaceOutdent",value:function(e,t){for(;t&&(!t.getAttribute||"true"!==t.getAttribute("contenteditable"));){if("BLOCKQUOTE"===t.nodeName){e.preventDefault(),this.outdent();break}var n=t.parentNode,r=Array.prototype.slice.call(n.childNodes),o=r.indexOf(t);t=0===o||1===o&&[" ",""].indexOf(r[0].textContent)?n:null}}},{key:"bindKeyDownEvents",value:function(){var e=this,t={8:function(t){var n=window.getSelection();0===n.focusOffset&&n.isCollapsed&&e.backspaceOutdent(t,n.focusNode)},9:function(t){t.preventDefault(),"INPUT"!==document.activeElement.tagName&&(i.r()||(t.shiftKey?e.outdent():(e.indent(),i.F(e.editorEl)),e.editorEl.focus()))},13:function(t){if(i.o()){var n=window.getSelection(),r=i.j(n.anchorNode);r&&(t.preventDefault(),i.n(e.editorEl,r))}}};this.eventHandler.addEvent(this.editorEl,"keydown.contenteditable",function(e){if("function"==typeof t[e.keyCode])return t[e.keyCode](e)})}},{key:"insertReplaceHtmlContent",value:function(e){var t=e.html,n=e.getElementToReplace,r=e.clearBefore,o=e.isInitial,a=this.editorEl,s="function"==typeof n?n(a):null;if(this.removePlaceholder(),r&&(a.innerHTML=""),s){var c=document.createElement("div");c.innerHTML=t,i.B(s,c.firstChild)}else this.insertHtmlContent({editorEl:a,html:t,isInitial:o});this.callAllPluginsMethod("onInsert",function(t){return[e[t]]}),this.setPlaceholder()}},{key:"insertHtmlContent",value:function(e){var t=e.editorEl,n=e.html,r=e.isInitial;if(i.p())t.innerHTML=n+t.innerHTML;else if(r)t.innerHTML=n;else{if(t.caretProps){var o=t.caretProps,a=o.isEmptyEditor,s=o.node,c=t.querySelector("div[data-pipedrivesignature]");a?i.A(t):c&&c.contains(s)?i.A(c.parentNode):i.A(s)}else i.A(t);document.execCommand("insertHTML",!1,n)}}},{key:"saveCaretProps",value:function(e){var t=e.endContainer;if(this.editorEl.caretProps={},this.editorEl.caretProps.position=e.endOffset,t===this.editorEl)this.editorEl.caretProps.isNodeEmpty=!0,this.editorEl.caretProps.isEmptyEditor=!0,this.editorEl.caretProps.node=this.editorEl;else{var n=3===t.nodeType?t.parentNode:t;this.editorEl.caretProps.isNodeEmpty=""===n.textContent,this.editorEl.caretProps.node=n}}},{key:"insertHTMLAtPosition",value:function(e,t){t=t||"cursor";var n=i.c(e);this.removePlaceholder(),"end"===t?i.y(this.editorEl):i.C(this.savedSelection);var r=i.k();r&&i.a(r.commonAncestorContainer)||(i.y(this.editorEl),r=i.k()),r.insertNode(n),i.x(n),this.setPlaceholder()}},{key:"focus",value:function(){this.editorEl.focus(),i.z(this.editorEl)}},{key:"unload",value:function(){this.callAllPluginsMethod("unload"),this.eventHandler.unload()}},{key:"sendMetrics",value:function(e){this.trackUsage(null,"email_composer","interacted",{interaction:e,wysiwyg_formatting:this.fontPickersEnabled})}},{key:"undo",value:function(){document.execCommand("undo",!1,null),this.sendMetrics("undo")}},{key:"redo",value:function(){document.execCommand("redo",!1,null),this.sendMetrics("redo")}},{key:"bold",value:function(){document.execCommand("bold",!1,null),this.sendMetrics("font_bold")}},{key:"italicize",value:function(){document.execCommand("italic",!1,null),this.sendMetrics("font_italic")}},{key:"underline",value:function(){document.execCommand("underline",!1,null),this.sendMetrics("font_underlined")}},{key:"orderedList",value:function(){document.execCommand("InsertOrderedList",!1,null),this.sendMetrics("bullets_added")}},{key:"unorderedList",value:function(){document.execCommand("InsertUnorderedList",!1,null),this.sendMetrics("bullets_added")}},{key:"indent",value:function(){document.execCommand("indent",!1,null),this.sendMetrics("indent")}},{key:"outdent",value:function(){document.execCommand("outdent",!1,null),this.sendMetrics("outdent")}},{key:"quote",value:function(){document.execCommand("formatBlock",!1,"<blockquote>"),window.getSelection().focusNode.parentNode.closest("blockquote").setAttribute("style","margin: 0 0 0 .8em; padding-left: 1em; border-left: 2px #317ae2 solid"),this.sendMetrics("quote_added")}},{key:"strikeThrough",value:function(){document.execCommand("strikethrough",!1,null),this.sendMetrics("strikethrough_added")}},{key:"superscript",value:function(){document.execCommand("superscript",!1,null)}},{key:"subscript",value:function(){document.execCommand("subscript",!1,null)}},{key:"formatBlock",value:function(e){document.execCommand("FormatBlock",null,e)}},{key:"removeFormat",value:function(){document.execCommand("removeFormat",!1,null),this.sendMetrics("style_removed")}},{key:"copy",value:function(){document.execCommand("Copy",!1,null)}},{key:"paste",value:function(){document.execCommand("Paste",!1,null)}},{key:"fontSize",value:function(e){var t=e.buttonEl;this.eventHandler.addEvent(t,"click.toolbarButton",function(e){e.preventDefault()}),Object(r.c)({buttonEl:t,translations:this.translations})}},{key:"fontSizeDelegated",value:function(e){var t=e.buttonEl;Object(r.c)({buttonEl:t,translations:this.translations})}},{key:"fontColor",value:function(e){var t=e.buttonEl;this.eventHandler.addEvent(t,"click.toolbarButton",function(e){e.preventDefault()}),Object(r.a)({buttonEl:t,translations:this.translations})}},{key:"fontColorDelegated",value:function(e){var t=e.buttonEl;Object(r.a)({buttonEl:t,translations:this.translations})}},{key:"fontFamily",value:function(e){var t=e.buttonEl;this.eventHandler.addEvent(t,"click.toolbarButton",function(e){e.preventDefault()}),Object(r.b)({buttonEl:t,translations:this.translations})}},{key:"fontFamilyDelegated",value:function(e){var t=e.buttonEl;Object(r.b)({buttonEl:t,translations:this.translations})}}]),t}();t.b=b}).call(this,n(167).setImmediate)},function(e,t,n){"use strict";n(188),n(37),n(158),n(36),n(16),n(17),n(11),n(18),n(12),n(14),n(15),n(28),n(27),n(29);var r=n(1),o=n.n(r),i=n(2),a=n.n(i),s=n(8),c=n(66),l=n(30),u=n(67),f=n(10),d=n.n(f);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.children,n=e.translations,i=e.editorElWrapper,a=e.trackUsage,f=e.eventHandler,h=e.closeTooltip,g=[{title:n.fontSize.small,value:1},{title:n.fontSize.normal,default:!0},{title:n.fontSize.large,value:4},{title:n.fontSize.huge,value:6}],v=g.filter(function(e){return e.default}),m=p(Object(r.useState)(v[0].title),2),y=m[0],b=m[1],w=p(Object(r.useState)(!1),2),_=w[0],x=w[1];return Object(u.a)(i,f,"fontSizePicker",function(){var e=Object(l.a)("font","size"),t=e.startContainer,n=e.endContainer,r=t?g.filter(function(e){return e.value===Number(t.size)}):[],o=n?g.filter(function(e){return e.value===Number(n.size)}):[];if(r.length||o.length){var i=r.length&&r[0].title,a=o.length&&o[0].title;return b(i===a?i:"")}return b(v[0].title)}),o.a.createElement(c.a,{isPopoverVisible:_,setIsPopoverVisible:x,closeTooltip:h,triggerButton:o.a.createElement("span",{className:d.a.fontPopoverTrigger,onClick:function(){return x(!_)}},t)},g.map(function(e){return o.a.createElement(s.Option,{key:e.title,onClick:function(){return function(e){Object(l.b)({font:e,commandName:"fontSize",attrName:"size",setSelectedFont:b,setIsPopoverVisible:x}),a(null,"email_composer","interacted",{interaction:"font_size",wysiwyg_formatting:!0})}(e)},"data-test":"fontSize-".concat(e.title),selected:y===e.title},o.a.createElement("font",{size:e.value},e.title))}))};g.propTypes={children:a.a.node.isRequired,editorElWrapper:a.a.node.isRequired,translations:a.a.object.isRequired,trackUsage:a.a.object.isRequired,eventHandler:a.a.object.isRequired,closeTooltip:a.a.func.isRequired},t.a=g},function(e,t,n){"use strict";n(37),n(36),n(16),n(17),n(11),n(18),n(12),n(14),n(15),n(28),n(27),n(29);var r=n(1),o=n.n(r),i=n(2),a=n.n(i),s=n(8),c=n(66),l=n(60),u=n(30),f=n(67),d=n(10),p=n.n(d);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=[{title:"Arial",value:"Arial"},{title:"Comic Sans MS",value:"comic sans ms"},{title:"Fixed width",value:"monospace, monospace"},{title:"Garamond",value:"garamond"},{title:"Georgia",value:"georgia"},{title:"Sans serif",value:"sans-serif"},{title:"Serif",value:"serif"},{title:"Source Sans Pro",value:"Source Sans Pro",default:!0},{title:"Tahoma",value:"tahoma"},{title:"Trebuchet MS",value:"trebuchet ms"},{title:"Verdana",value:"verdana"}],m=function(e){var t=e.children,n=e.translations,i=e.editorElWrapper,a=e.trackUsage,d=e.eventHandler,g=e.closeTooltip,m=e.setButtonLabel,y=v.filter(function(e){return e.default}),b=h(Object(r.useState)(y[0].title),2),w=b[0],_=b[1],x=h(Object(r.useState)(!1),2),k=x[0],E=x[1];return Object(r.useEffect)(function(){m(w)},[w]),Object(f.a)(i,d,"fontFamilyPicker",function(){var e=Object(u.a)("font","face"),t=e.startContainer,r=e.endContainer,o=t&&t.face,i=t?v.filter(function(e){return e.value===o}):[],a=r?v.filter(function(e){return e.value===r.face}):[];if(i.length||a.length){var s=i.length&&i[0].title,c=a.length&&a[0].title;return _(s===c?s:n.fontFamily?n.fontFamily.various:l.a.fontFamily.various)}return _(o?n.fontFamily?n.fontFamily.custom:l.a.fontFamily.custom:y[0].title)}),o.a.createElement(c.a,{isPopoverVisible:k,setIsPopoverVisible:E,closeTooltip:g,triggerButton:o.a.createElement("span",{className:p.a.fontPopoverTrigger,onClick:function(){return E(!k)}},t)},v.map(function(e){return o.a.createElement(s.Option,{noWrap:!0,key:e.title,onClick:function(){return function(e){Object(u.b)({font:e,commandName:"fontName",setSelectedFont:_,setIsPopoverVisible:E}),a(null,"email_composer","interacted",{interaction:"font_type",font_family:e.title,wysiwyg_formatting:!0})}(e)},selected:w===e.title},o.a.createElement("font",{face:e.value},e.title))}))};m.propTypes={children:a.a.node.isRequired,editorElWrapper:a.a.node.isRequired,trackUsage:a.a.object.isRequired,translations:a.a.object.isRequired,eventHandler:a.a.object.isRequired,closeTooltip:a.a.func.isRequired,setButtonLabel:a.a.func.isRequired},t.a=m},function(e,t,n){"use strict";n(65),n(37),n(36),n(16),n(17),n(11),n(18),n(12),n(14),n(15),n(28),n(27),n(29);var r=n(1),o=n.n(r),i=n(2),a=n.n(i),s=n(8),c=n(66),l=n(30),u=n(0),f=n(67),d=n(10),p=n.n(d);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=[["#1e88e5","#43a047","#fbc02d","#fb8c00","#e53935","#9c27b0"],["#005cb2","#00701a","#c49000","#c25e00","#ab000d","#6a0080"],["#ffffff","#cccccc","#999999","#666666","#333333","#000000"]],m=["rgb(132, 255, 255)","rgb(178, 255, 89)","rgb(255, 255, 0)","rgb(255, 209, 128)","rgb(255, 138, 128)","rgb(234, 128, 252)"],y=function(e){var t=e.backgroundColor,n=e.textColor,r=e.onClick,i=e.isSelected,a=[p.a.colorOption];return"transparent"===t&&a.push(p.a.colorOptionBorder,p.a.colorOptionTransparent),"#ffffff"===n&&a.push(p.a.colorOptionBorder),i&&(a.push(p.a.colorOptionSelected),t&&a.push(p.a.backgroundColorSelected),n&&a.push(p.a.textColorSelected)),o.a.createElement("div",{className:a.join(" "),style:{backgroundColor:t||n},onClick:r,"data-test":"color-option"},i&&o.a.createElement(s.Icon,{icon:"check",color:"black",size:"s"}))},b=function(e){var t=e.children,n=e.translations,i=e.editorElWrapper,a=e.trackUsage,d=e.eventHandler,g=e.closeTooltip,b=h(Object(r.useState)(""),2),w=b[0],_=b[1],x=h(Object(r.useState)(""),2),k=x[0],E=x[1],S=h(Object(r.useState)(!1),2),O=S[0],T=S[1],C=h(Object(r.useState)(null),2),A=C[0],P=C[1],I=function(e,t){var n="hiliteColor"===e?_:E;Object(u.C)(A),Object(l.b)({font:{title:t,value:t},commandName:e,setSelectedFont:n,setIsPopoverVisible:T}),a(null,"email_composer","interacted",{interaction:"font_color",wysiwyg_formatting:!0})};return Object(f.a)(i,d,"fontColorPicker",function(){var e=Object(l.a)("","style^=background-color").startContainer,t=Object(l.a)("","color").startContainer,n=e?m.filter(function(t){return t===e.style.backgroundColor}):[];n.length?_(n[0]):_(""),E(t?t.color:"")}),o.a.createElement(c.a,{isPopoverVisible:O,setIsPopoverVisible:T,closeTooltip:g,triggerButton:o.a.createElement("span",{className:p.a.fontPopoverTrigger,onClick:function(){return T(!O)}},t),setSelection:P},o.a.createElement("div",{className:p.a.colorPickerContent},o.a.createElement(s.Text,null,o.a.createElement(s.Spacing,{bottom:"xs",top:"none",horizontal:"none"},n.fontColor.backgroundColor)),o.a.createElement("div",{className:p.a.colorOptionsRow},m.map(function(e){return o.a.createElement(y,{key:"b".concat(e),backgroundColor:e,isSelected:e===w,onClick:function(){return I("hiliteColor",e)}})}),o.a.createElement(y,{transparent:!0,backgroundColor:"transparent",isSelected:"transparent"===w,onClick:function(){return I("hiliteColor","transparent")}})),o.a.createElement(s.Text,null,o.a.createElement(s.Spacing,{bottom:"xs",top:"s",horizontal:"none"},n.fontColor.color)),v.map(function(e,t){return o.a.createElement("div",{className:p.a.colorOptionsRow,key:t},e.map(function(e){return o.a.createElement(y,{key:e,textColor:e,isSelected:e===k,onClick:function(){return I("foreColor",e)}})}))})))};b.propTypes={children:a.a.node.isRequired,editorElWrapper:a.a.node.isRequired,translations:a.a.object.isRequired,trackUsage:a.a.object.isRequired,eventHandler:a.a.object.isRequired,closeTooltip:a.a.func.isRequired},t.a=b},function(e,t,n){var r=n(4),o=n(172);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){var r=n(71),o=n(5);e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},function(e,t,n){var r=n(6),o=n(107),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(6);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(106),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(72),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(5),o=/#|\.prototype\./,i=function(e,t){var n=s[a(e)];return n==l||n!=c&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},function(e,t,n){var r,o,i,a,s=n(6),c=n(5),l=n(89),u=n(136),f=n(85),d=n(137),p=n(115),h=s.setImmediate,g=s.clearImmediate,v=s.process,m=s.MessageChannel,y=s.Dispatch,b=0,w={};try{r=s.location}catch(e){}var _=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},x=function(e){return function(){_(e)}},k=function(e){_(e.data)},E=function(e){s.postMessage(String(e),r.protocol+"//"+r.host)};h&&g||(h=function(e){for(var t=[],n=arguments.length,r=1;n>r;)t.push(arguments[r++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},o(b),b},g=function(e){delete w[e]},p?o=function(e){v.nextTick(x(e))}:y&&y.now?o=function(e){y.now(x(e))}:m&&!d?(a=(i=new m).port2,i.port1.onmessage=k,o=l(a.postMessage,a,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&r&&"file:"!==r.protocol&&!c(E)?(o=E,s.addEventListener("message",k,!1)):o="onreadystatechange"in f("script")?function(e){u.appendChild(f("script")).onreadystatechange=function(){u.removeChild(this),_(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:h,clear:g}},function(e,t,n){var r=n(53),o=n(6);e.exports="process"==r(o.process)},function(e,t,n){var r=n(174);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){var r=n(9),o=n(57),i=n(33),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){var r=n(142);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(9)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r=n(145).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r={};r[n(9)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(13),o=n(185);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){var r=n(148),o=n(78),i=n(9)("iterator");e.exports=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(4),o=n(24),i=n(133),a=n(35),s=n(39),c=n(75);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),o=s.f,l=i(r),u={},f=0;l.length>f;)void 0!==(n=o(r,t=l[f++]))&&c(u,t,n);return u}})},function(e,t,n){"use strict";var r=n(4),o=n(39).f,i=n(26),a=n(22),s=n(119),c=n(31),l=n(120),u=n(55),f="".startsWith,d=Math.min,p=l("startsWith");r({target:"String",proto:!0,forced:!(!u&&!p&&!!function(){var e=o(String.prototype,"startsWith");return e&&!e.writable}())&&!p},{startsWith:function(e){var t=a(c(this));s(e);var n=i(d(arguments.length>1?arguments[1]:void 0,t.length)),r=a(e);return f?f.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",g={};function v(){}function m(){}function y(){}var b={};c(b,i,function(){return this});var w=Object.getPrototypeOf,_=w&&w(w(A([])));_&&_!==n&&r.call(_,i)&&(b=_);var x=y.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;this._invoke=function(o,i){function a(){return new t(function(n,a){!function n(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(f).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return m.prototype=y,c(x,"constructor",y),c(y,"constructor",m),m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(E.prototype),c(E.prototype,a,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},k(x),c(x,s,"Generator"),c(x,i,function(){return this}),c(x,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,r){var o;(function(){var r=!1,i=function(e){return e instanceof i?e:this instanceof i?void(this.EXIFwrapped=e):new i(e)};e.exports&&(t=e.exports=i),t.EXIF=i;var a=i.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=i.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},c=i.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l=i.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},u=i.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function f(e){return!!e.exifdata}function d(e,t){function n(n){var o=p(n);e.exifdata=o||{};var a=function(e){var t=new DataView(e);r&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;var n=2,o=e.byteLength,i=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;n<o;){if(i(t,n)){var a=t.getUint8(n+7);a%2!=0&&(a+=1),0===a&&(a=4);var s=n+8+a,c=t.getUint16(n+6+a);return g(e,s,c)}n++}}(n);if(e.iptcdata=a||{},i.isXmpEnabled){var s=function(e){if(!("DOMParser"in self))return;var t=new DataView(e);r&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;var n=2,o=e.byteLength,i=new DOMParser;for(;n<o-4;){if("http"==y(t,n,4)){var a=n-1,s=t.getUint16(n-2)-1,c=y(t,a,s),l=c.indexOf("xmpmeta>")+8,u=(c=c.substring(c.indexOf("<x:xmpmeta"),l)).indexOf("x:xmpmeta")+10;c=c.slice(0,u)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+c.slice(u);var f=i.parseFromString(c,"text/xml");return _(f)}n++}}(n);e.xmpdata=s||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,o=new ArrayBuffer(r),i=new Uint8Array(o),a=0;a<r;a++)i[a]=n.charCodeAt(a);return o}(e.src));else if(/^blob\:/i.test(e.src)){(a=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,function(e){a.readAsArrayBuffer(e)})}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(o.response),o=null},o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var a;(a=new FileReader).onload=function(e){r&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},a.readAsArrayBuffer(e)}}function p(e){var t=new DataView(e);if(r&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;for(var n,o=2,i=e.byteLength;o<i;){if(255!=t.getUint8(o))return r&&console.log("Not a valid marker at offset "+o+", found: "+t.getUint8(o)),!1;if(n=t.getUint8(o+1),r&&console.log(n),225==n)return r&&console.log("Found 0xFFE1 marker"),b(t,o+4,t.getUint16(o+2));o+=2+t.getUint16(o+2)}}var h={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function g(e,t,n){for(var r,o,i,a,s=new DataView(e),c={},l=t;l<t+n;)28===s.getUint8(l)&&2===s.getUint8(l+1)&&(a=s.getUint8(l+2))in h&&((i=s.getInt16(l+3))+5,o=h[a],r=y(s,l+5,i),c.hasOwnProperty(o)?c[o]instanceof Array?c[o].push(r):c[o]=[c[o],r]:c[o]=r),l++;return c}function v(e,t,n,o,i){var a,s,c,l=e.getUint16(n,!i),u={};for(c=0;c<l;c++)a=n+12*c+2,!(s=o[e.getUint16(a,!i)])&&r&&console.log("Unknown tag: "+e.getUint16(a,!i)),u[s]=m(e,a,t,n,i);return u}function m(e,t,n,r,o){var i,a,s,c,l,u,f=e.getUint16(t+2,!o),d=e.getUint32(t+4,!o),p=e.getUint32(t+8,!o)+n;switch(f){case 1:case 7:if(1==d)return e.getUint8(t+8,!o);for(i=d>4?p:t+8,a=[],c=0;c<d;c++)a[c]=e.getUint8(i+c);return a;case 2:return y(e,i=d>4?p:t+8,d-1);case 3:if(1==d)return e.getUint16(t+8,!o);for(i=d>2?p:t+8,a=[],c=0;c<d;c++)a[c]=e.getUint16(i+2*c,!o);return a;case 4:if(1==d)return e.getUint32(t+8,!o);for(a=[],c=0;c<d;c++)a[c]=e.getUint32(p+4*c,!o);return a;case 5:if(1==d)return l=e.getUint32(p,!o),u=e.getUint32(p+4,!o),(s=new Number(l/u)).numerator=l,s.denominator=u,s;for(a=[],c=0;c<d;c++)l=e.getUint32(p+8*c,!o),u=e.getUint32(p+4+8*c,!o),a[c]=new Number(l/u),a[c].numerator=l,a[c].denominator=u;return a;case 9:if(1==d)return e.getInt32(t+8,!o);for(a=[],c=0;c<d;c++)a[c]=e.getInt32(p+4*c,!o);return a;case 10:if(1==d)return e.getInt32(p,!o)/e.getInt32(p+4,!o);for(a=[],c=0;c<d;c++)a[c]=e.getInt32(p+8*c,!o)/e.getInt32(p+4+8*c,!o);return a}}function y(e,t,r){var o="";for(n=t;n<t+r;n++)o+=String.fromCharCode(e.getUint8(n));return o}function b(e,t){if("Exif"!=y(e,t,4))return r&&console.log("Not valid EXIF data! "+y(e,t,4)),!1;var n,o,i,f,d,p=t+6;if(18761==e.getUint16(p))n=!1;else{if(19789!=e.getUint16(p))return r&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(p+2,!n))return r&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var h=e.getUint32(p+4,!n);if(h<8)return r&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(p+4,!n)),!1;if((o=v(e,p,p+h,s,n)).ExifIFDPointer)for(i in f=v(e,p,p+o.ExifIFDPointer,a,n)){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":f[i]=u[i][f[i]];break;case"ExifVersion":case"FlashpixVersion":f[i]=String.fromCharCode(f[i][0],f[i][1],f[i][2],f[i][3]);break;case"ComponentsConfiguration":f[i]=u.Components[f[i][0]]+u.Components[f[i][1]]+u.Components[f[i][2]]+u.Components[f[i][3]]}o[i]=f[i]}if(o.GPSInfoIFDPointer)for(i in d=v(e,p,p+o.GPSInfoIFDPointer,c,n)){switch(i){case"GPSVersionID":d[i]=d[i][0]+"."+d[i][1]+"."+d[i][2]+"."+d[i][3]}o[i]=d[i]}return o.thumbnail=function(e,t,n,r){var o=function(e,t,n){var r=e.getUint16(t,!n);return e.getUint32(t+2+12*r,!n)}(e,t+n,r);if(!o)return{};if(o>e.byteLength)return{};var i=v(e,t,t+o,l,r);if(i.Compression)switch(i.Compression){case 6:if(i.JpegIFOffset&&i.JpegIFByteCount){var a=t+i.JpegIFOffset,s=i.JpegIFByteCount;i.blob=new Blob([new Uint8Array(e.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",i.Compression)}else 2==i.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return i}(e,p,h,n),o}function w(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);t["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var o=0;o<e.childNodes.length;o++){var i=e.childNodes.item(o),a=i.nodeName;if(null==t[a])t[a]=w(i);else{if(null==t[a].push){var s=t[a];t[a]=[],t[a].push(s)}t[a].push(w(i))}}return t}function _(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children.item(n),o=r.attributes;for(var i in o){var a=o[i],s=a.nodeName,c=a.nodeValue;void 0!==s&&(t[s]=c)}var l=r.nodeName;if(void 0===t[l])t[l]=w(r);else{if(void 0===t[l].push){var u=t[l];t[l]=[],t[l].push(u)}t[l].push(w(r))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}i.enableXmp=function(){i.isXmpEnabled=!0},i.disableXmp=function(){i.isXmpEnabled=!1},i.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(f(e)?t&&t.call(e):d(e,t),!0)},i.getTag=function(e,t){if(f(e))return e.exifdata[t]},i.getIptcTag=function(e,t){if(f(e))return e.iptcdata[t]},i.getAllTags=function(e){if(!f(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},i.getAllIptcTags=function(e){if(!f(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},i.pretty=function(e){if(!f(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},i.readFromBinaryFile=function(e){return p(e)},void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o)}).call(this)},function(e,t,n){var r=n(19),o=n(70),i=n(170),a=n(9)("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var n,s=e[a];if(void 0!==s){if(void 0===t&&(t="default"),n=s.call(e,t),!r(n)||o(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),i(e,t)}},function(e,t,n){var r=n(105);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(24),o=n(5),i=n(85);e.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(25),o=n(133),i=n(39),a=n(33);e.exports=function(e,t){for(var n=o(t),s=a.f,c=i.f,l=0;l<n.length;l++){var u=n[l];r(e,u)||s(e,u,c(t,u))}}},function(e,t,n){var r=n(47),o=n(88),i=n(112),a=n(13);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(25),o=n(35),i=n(135).indexOf,a=n(87);e.exports=function(e,t){var n,s=o(e),c=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(35),o=n(26),i=n(110),a=function(e){return function(t,n,a){var s,c=r(t),l=o(c.length),u=i(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(47);e.exports=r("document","documentElement")},function(e,t,n){var r=n(54);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(85)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},function(e,t,n){var r=n(31),o=n(22),i="["+n(141)+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(e){return function(t){var n=o(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){var r=n(19),o=n(53),i=n(9)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){"use strict";var r=n(13);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(5),o=n(6).RegExp;t.UNSUPPORTED_Y=r(function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),t.BROKEN_CARET=r(function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},function(e,t,n){var r=n(72),o=n(22),i=n(31),a=function(e){return function(t,n){var a,s,c=o(i(t)),l=r(n),u=c.length;return l<0||l>=u?e?"":void 0:(a=c.charCodeAt(l))<55296||a>56319||l+1===u||(s=c.charCodeAt(l+1))<56320||s>57343?e?c.charAt(l):a:e?c.slice(l,l+2):s-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){var r=n(9);t.f=r},function(e,t,n){var r=n(182),o=n(25),i=n(146),a=n(33).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,n){var r=n(122),o=n(53),i=n(9)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var r=n(4),o=n(184),i=n(96),a=n(123),s=n(95),c=n(44),l=n(45),u=n(9),f=n(55),d=n(78),p=n(150),h=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=u("iterator"),m=function(){return this};e.exports=function(e,t,n,u,p,y,b){o(n,t,u);var w,_,x,k=function(e){if(e===p&&C)return C;if(!g&&e in O)return O[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",S=!1,O=e.prototype,T=O[v]||O["@@iterator"]||p&&O[p],C=!g&&T||k(p),A="Array"==t&&O.entries||T;if(A&&(w=i(A.call(new e)))!==Object.prototype&&w.next&&(f||i(w)===h||(a?a(w,h):"function"!=typeof w[v]&&c(w,v,m)),s(w,E,!0,!0),f&&(d[E]=m)),"values"==p&&T&&"values"!==T.name&&(S=!0,C=function(){return T.call(this)}),f&&!b||O[v]===C||c(O,v,C),d[t]=C,p)if(_={values:k("values"),keys:y?C:k("keys"),entries:k("entries")},b)for(x in _)!g&&!S&&x in O||l(O,x,_[x]);else r({target:t,proto:!0,forced:g||S},_);return _}},function(e,t,n){"use strict";var r,o,i,a=n(5),s=n(57),c=n(96),l=n(44),u=n(9),f=n(55),d=u("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=c(c(i)))!==Object.prototype&&(r=o):p=!0),void 0==r||a(function(){var e={};return r[d].call(e)!==e})?r={}:f&&(r=s(r)),"function"!=typeof r[d]&&l(r,d,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var r=n(5);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(13);e.exports=function(e,t,n){var o,i;r(e);try{if(void 0===(o=e.return)){if("throw"===t)throw n;return n}o=o.call(e)}catch(e){i=!0,o=e}if("throw"===t)throw n;if(i)throw o;return r(o),n}},function(e,t,n){var r=n(9),o=n(78),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){var r=n(13),o=n(124);e.exports=function(e,t){var n=arguments.length<2?o(e):t;if("function"!=typeof n)throw TypeError(String(e)+" is not iterable");return r(n.call(e))}},function(e,t,n){var r=n(9)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(31),o=n(22),i=/"/g;e.exports=function(e,t,n,a){var s=o(r(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+o(a).replace(i,"&quot;")+'"'),c+">"+s+"</"+t+">"}},function(e,t,n){var r=n(5);e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},function(e,t,n){"use strict";var r=n(24),o=n(6),i=n(113),a=n(45),s=n(25),c=n(53),l=n(189),u=n(70),f=n(129),d=n(5),p=n(57),h=n(88).f,g=n(39).f,v=n(33).f,m=n(140).trim,y=o.Number,b=y.prototype,w="Number"==c(p(b)),_=function(e){if(u(e))throw TypeError("Cannot convert a Symbol value to a number");var t,n,r,o,i,a,s,c,l=f(e,"number");if("string"==typeof l&&l.length>2)if(43===(t=(l=m(l)).charCodeAt(0))||45===t){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(a=(i=l.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||c>o)return NaN;return parseInt(i,r)}return+l};if(i("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var x,k=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof k&&(w?d(function(){b.valueOf.call(n)}):"Number"!=c(n))?l(new y(_(t)),n,k):_(t)},E=r?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;E.length>S;S++)s(y,x=E[S])&&!s(k,x)&&v(k,x,g(y,x));k.prototype=b,b.constructor=k,a(o,"Number",k)}},function(e,t,n){var r=n(13),o=n(56),i=n(9)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){"use strict";var r=n(45),o=n(13),i=n(22),a=n(5),s=n(143),c=RegExp.prototype,l=c.toString,u=a(function(){return"/a/b"!=l.call({source:"a",flags:"b"})}),f="toString"!=l.name;(u||f)&&r(RegExp.prototype,"toString",function(){var e=o(this),t=i(e.source),n=e.flags;return"/"+t+"/"+i(void 0===n&&e instanceof RegExp&&!("flags"in c)?s.call(e):n)},{unsafe:!0})},function(e,t,n){"use strict";var r=n(4),o=n(156);r({target:"String",proto:!0,forced:n(157)("link")},{link:function(e){return o(this,"a","href",e)}})},function(e,t,n){"use strict";var r=n(56);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";var r=n(93),o=n(13),i=n(31),a=n(216),s=n(22),c=n(94);r("search",function(e,t,n){return[function(t){var n=i(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](s(n))},function(e){var r=o(this),i=s(e),l=n(t,r,i);if(l.done)return l.value;var u=r.lastIndex;a(u,0)||(r.lastIndex=0);var f=c(r,i);return a(r.lastIndex,u)||(r.lastIndex=u),null===f?-1:f.index}]})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(64);var r=n(34),o=function(e){for(var t=0,n=Object.keys(r.a);t<n.length;t++){var o=n[t],i=".toolbar_".concat(o);if(e.target.matches(i))return{target:e.target,type:o};var a=e.target.querySelector(i);if(a)return{target:a,type:o};var s=e.target.closest(i);if(s)return{target:s,type:o}}return{target:null,type:null}}},function(e,t,n){var r=n(193);"string"==typeof r&&(r=[[e.i,r,""]]);n(50)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){e.exports={debounce:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2?arguments[2]:void 0;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return clearTimeout(n,n=setTimeout(function(){return e.apply(void 0,o)},t))}}}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(168),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(80))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){u(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(u,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},c.clearImmediate=l}function l(e){delete i[e]}function u(e){if(a)setTimeout(u,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{l(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(80),n(169))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,f=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):f=-1,l.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(19);e.exports=function(e,t){var n,o;if("string"===t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if("string"!==t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(6),o=n(109),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,n){"use strict";var r=n(24),o=n(5),i=n(73),a=n(112),s=n(81),c=n(32),l=n(82),u=Object.assign,f=Object.defineProperty;e.exports=!u||o(function(){if(r&&1!==u({b:1},u(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=i(u({},t)).join("")})?function(e,t){for(var n=c(e),o=arguments.length,u=1,f=a.f,d=s.f;o>u;)for(var p,h=l(arguments[u++]),g=f?i(h).concat(f(h)):i(h),v=g.length,m=0;v>m;)p=g[m++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:u},function(e,t,n){var r=n(4),o=n(6),i=n(114);r({global:!0,bind:!0,enumerable:!0,forced:!o.setImmediate||!o.clearImmediate},{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){var r=n(19),o=n(91),i=n(9)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)?r(t)&&null===(t=t[i])&&(t=void 0):t=void 0),void 0===t?Array:t}},function(e,t,n){var r=n(24),o=n(33),i=n(13),a=n(73);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=r.length,c=0;s>c;)o.f(e,n=r[c++],t[n]);return e}},function(e,t,n){"use strict";var r=n(74).forEach,o=n(118)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(5),o=n(141);e.exports=function(e){return r(function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e})}},function(e,t,n){var r=n(5),o=n(6).RegExp;e.exports=r(function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})},function(e,t,n){var r=n(5),o=n(6).RegExp;e.exports=r(function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})},function(e,t,n){var r=n(32),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,c,l,u){var f=n+e.length,d=c.length,p=s;return void 0!==l&&(l=r(l),p=a),i.call(u,p,function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":a=l[i.slice(1,-1)];break;default:var s=+i;if(0===s)return r;if(s>d){var u=o(s/10);return 0===u?r:u<=d?void 0===c[u-1]?i.charAt(1):c[u-1]+i.charAt(1):r}a=c[s-1]}return void 0===a?"":a})}},function(e,t,n){var r=n(35),o=n(88).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(6);e.exports=r},function(e,t,n){"use strict";var r=n(122),o=n(148);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,n){"use strict";var r=n(150).IteratorPrototype,o=n(57),i=n(69),a=n(95),s=n(78),c=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,l,!1,!0),s[l]=c,e}},function(e,t,n){var r=n(19);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(89),o=n(32),i=n(187),a=n(153),s=n(26),c=n(75),l=n(154),u=n(124);e.exports=function(e){var t,n,f,d,p,h,g=o(e),v="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,b=void 0!==y,w=u(g),_=0;if(b&&(y=r(y,m>2?arguments[2]:void 0,2)),void 0==w||v==Array&&a(w))for(n=new v(t=s(g.length));t>_;_++)h=b?y(g[_],_):g[_],c(n,_,h);else for(p=(d=l(g,w)).next,n=new v;!(f=p.call(d)).done;_++)h=b?i(d,y,[f.value,_],!0):f.value,c(n,_,h);return n.length=_,n}},function(e,t,n){var r=n(13),o=n(152);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},function(e,t,n){"use strict";var r=n(4),o=n(156);r({target:"String",proto:!0,forced:n(157)("small")},{small:function(){return o(this,"small","","")}})},function(e,t,n){var r=n(19),o=n(123);e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},function(e,t,n){(t=e.exports=n(49)(!1)).push([e.i,'.wysiwyg__wysiwyg___LkGyK{word-wrap:break-word}.wysiwyg__wysiwyg___LkGyK.wysiwyg__default___3LkFX{background-color:#fff}.wysiwyg__wysiwyg___LkGyK.wysiwyg__note___31VtN{background-color:#fffcdc}.wysiwyg__bodyContent___3uP7u{overflow:auto;border:1px solid #cbcccd;border-bottom:none;display:flex;flex-direction:column}.wysiwyg__editor___3I9w4{outline:none;box-sizing:border-box;padding:12px 16px;border-bottom:none;flex:2;overflow:auto}.wysiwyg__editor___3I9w4 tbody,.wysiwyg__editor___3I9w4 tr,.wysiwyg__editor___3I9w4 td{border:1px solid #e5e5e5}.wysiwyg__editor___3I9w4 table[data-type="scheduler-snippet"] tbody,.wysiwyg__editor___3I9w4 table[data-type="scheduler-snippet"] tr,.wysiwyg__editor___3I9w4 table[data-type="scheduler-snippet"] td,.wysiwyg__editor___3I9w4 div[data-smartmail="gmail_signature"] tbody,.wysiwyg__editor___3I9w4 div[data-smartmail="gmail_signature"] tr,.wysiwyg__editor___3I9w4 div[data-smartmail="gmail_signature"] td{border:none}.wysiwyg__editor___3I9w4 td{line-height:20px;padding:6px 8px;text-align:left}.wysiwyg__editor___3I9w4 th{font-weight:600}.wysiwyg__editor___3I9w4 a:not(a.cui4-user-chip){color:#317ae2}.wysiwyg__editor___3I9w4 b,.wysiwyg__editor___3I9w4 strong{font-weight:bold}.wysiwyg__editor___3I9w4 em,.wysiwyg__editor___3I9w4 i{font-style:italic}.wysiwyg__editor___3I9w4 u{text-decoration:underline}.wysiwyg__editor___3I9w4 ul{list-style:disc}.wysiwyg__editor___3I9w4 ol{list-style:decimal}.wysiwyg__editor___3I9w4 ul,.wysiwyg__editor___3I9w4 ol{margin-top:1em;margin-bottom:1em;padding:0 2.5em 0 2.5em;padding-inline-start:2.5em;padding-inline-end:0}.wysiwyg__editor___3I9w4 ul ul,.wysiwyg__editor___3I9w4 ul ol,.wysiwyg__editor___3I9w4 ol ul,.wysiwyg__editor___3I9w4 ol ol{margin-top:0;margin-bottom:0}.wysiwyg__editor___3I9w4 font[size="6"]{line-height:normal}.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL ul,.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL ol{display:inline;margin:0;padding:0}.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL ul li,.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL ol li{position:relative;display:inline;margin-left:16px}.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL ul li:last-child,.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL ol li:last-child{margin-right:5px}.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL ol{counter-reset:numList}.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL ol li:before{position:absolute;left:-16px;counter-increment:numList;content:counter(numList, decimal) "."}.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL ul li:before{position:absolute;left:-14px;top:8px;content:\'\';width:4px;height:4px;background:#26292c;border-radius:2px}.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL div{display:inline}.wysiwyg__editor___3I9w4.wysiwyg__isInline___11qLL br{display:none}.wysiwyg__editor___3I9w4 blockquote{margin:0 0 0 .8em;border-left:2px #317ae2 solid;padding-left:1em}.wysiwyg__colorOptionsRow___1PeUP{display:flex}.wysiwyg__colorOption___12yvU{width:24px;height:24px;margin:2px;box-sizing:border-box}.wysiwyg__colorOption___12yvU.wysiwyg__colorOptionBorder___3HuSc{border:1px solid #e5e5e5}.wysiwyg__colorOption___12yvU.wysiwyg__colorOptionSelected___14CJY{display:flex;align-items:center;justify-content:center}.wysiwyg__colorOption___12yvU.wysiwyg__colorOptionSelected___14CJY.wysiwyg__backgroundColorSelected___32-6n svg{fill:#26292c}.wysiwyg__colorOption___12yvU.wysiwyg__colorOptionSelected___14CJY.wysiwyg__textColorSelected___2ETb8 svg{fill:#fff}.wysiwyg__colorOption___12yvU.wysiwyg__colorOptionSelected___14CJY.wysiwyg__colorOptionBorder___3HuSc svg{fill:#26292c}.wysiwyg__colorOption___12yvU.wysiwyg__colorOptionSelected___14CJY.wysiwyg__colorOptionTransparent___1eM-V svg{fill:none}.wysiwyg__colorOption___12yvU:hover{border:1px solid #fff;outline:1px solid #26292c}.wysiwyg__colorOptionTransparent___1eM-V{background:linear-gradient(-45deg, #fff 48%, #f94839 50%, #fff 52%)}.wysiwyg__fontPopover___2DL-x{text-align:left}.wysiwyg__fontPopoverTrigger___1jPdh{display:flex}.wysiwyg__colorPickerContent___iJsEW{padding:4px 12px}.editorWrapper{overflow:auto}.editorWrapper.filedropping{animation:.5s infinite alternate pulsate;outline:2px dashed;outline-offset:-5px}@keyframes pulsate{0%{outline-color:#b9babb}100%{outline-color:#fff}}.editorWrapper.filedropping.dropActive{animation:none;outline:2px dashed #317ae2;outline-offset:-5px}\n',""]),t.locals={wysiwyg:"wysiwyg__wysiwyg___LkGyK",default:"wysiwyg__default___3LkFX",note:"wysiwyg__note___31VtN",bodyContent:"wysiwyg__bodyContent___3uP7u",editor:"wysiwyg__editor___3I9w4",isInline:"wysiwyg__isInline___11qLL",colorOptionsRow:"wysiwyg__colorOptionsRow___1PeUP",colorOption:"wysiwyg__colorOption___12yvU",colorOptionBorder:"wysiwyg__colorOptionBorder___3HuSc",colorOptionSelected:"wysiwyg__colorOptionSelected___14CJY",backgroundColorSelected:"wysiwyg__backgroundColorSelected___32-6n",textColorSelected:"wysiwyg__textColorSelected___2ETb8",colorOptionTransparent:"wysiwyg__colorOptionTransparent___1eM-V",fontPopover:"wysiwyg__fontPopover___2DL-x",fontPopoverTrigger:"wysiwyg__fontPopoverTrigger___1jPdh",colorPickerContent:"wysiwyg__colorPickerContent___iJsEW"}},function(e,t,n){var r=n(4),o=n(192).values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},function(e,t,n){var r=n(24),o=n(73),i=n(35),a=n(81).f,s=function(e){return function(t){for(var n,s=i(t),c=o(s),l=c.length,u=0,f=[];l>u;)n=c[u++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){(t=e.exports=n(49)(!1)).push([e.i,'.editor-tooltip__editorTooltip___3rVjE:after{font:400 13px/16px "Source Sans Pro",sans-serif;color:#fff}.editor-tooltip__editorTooltip___3rVjE{position:relative}.editor-tooltip__editorTooltip___3rVjE:after{display:none;position:absolute;content:attr(data-editor-tooltip);padding:4px 8px;background:rgba(0,0,0,0.76);z-index:8001;transform:translateX(-50%) translateY(0);top:-30px;left:50%;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap}.editor-tooltip__editorTooltip___3rVjE:hover:after{display:block}\n',""]),t.locals={editorTooltip:"editor-tooltip__editorTooltip___3rVjE"}},function(e,t,n){"use strict";var r=n(56),o=n(19),i=[].slice,a={};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),s=function(){var r=n.concat(i.call(arguments));return this instanceof s?function(e,t,n){if(!(t in a)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)}(t,r.length,r):t.apply(e,r)};return o(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){var r=n(196);"string"==typeof r&&(r=[[e.i,r,""]]);n(50)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(49)(!1)).push([e.i,'div[contenteditable] input[type=text]{font:400 15px/20px "Source Sans Pro",sans-serif}div[contenteditable] input[type=text]{width:auto;border-radius:2px;border:1px solid #cbcccd;box-shadow:inset 0 1px 2px #eee;box-sizing:border-box;display:inline-block;padding:1px 8px;height:24px;color:#26292c}div[contenteditable] input[type=text][data-pipefield=person],div[contenteditable] input[type=text][data-pipefield=organization],div[contenteditable] input[type=text][data-pipefield=lead],div[contenteditable] input[type=text][data-pipefield=deal],div[contenteditable] input[type=text][data-pipefield=user]{padding-left:32px;background-repeat:no-repeat;background-position:8px;background-size:16px}div[contenteditable] input[type=text][data-pipefield=person]:focus,div[contenteditable] input[type=text][data-pipefield=organization]:focus,div[contenteditable] input[type=text][data-pipefield=lead]:focus,div[contenteditable] input[type=text][data-pipefield=deal]:focus,div[contenteditable] input[type=text][data-pipefield=user]:focus{padding:1px 8px 1px 32px;height:24px}div[contenteditable] input[type=text][data-pipefield=person].empty-error,div[contenteditable] input[type=text][data-pipefield=organization].empty-error,div[contenteditable] input[type=text][data-pipefield=lead].empty-error,div[contenteditable] input[type=text][data-pipefield=deal].empty-error,div[contenteditable] input[type=text][data-pipefield=user].empty-error{background-size:16px}div[contenteditable] input[type=text].empty-error{border:1px solid #f94839}div[contenteditable] input[type=text].empty-error:focus{border:1px solid #f94839}div[contenteditable] input[type=text].selected-highlight{background-color:#cedff8 !important;border:1px solid #bdd4f5;box-shadow:none}div[contenteditable] input[type=text].autofilled-data{background-color:#fff7d6}div[contenteditable] input[type=text]:focus{border:1px solid #317ae2;box-shadow:inset 0 1px 2px rgba(49,122,226,0.08);outline:none;padding:1px 8px;height:24px}div[contenteditable] input[type=text]:disabled{background-color:#f7f7f7;color:#747678}div[contenteditable] input[data-pipefield=person]{background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path style="fill:%23404346" d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 1.5c-2 0-6 1-6 3V14h12v-1.5c0-2-4-3-6-3z"/></svg>\')}div[contenteditable] input[data-pipefield=person].empty-error{background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path style="fill:%23e84646" d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 1.5c-2 0-6 1-6 3V14h12v-1.5c0-2-4-3-6-3z"/></svg>\')}div[contenteditable] input[data-pipefield=organization]{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path style="fill:%23404346" d="M2 2h7v12H2V2zm8 3l1.71-1h.58L14 5v9h-4V5zm1 2v1h2V7h-2zm0 4v1h2v-1h-2zm0-2v1h2V9h-2zM3 5v1h2V5H3zm0 2v1h2V7H3zm0 2v1h2V9H3zm0 2v1h2v-1H3zm3-6v1h2V5H6zm0 2v1h2V7H6zm0 2v1h2V9H6zm0 2v1h2v-1H6z"/></svg>\')}div[contenteditable] input[data-pipefield=organization].empty-error{background-image:url(\'data:image/svg+xml;utf8,\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path style="fill:%23e84646" d="M2 2h7v12H2V2zm8 3l1.71-1h.58L14 5v9h-4V5zm1 2v1h2V7h-2zm0 4v1h2v-1h-2zm0-2v1h2V9h-2zM3 5v1h2V5H3zm0 2v1h2V7H3zm0 2v1h2V9H3zm0 2v1h2v-1H3zm3-6v1h2V5H6zm0 2v1h2V7H6zm0 2v1h2V9H6zm0 2v1h2v-1H6z"/></svg>\')}div[contenteditable] input[data-pipefield=lead]{background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path style="fill:%23404346" d="M13 1v2.05A9 9 0 0 1 20.95 11H23v2h-2.05A9 9 0 0 1 13 20.95V23h-2v-2.05A9 9 0 0 1 3.05 13H1v-2h2.05A9 9 0 0 1 11 3.05V1h2zm-1 4a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm0 3a4 4 0 1 1 0 8 4 4 0 0 1 0-8z"/></svg>\')}div[contenteditable] input[data-pipefield=lead].empty-error{background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path style="fill:%23e84646" d="M13 1v2.05A9 9 0 0 1 20.95 11H23v2h-2.05A9 9 0 0 1 13 20.95V23h-2v-2.05A9 9 0 0 1 3.05 13H1v-2h2.05A9 9 0 0 1 11 3.05V1h2zm-1 4a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm0 3a4 4 0 1 1 0 8 4 4 0 0 1 0-8z"/></svg>\')}div[contenteditable] input[data-pipefield=deal]{background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path style="fill:%23404346" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm.26-8.71c-1.5-.39-1.97-.78-1.97-1.4 0-.7.66-1.2 1.77-1.2 1.16 0 1.6.56 1.64 1.37h1.44a2.6 2.6 0 0 0-2.1-2.47V2.17H7.08v1.4c-1.27.27-2.3 1.09-2.3 2.34 0 1.5 1.26 2.24 3.08 2.67 1.64.4 1.97.96 1.97 1.57 0 .44-.32 1.16-1.77 1.16-1.35 0-1.88-.6-1.95-1.37H4.67c.08 1.42 1.15 2.22 2.4 2.49v1.4h1.97v-1.39c1.28-.24 2.3-.97 2.3-2.3 0-1.84-1.6-2.47-3.08-2.85z"/></svg>\')}div[contenteditable] input[data-pipefield=deal].empty-error{background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path style="fill:%23e84646" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm.26-8.71c-1.5-.39-1.97-.78-1.97-1.4 0-.7.66-1.2 1.77-1.2 1.16 0 1.6.56 1.64 1.37h1.44a2.6 2.6 0 0 0-2.1-2.47V2.17H7.08v1.4c-1.27.27-2.3 1.09-2.3 2.34 0 1.5 1.26 2.24 3.08 2.67 1.64.4 1.97.96 1.97 1.57 0 .44-.32 1.16-1.77 1.16-1.35 0-1.88-.6-1.95-1.37H4.67c.08 1.42 1.15 2.22 2.4 2.49v1.4h1.97v-1.39c1.28-.24 2.3-.97 2.3-2.3 0-1.84-1.6-2.47-3.08-2.85z"/></svg>\')}div[contenteditable] input[data-pipefield=user]{background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%"><path d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 3a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm0 14.2a7.2 7.2 0 0 0 6-3.22c-.03-1.99-4.01-3.08-6-3.08-2 0-5.97 1.09-6 3.08a7.2 7.2 0 0 0 6 3.22z"></path></svg>\')}div[contenteditable] input[data-pipefield=user].empty-error{background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%"><path style="fill:%23e84646" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 3a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm0 14.2a7.2 7.2 0 0 0 6-3.22c-.03-1.99-4.01-3.08-6-3.08-2 0-5.97 1.09-6 3.08a7.2 7.2 0 0 0 6 3.22z"></path></svg>\')}\n',""])},function(e,t,n){(t=e.exports=n(49)(!1)).push([e.i,".image-resizer__resizerPopover___7PSXU{font:600 11px/16px \"Source Sans Pro\",sans-serif;letter-spacing:.04em;text-transform:uppercase}@keyframes image-resizer__spin___1Va9X{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.image-resizer__imagePlaceholder___Qm9xg{background-color:#f3f5f6;border:1px solid #4a8ae6;position:relative;display:inline-block;color:#f3f5f6;box-sizing:border-box}.image-resizer__imagePlaceholderSpinner___1AHlz{position:absolute;height:24px;width:24px;top:50%;margin-top:-12px;left:50%;margin-left:-12px;animation-name:image-resizer__ckw___3L9vY;animation-duration:1s;animation-iteration-count:infinite;transform-origin:50% 50%;-webkit-animation:image-resizer__spin___1Va9X 1s infinite linear;-moz-animation:image-resizer__spin___1Va9X 1s infinite linear;-ms-animation:image-resizer__spin___1Va9X 1s infinite linear;-o-animation:image-resizer__spin___1Va9X 1s infinite linear;animation:image-resizer__spin___1Va9X 1s infinite linear}.image-resizer__temporaryImageResizerWrapper___1ORmM{position:relative;display:inline-block}.image-resizer__temporaryImageResizerWrapper___1ORmM img{display:block}.image-resizer__resizeFrame___2TUO6{outline:1px solid #317ae2;outline-offset:-1px;position:absolute;pointer-events:none}@-moz-document url-prefix(){.image-resizer__resizeFrame___2TUO6{outline-offset:-5px}}.image-resizer__resizeFrameBubble___bOi5e{position:absolute;width:5px;height:5px;border:2px solid #317ae2;border-radius:100px;background:#fff;pointer-events:all}.image-resizer__resizeTL___1DU9o{top:-4px;left:-4px;cursor:nwse-resize}.image-resizer__resizeTR___2Qc39{top:-4px;right:-4px;cursor:nesw-resize}.image-resizer__resizeBL___ch9ms{bottom:-4px;left:-4px;cursor:nesw-resize}.image-resizer__resizeBR___3rGi2{bottom:-4px;right:-4px;cursor:nwse-resize}.image-resizer__resizerPopover___7PSXU{padding:12px 16px}.image-resizer__resizerPopover___7PSXU .image-resizer__option___218KC{display:block;float:left;vertical-align:middle;color:#317ae2;text-transform:uppercase}.image-resizer__resizerPopover___7PSXU .image-resizer__option___218KC::after{content:'\\B7';color:#747678;padding-left:8px}.image-resizer__resizerPopover___7PSXU .image-resizer__option___218KC:not(:last-child){padding-right:8px}.image-resizer__resizerPopover___7PSXU .image-resizer__option___218KC:last-child::after{content:'';padding:0}.image-resizer__resizerPopover___7PSXU .image-resizer__activeOption___3gqk8 .image-resizer__link___2Py-L{color:#747678;cursor:default;text-decoration:none}.image-resizer__resizerPopover___7PSXU .image-resizer__link___2Py-L{display:block;float:left;vertical-align:middle;color:#317ae2;text-decoration:none}.image-resizer__resizerPopover___7PSXU .image-resizer__link___2Py-L:hover{text-decoration:underline;cursor:pointer}.image-resizer__resizerPopover___7PSXU .image-resizer__bestFit___1AO8a{border-right:1px solid rgba(0,0,0,0.16)}.image-resizer__resizerPopover___7PSXU .image-resizer__bestFit___1AO8a::after{content:'';padding:0}.image-resizer__resizerPopover___7PSXU .image-resizer__remove___16_eV{padding-left:8px}.image-resizer__imageResizerPopover___gk66j{padding:16px}.image-resizer__imageResizerPopover___gk66j .image-resizer__popoverRow___21eoF{display:table-row}.image-resizer__imageResizerPopover___gk66j .image-resizer__extraMargin___2yVxc{margin-bottom:8px}.image-resizer__imageResizerPopover___gk66j .image-resizer__popoverLabel___dMQj8{display:table-cell}.image-resizer__imageResizerPopover___gk66j .image-resizer__inputText___23F7h{margin-left:16px;width:320px}.image-resizer__imageResizerPopover___gk66j .image-resizer__inputSave___bpe2K{margin-left:8px;width:auto;height:32px;background:#43c35e;color:#fff;border:none}\n",""]),t.locals={resizerPopover:"image-resizer__resizerPopover___7PSXU",imagePlaceholder:"image-resizer__imagePlaceholder___Qm9xg",imagePlaceholderSpinner:"image-resizer__imagePlaceholderSpinner___1AHlz",ckw:"image-resizer__ckw___3L9vY",spin:"image-resizer__spin___1Va9X",temporaryImageResizerWrapper:"image-resizer__temporaryImageResizerWrapper___1ORmM",resizeFrame:"image-resizer__resizeFrame___2TUO6",resizeFrameBubble:"image-resizer__resizeFrameBubble___bOi5e",resizeTL:"image-resizer__resizeTL___1DU9o",resizeTR:"image-resizer__resizeTR___2Qc39",resizeBL:"image-resizer__resizeBL___ch9ms",resizeBR:"image-resizer__resizeBR___3rGi2",option:"image-resizer__option___218KC",activeOption:"image-resizer__activeOption___3gqk8",link:"image-resizer__link___2Py-L",bestFit:"image-resizer__bestFit___1AO8a",remove:"image-resizer__remove___16_eV",imageResizerPopover:"image-resizer__imageResizerPopover___gk66j",popoverRow:"image-resizer__popoverRow___21eoF",extraMargin:"image-resizer__extraMargin___2yVxc",popoverLabel:"image-resizer__popoverLabel___dMQj8",inputText:"image-resizer__inputText___23F7h",inputSave:"image-resizer__inputSave___bpe2K"}},function(e,t,n){(t=e.exports=n(49)(!1)).push([e.i,".popover__popover___2qUwe{position:absolute;z-index:7500;background-color:#fff;border:1px solid rgba(0,0,0,0.16);border-radius:4px;background-clip:padding-box;-webkit-box-shadow:0 4px 8px rgba(0,0,0,0.16);-moz-box-shadow:0 4px 8px rgba(0,0,0,0.16);box-shadow:0 4px 8px rgba(0,0,0,0.16)}.popover__popover___2qUwe::before,.popover__popover___2qUwe::after{position:absolute;left:21px;width:0;height:0;content:' ';-webkit-transform:rotate(-135deg);-moz-transform:rotate(-135deg);-ms-transform:rotate(-135deg);-o-transform:rotate(-135deg);transform:rotate(-135deg)}.popover__popover___2qUwe::before{top:-7px;border-left:13px solid transparent;border-bottom:13px solid #c2c8cd;z-index:10}.popover__popover___2qUwe::after{top:-6px;border-left:13px solid transparent;border-bottom:13px solid #fff;z-index:11}.popover__popover___2qUwe.popover__reversed___2iU4b::before,.popover__popover___2qUwe.popover__reversed___2iU4b::after{left:initial;right:21px}\n",""]),t.locals={popover:"popover__popover___2qUwe",reversed:"popover__reversed___2iU4b"}},function(e,t,n){(t=e.exports=n(49)(!1)).push([e.i,".link-handler__linkPreviewPopover___3afe-{font:600 11px/16px \"Source Sans Pro\",sans-serif;letter-spacing:.04em;text-transform:uppercase}.link-handler__linkPreviewPopover___3afe-{padding:12px 16px}.link-handler__linkPreviewPopover___3afe- .link-handler__option___1k8Wt{display:block;float:left;vertical-align:middle;color:#317ae2;text-transform:uppercase}.link-handler__linkPreviewPopover___3afe- .link-handler__option___1k8Wt::after{content:'\\B7';color:#747678;padding-left:8px}.link-handler__linkPreviewPopover___3afe- .link-handler__option___1k8Wt:not(:last-child){padding-right:8px}.link-handler__linkPreviewPopover___3afe- .link-handler__option___1k8Wt:last-child::after{content:'';padding:0}.link-handler__linkPreviewPopover___3afe- .link-handler__activeOption___O4iT2 .link-handler__link___1vSEN{color:#747678;cursor:default;text-decoration:none}.link-handler__linkPreviewPopover___3afe- .link-handler__link___1vSEN{display:block;float:left;vertical-align:middle;color:#317ae2;text-decoration:none}.link-handler__linkPreviewPopover___3afe- .link-handler__link___1vSEN:hover{text-decoration:underline;cursor:pointer}.link-handler__linkPreviewPopover___3afe- .link-handler__url___1UZ1A{padding-right:16px;margin-right:16px;border-right:1px solid rgba(0,0,0,0.16)}.link-handler__linkPreviewPopover___3afe- .link-handler__url___1UZ1A .link-handler__link___1vSEN{max-width:400px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.link-handler__linkHandlerPopover___1bwxj{padding:16px}.link-handler__linkHandlerPopover___1bwxj .link-handler__popoverRow___3IsOb{display:table-row}.link-handler__linkHandlerPopover___1bwxj .link-handler__extraMargin___2C1DF{margin-bottom:8px}.link-handler__linkHandlerPopover___1bwxj .link-handler__popoverLabel___2KcMp{display:table-cell}.link-handler__linkHandlerPopover___1bwxj .link-handler__inputText___2kd0r{margin-left:16px;width:320px}.link-handler__linkHandlerPopover___1bwxj .link-handler__inputSave___2aI-q{margin-left:8px;width:auto;height:32px;background:#43c35e;color:#fff;border:none}\n",""]),t.locals={linkPreviewPopover:"link-handler__linkPreviewPopover___3afe-",option:"link-handler__option___1k8Wt",activeOption:"link-handler__activeOption___O4iT2",link:"link-handler__link___1vSEN",url:"link-handler__url___1UZ1A",linkHandlerPopover:"link-handler__linkHandlerPopover___1bwxj",popoverRow:"link-handler__popoverRow___3IsOb",extraMargin:"link-handler__extraMargin___2C1DF",popoverLabel:"link-handler__popoverLabel___2KcMp",inputText:"link-handler__inputText___2kd0r",inputSave:"link-handler__inputSave___2aI-q"}},function(e,t,n){var r=n(6);e.exports=r.Promise},function(e,t,n){var r=n(45);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(47),o=n(33),i=n(9),a=n(24),s=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(13),o=n(153),i=n(26),a=n(89),s=n(154),c=n(124),l=n(152),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var f,d,p,h,g,v,m,y=n&&n.that,b=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),x=a(t,y,1+b+_),k=function(e){return f&&l(f,"normal",e),new u(!0,e)},E=function(e){return b?(r(e),_?x(e[0],e[1],k):x(e[0],e[1])):_?x(e,k):x(e)};if(w)f=e;else{if("function"!=typeof(d=c(e)))throw TypeError("Target is not iterable");if(o(d)){for(p=0,h=i(e.length);h>p;p++)if((g=E(e[p]))&&g instanceof u)return g;return new u(!1)}f=s(e,d)}for(v=f.next;!(m=v.call(f)).done;){try{g=E(m.value)}catch(e){l(f,"throw",e)}if("object"==typeof g&&g&&g instanceof u)return g}return new u(!1)}},function(e,t,n){var r,o,i,a,s,c,l,u,f=n(6),d=n(39).f,p=n(114).set,h=n(137),g=n(206),v=n(207),m=n(115),y=f.MutationObserver||f.WebKitMutationObserver,b=f.document,w=f.process,_=f.Promise,x=d(f,"queueMicrotask"),k=x&&x.value;k||(r=function(){var e,t;for(m&&(e=w.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},h||m||v||!y||!b?!g&&_&&_.resolve?((l=_.resolve(void 0)).constructor=_,u=l.then,a=function(){u.call(l,r)}):a=m?function(){w.nextTick(r)}:function(){p.call(f,r)}:(s=!0,c=b.createTextNode(""),new y(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=k||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,n){var r=n(54),o=n(6);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(e,t,n){var r=n(54);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(13),o=n(19),i=n(162);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(6);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t){e.exports="object"==typeof window},function(e,t,n){var r=n(4),o=n(19),i=n(13),a=n(213),s=n(39),c=n(96);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,u=arguments.length<3?t:arguments[2];return i(t)===u?t[n]:(r=s.f(t,n))?a(r)?r.value:void 0===r.get?void 0:r.get.call(u):o(l=c(t))?e(l,n,u):void 0}})},function(e,t,n){var r=n(25);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},function(e,t,n){var r=n(215);"string"==typeof r&&(r=[[e.i,r,""]]);n(50)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(49)(!1)).push([e.i,".tribute-container{position:absolute;top:0;left:0;height:auto;width:280px;max-height:300px;max-width:500px;overflow:auto;display:block;z-index:999999}.tribute-container .pdwysiwyg-mentions-loader{display:flex;justify-content:center;width:100%}.tribute-container ul{margin:0;margin-top:2px;padding:0;list-style:none;background:#ffffff}.tribute-container ul:not(:empty){padding:8px 0}.tribute-container li{display:flex;align-items:center;padding:4px 16px;cursor:pointer;font-size:15px}.tribute-container li .pdwysiwyg-mentions-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tribute-container li .pdwysiwyg-mentions-user-status{margin-left:4px}.tribute-container li.highlight{background:#317ae2;color:#ffffff}.tribute-container li.highlight svg{fill:#ffffff}.tribute-container li span{font-weight:bold}.tribute-container li.no-match{cursor:default}.tribute-container li .cui4-avatar{margin-right:8px}.tribute-container .menu-highlighted{font-weight:bold}\n",""])},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(4),o=n(56),i=n(32),a=n(26),s=n(22),c=n(5),l=n(218),u=n(118),f=n(219),d=n(220),p=n(71),h=n(221),g=[],v=g.sort,m=c(function(){g.sort(void 0)}),y=c(function(){g.sort(null)}),b=u("sort"),w=!c(function(){if(p)return p<70;if(!(f&&f>3)){if(d)return!0;if(h)return h<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort(function(e,t){return t.v-e.v}),r=0;r<g.length;r++)t=g[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}});r({target:"Array",proto:!0,forced:m||!y||!b||!w},{sort:function(e){void 0!==e&&o(e);var t=i(this);if(w)return void 0===e?v.call(t):v.call(t,e);var n,r,c=[],u=a(t.length);for(r=0;r<u;r++)r in t&&c.push(t[r]);for(n=(c=l(c,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:s(t)>s(n)?1:-1}}(e))).length,r=0;r<n;)t[r]=c[r++];for(;r<u;)delete t[r++];return t}})},function(e,t){var n=Math.floor,r=function(e,t){var a=e.length,s=n(a/2);return a<8?o(e,t):i(r(e.slice(0,s),t),r(e.slice(s),t),t)},o=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},i=function(e,t,n){for(var r=e.length,o=t.length,i=0,a=0,s=[];i<r||a<o;)i<r&&a<o?s.push(n(e[i],t[a])<=0?e[i++]:t[a++]):s.push(i<r?e[i++]:t[a++]);return s};e.exports=r},function(e,t,n){var r=n(54).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,n){var r=n(54);e.exports=/MSIE|Trident/.test(r)},function(e,t,n){var r=n(54).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,t,n){"use strict";var r=n(4),o=n(39).f,i=n(26),a=n(22),s=n(119),c=n(31),l=n(120),u=n(55),f="".endsWith,d=Math.min,p=l("endsWith");r({target:"String",proto:!0,forced:!(!u&&!p&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}())&&!p},{endsWith:function(e){var t=a(c(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=i(t.length),o=void 0===n?r:d(i(n),r),l=a(e);return f?f.call(t,l,o):t.slice(o-l.length,o)===l}})},function(e,t,n){(t=e.exports=n(49)(!1)).push([e.i,".toolbar__toolbar___2D6b8{display:flex;height:40px;align-items:center;background-color:#f7f7f7;border:1px solid #e5e5e5;padding:0 4px}.toolbar__button___1bGCa{display:flex;overflow:hidden}.toolbar__buttonLabel___2l9rw{width:128px;display:flex;justify-content:space-between;align-items:center;padding-right:0 !important}.toolbar__group___3gdgW{display:flex}.toolbar__group___3gdgW span:not(:first-child){margin-left:4px}.toolbar__groupAlignRight___WxBCQ{margin-left:auto;margin-right:0}.toolbar__groupAlignRight___WxBCQ>:not(:first-child){margin-left:16px}.toolbar__toolbar_field___3JjFp{text-decoration:none}.toolbar__toolbar_field___3JjFp .toolbar__text___39win{line-height:24px;text-decoration:none;vertical-align:top;color:#747678;font-weight:600}.toolbar__tooltip___2rdFn{z-index:10001}.toolbar__tooltipText___2xNo7{white-space:nowrap}\n",""]),t.locals={toolbar:"toolbar__toolbar___2D6b8",button:"toolbar__button___1bGCa",buttonLabel:"toolbar__buttonLabel___2l9rw",group:"toolbar__group___3gdgW",groupAlignRight:"toolbar__groupAlignRight___WxBCQ",toolbar_field:"toolbar__toolbar_field___3JjFp",text:"toolbar__text___39win",tooltip:"toolbar__tooltip___2rdFn",tooltipText:"toolbar__tooltipText___2xNo7"}},function(e,t,n){"use strict";n.r(t),n.d(t,"PdWysiwyg",function(){return o.b}),n.d(t,"MergeFieldsPlugin",function(){return ne}),n.d(t,"MergeFieldsHelpers",function(){return r}),n.d(t,"InlineImagesPlugin",function(){return fe}),n.d(t,"ImageResizerPlugin",function(){return ke}),n.d(t,"ThumbnailsPlugin",function(){return Me}),n.d(t,"LinkHandlerPlugin",function(){return qe}),n.d(t,"ListAutoConverterPlugin",function(){return $e}),n.d(t,"MentionsPlugin",function(){return Jt}),n.d(t,"ReactPdWysiwyg",function(){return ko}),n.d(t,"Toolbar",function(){return so}),n.d(t,"ToolbarButton",function(){return _o}),n.d(t,"ToolbarButtonGroup",function(){return xo}),n.d(t,"DefaultToolbar",function(){return ro});var r={};n.r(r),n.d(r,"handleDeleteKey",function(){return l}),n.d(r,"handleArrowKeys",function(){return u}),n.d(r,"getInputTypeCounts",function(){return f}),n.d(r,"onUpOrDownArrow",function(){return d}),n.d(r,"onLeftArrow",function(){return p}),n.d(r,"onRightArrow",function(){return h}),n.d(r,"placeCaretAtBeginingOfInput",function(){return g}),n.d(r,"placeCaretAtTheEndOfInput",function(){return v}),n.d(r,"focusFirstEmptyField",function(){return m}),n.d(r,"getInputBeforeCaretFirefox",function(){return y}),n.d(r,"getUID",function(){return b}),n.d(r,"insertField",function(){return w}),n.d(r,"insertFieldInEmptyNode",function(){return _}),n.d(r,"getInputBeforeCaret",function(){return x}),n.d(r,"getInputAfterCaret",function(){return k}),n.d(r,"markInputAsSelected",function(){return E}),n.d(r,"getInputDataset",function(){return S}),n.d(r,"getReplaceData",function(){return O}),n.d(r,"replaceField",function(){return T}),n.d(r,"getDynamicField",function(){return C}),n.d(r,"getPlaceholderField",function(){return A}),n.d(r,"getField",function(){return P}),n.d(r,"convertContentToFields",function(){return I}),n.d(r,"fillFieldData",function(){return L}),n.d(r,"fillFieldsValues",function(){return j}),n.d(r,"getInputTypesToFill",function(){return N}),n.d(r,"parseFieldsContent",function(){return R}),n.d(r,"humanizeFieldSyntax",function(){return M}),n.d(r,"focusField",function(){return z}),n.d(r,"checkForEmptyFields",function(){return D}),n.d(r,"checkForInputRTLLanguage",function(){return H}),n.d(r,"checkInputPreviewRTLLanguage",function(){return F}),n.d(r,"saveSelection",function(){return B}),n.d(r,"getContentEl",function(){return U}),n.d(r,"restoreSelection",function(){return q}),n.d(r,"getSelectionRange",function(){return V}),n.d(r,"placeCaretAfter",function(){return W}),n.d(r,"placeCaretAtEnd",function(){return G}),n.d(r,"placeCaretBefore",function(){return K}),n.d(r,"getTextNode",function(){return X}),n.d(r,"formatPhoneNumber",function(){return Y});var o=n(100);n(23),n(40),n(41),n(42),n(16),n(17),n(11),n(18),n(12),n(14),n(15);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"onParseContent",value:function(e){}},{key:"onInsert",value:function(e){}},{key:"unload",value:function(){}}]),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(a,"name","BasicPlugin");var s=n(0),c=(n(48),n(58),n(160),n(20),n(79),n(65),n(59),n(36),n(21),n(27),n(126),n(77),n(28),n(51));function l(e){var t=k();t&&!t.className.includes("selected-highlight")&&(e.preventDefault(),t.className="".concat(t.className," selected-highlight"))}function u(e){37===e.keyCode&&p(e),39===e.keyCode&&h(e),38!==e.keyCode&&40!==e.keyCode||d(e)}function f(e){var t=e.getElementsByTagName("input");return[].reduce.call(t,function(e,t){return e[t.dataset.pipefield]?e[t.dataset.pipefield]++:e[t.dataset.pipefield]=1,e},{})}function d(e){var t=e.target;"INPUT"===t.nodeName&&s.A(t)}function p(e){if("INPUT"===e.target.nodeName){var t=e.target;return 0===t.selectionStart?(e.preventDefault(),s.o()?s.z(t.previousSibling):s.A(t)):void 0}var n=x();if(n){var r=n.className&&n.className.includes("selected-highlight")||n.disabled;e.preventDefault(),r?s.A(n):v(n)}}function h(e){if("INPUT"===e.target.nodeName){var t=e.target;return t.selectionStart===t.value.length?(e.preventDefault(),s.x(t)):void 0}var n=k();if(n){var r=n.className.includes("selected-highlight")||n.disabled;e.preventDefault(),r?s.x(n):g(n)}}function g(e){if(e.createTextRange){var t=e.createTextRange();t.move("character",0),t.select()}else e.setSelectionRange&&e.setSelectionRange(0,0);e.focus()}function v(e){if(e.createTextRange){var t=e.createTextRange();t.move("character",e.value.length),t.select()}else e.setSelectionRange&&e.setSelectionRange(e.value.length,e.value.length);e.focus()}function m(e){var t=e.getElementsByTagName("input");[].forEach.call(t,function(e){if(!e.value)return e.focus()})}function y(){var e=window.getSelection(),t=e.rangeCount&&e.getRangeAt(0);if(t){var n=t.endContainer,r=n.previousSibling;if(n.contentEditable){var o=n.childNodes[t.endOffset-1];return o&&"INPUT"===o.nodeName?o:null}return 0===t.endOffset&&r&&"INPUT"===r.nodeName&&r||null}}function b(){return Math.random().toString(36).substr(2,16)}function w(e,t,n){var r=b(),o=e&&e.phoneCustomField;t.setAttribute("id",r),o&&t.setAttribute("data-phone-custom-field",o),H(t);var i=document.createElement("div"),a=x();i.appendChild(t);var c=a?" ".concat(i.innerHTML," "):i.innerHTML;document.execCommand("insertHTML",!1,c);var l=document.getElementById(r);l&&s.x(l),e.value||l&&l.focus()}function _(e,t,n){if(0===e.childElementCount){var r=document.createElement("div");r.appendChild(n),e.prepend(r)}else{var o=e.querySelector("input:last-of-type");if(o?o.after(n):e.append(n),!t){var i=e.querySelector("br");i&&e.removeChild(i)}}}function x(){if(s.o())return y();var e=s.f();return e&&"INPUT"===e.nodeName?e:null}function k(){var e=window.getSelection(),t=e.anchorNode;if(t&&"INPUT"===t.nodeName)return t;var n=3===t.nodeType&&t.length===e.anchorOffset,r=t.nextSibling,o=r&&"INPUT"===r.nodeName;return!!n&&(o&&r)}function E(e,t){if(t)l(e);else{var n=x();if(n){if(n.className.includes("selected-highlight"))return;e.preventDefault(),n.className="".concat(n.className," selected-highlight")}}}function S(e){return{type:e.dataset.pipefield,name:e.dataset.pipefieldname,key:e.dataset.pipefieldkey,phoneCustomField:e.dataset.phoneCustomField}}function O(e){return"<input\n\t\t\t\t".concat(F(e),'\n\t\t\t\ttype="text"\n\t\t\t\tplaceholder="').concat(e.placeholder,'"\n\t\t\t\t').concat(e.autofilled&&!e.placeholderToValue?'class="autofilled-data"':"","\n\t\t\t\t").concat("placeholder"!==e.fieldType&&e.placeholderToValue?"disabled=true":"",'\n\t\t\t\tdata-pipefield="').concat(e.fieldType,'"\n\t\t\t\t').concat(e.fieldKey?'data-pipefieldkey="'.concat(e.fieldKey,'"'):"","\n\t\t\t\t").concat(e.fieldName?'data-pipefieldname="'.concat(e.fieldName,'"'):"","\n\t\t\t\t").concat(e.phoneCustomField?'data-phone-custom-field="'.concat(e.phoneCustomField,'"'):"",'\n\t\t\t\tvalue="').concat(e.placeholderToValue?e.placeholder:e.value,'">')}function T(e,t,n){var r=e.match(/field={(.*?)(?=};)/),o=r&&r[1];if(!o)return t;var i=e.match(/key={(.*?)(?=};)/),a=e.match(/name={(.*?)(?=};)/),c=e.match(/placeholder={(.*?)(?=};)/),l=e.match(/value={(.*?)(?=};)/),u=e.match(/autofilled={(.*?)(?=};)/),f=e.match(/phoneCustomField={(.*?)(?=};)/),d=f&&f[1],p=i&&i[1],h=a&&a[1],g=c?c[1]:"",v=s.d(l?l[1]:"");return t.split(e).join(O({placeholder:g,value:v,fieldKey:p,fieldName:h,placeholderToValue:n,fieldType:o,autofilled:!!u,phoneCustomField:d}))}function C(e,t){t.deleteContents();var n=document.createElement("input");return n.setAttribute("type","text"),n.setAttribute("data-pipefield",e.type),n.setAttribute("data-pipefieldname",e.fieldName),n.setAttribute("placeholder",e.fieldName),n.setAttribute("data-pipefieldkey",e.fieldKey),e.value&&n.setAttribute("value",e.value),e.value&&n.setAttribute("class","autofilled-data"),H(n),e.isConfigMode&&(n.setAttribute("disabled",!0),n.setAttribute("value",e.fieldName)),n}function A(e,t){var n=t.cloneRange(),r=s.d(n.toString()),o=document.createElement("input");return t.deleteContents(),o.setAttribute("value",r),o.type="text",o.setAttribute("data-pipefield",e.type),H(o),o}function P(e,t){return"placeholder"===e.type?A(e,t):C(e,t)}function I(e,t){var n=e.match(/!\[(.*?)\]!/g);return n?n.reduce(function(e,n){return T(n,e,t)},e):e}function L(e,t,n,r){var o=n.key,i=n.phoneCustomField,a=e[o];("phone"===o||i)&&(a=Y(a,r)),t.value=a||(0===a?a:""),t.className=t.className.replace("autofilled-data",""),a&&(t.className="".concat(t.className," autofilled-data"))}function j(e,t,n,r){[].forEach.call(e,function(e){if(!e.value||n){var o=S(e),i=t[o.type];H(e),i&&L(i,e,o,r)}})}function N(e){return[].map.call(e,function(e){return e.dataset.pipefield})}function R(e,t,n){for(var r=e.getElementsByTagName("input");r.length;){var o=r[0],i=document.createTextNode(o.value);if(H(o),t){var a=n?"":o.value,c=o.className.includes("autofilled-data"),l=n?o.value:o.getAttribute("placeholder")||"";i=X(S(o),l,c,a)}s.B(o,i),r=e.getElementsByTagName("input")}}function M(e){return e?((e.match(/!\[(.*?)\]!/g)||[]).forEach(function(t){var n=t.match(/value={(.*?)(?=};)/),r=n?n[1]:"";if(!r.length){var o=t.match(/name={(.*?)(?=};)/),i=t.match(/placeholder={(.*?)(?=};)/);r="[".concat((o?o[1]:"")||(i?i[1]:""),"]")}e=e.split(t).join(r)}),e):e}function z(e,t,n){var r=e.getElementsByTagName("input");[].some.call(r,function(e,o){var i;if(e===document.activeElement)return n&&n.preventDefault(),(i=t?0===o?r[r.length-1]:r[o-1]:o+1>=r.length?r[0]:r[o+1])&&i.focus(),!0})}function D(e){var t=e.getElementsByTagName("input"),n=!1,r=!1;return[].forEach.call(t,function(e){e.className="",H(e),""===e.value&&(n=!0,e.className="empty-error",r||(e.focus(),r=!0))}),n}function H(e){var t=e?e.value||e.placeholder:"";return Object(c.d)(t)?e.setAttribute("dir","rtl"):e.setAttribute("dir","auto")}function F(e){var t=e?e.value||e.placeholder:"";return Object(c.d)(t)?'dir="rtl"':'dir="auto"'}function B(){return s.D()}function U(e){return s.g(e)}function q(e){return s.C(e)}function V(){return s.k()}function W(e){return s.x(e)}function G(e){return s.z(e)}function K(e){return s.A(e)}function X(e,t,n,r){return document.createTextNode("![field={".concat(e.type,"};placeholder={").concat(t,"};").concat(n?"autofilled={true};":"").concat(e.name?"name={".concat(e.name,"};"):"").concat(e.phoneCustomField?"phoneCustomField={".concat(e.phoneCustomField,"};"):"").concat(e.key?"key={".concat(e.key,"};"):"","value={").concat(r,"};]!"))}function Y(e,t){if(e){if(!t)return e;var n=t.formatNumbersEnabled,r=t.locale,o=e;if(n&&"en_US"===r){var i=/(\d{3})(\d{3})(\d{4})/;o=e.startsWith("+1")?"+1 ".concat(e.slice(2).trim().replace(i,"($1) $2-$3")):e.replace(i,"($1) $2-$3")}return o}}n(195);function $(e){"@babel/helpers - typeof";return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(n,a);var t=Z(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).editorEl=e.editorEl,r.eventHandler=e.eventHandler,r.trackUsage=e.trackUsage||function(){},r.bindEvents(),r}return function(e,t,n){t&&Q(e.prototype,t),n&&Q(e,n)}(n,[{key:"bindEvents",value:function(){var e=this;["keydown","click","contextmenu","focus","blur"].forEach(function(t){e.eventHandler.addEvent(e.editorEl,"".concat(t,".mergeFields"),function(t){var n="INPUT"===t.target.nodeName;if("blur"===t.type&&(e.savedSelection=Object(s.D)()),u(t),9===t.keyCode)return z(e.editorEl,t.shiftKey);n&&"keydown"===t.type&&e.removeAutofilledStatus(t),8!==t.keyCode||n?46!==t.keyCode||n?e.removeSelectedStatus():E(t,!0):E(t)})})}},{key:"onParseContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R(e,t.keepFieldSyntax,t.valueAsPlaceholder)}},{key:"onInsert",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).placeholderAsValue,t=void 0!==e&&e;this.convertContentToFields(t)}},{key:"focusFirstEmptyField",value:function(){return m(this.editorEl)}},{key:"removeAutofilledStatus",value:function(e){var t=e.target;t.className=t.className.replace("autofilled-data","")}},{key:"removeSelectedStatus",value:function(){var e=this.editorEl.getElementsByClassName("selected-highlight");[].forEach.call(e,function(e){e.className=e.className.replace("selected-highlight","")})}},{key:"checkForEmptyFields",value:function(){return D(this.editorEl)}},{key:"insertField",value:function(e){Object(s.C)(this.savedSelection);var t=V();if(!Object(s.a)(t.commonAncestorContainer)||!t){var n=U(this.editorEl);Object(s.z)(n),t=V()}w(e,P(e,t),this.editorEl.caretProps),this.trackUsage("merge_fields_used")}},{key:"getInputTypesToFill",value:function(){return N(this.editorEl.getElementsByTagName("input"))}},{key:"getInputTypeCounts",value:function(){return f(this.editorEl)}},{key:"fillFieldData",value:function(e,t,n,r){return L(e,t,n,r)}},{key:"fillFieldsValues",value:function(e,t,n){return j(this.editorEl.getElementsByTagName("input"),e,t,n)}},{key:"convertContentToFields",value:function(e){this.editorEl.innerHTML=I(this.editorEl.innerHTML,e)}}]),n}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(te,"name","mergeFields");var ne=te,re=(n(29),n(90),n(37),n(7)),oe=n.n(re);function ie(e){"@babel/helpers - typeof";return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(n,a);var t=ce(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).editorEl=e.editorEl,r.eventHandler=e.eventHandler,r.allowImageDropAndPaste=e.allowImageDropAndPaste,r.maxLongestSide=e.maxLongestSide||512,r.uploadImage=e.uploadImage,r.removeImage=e.removeImage,r.onDropInlineImage=e.onDropInlineImage,r.onInlineImageFromToolbar=e.onInlineImageFromToolbar,r.handleAttachmentDrag=e.handleAttachmentDrag,r.callPluginMethod=e.callPluginMethod,r.trackUsage=e.trackUsage||function(){},r.validImageTypes=["image/jpeg","image/jpg","image/gif","image/png"],r.bindEvents(),r}return function(e,t,n){t&&ae(e.prototype,t),n&&ae(e,n)}(n,[{key:"toolbarButtonClick",value:function(){var e=this,t=document.getElementById("ghost");if(t)t.click();else{(t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept",this.validImageTypes.join(",")),t.setAttribute("id","ghost"),t.style.display="none";var n=function(){var e=document.body;e.contains(t)&&e.removeChild(t)};t.addEventListener("change",function(t){var r=t.target.files[0],o=e.getRandomHashFromFileName(r.name);-1!==e.validImageTypes.indexOf(r.type)?(e.createPlaceholderAndUploadImage(r,o),"function"==typeof e.onInlineImageFromToolbar&&e.onInlineImageFromToolbar(),n()):n()}),document.body.appendChild(t),t.click()}}},{key:"createPlaceholderAndUploadImage",value:function(e,t,n,r){var o=this;return this.setImgPlaceholder(e,t,r),n||(n=function(e,n){return o.insertImage(t,e,n)}),this.uploadImage(e,n,function(){return o.removeImgPlaceholder(t)})}},{key:"onParseContent",value:function(e){var t=Array.from(e.querySelectorAll("img[src]"));t.length&&t.forEach(function(e){var t=e.getAttribute("src"),n=e.getAttribute("data-pipecid");t&&n&&e.setAttribute("src",n)})}},{key:"bindEvents",value:function(){var e=this;this.eventHandler.addEvent(this.editorEl,"keyup.contenteditable",function(t){8===t.keyCode&&"function"==typeof e.removeImage&&e.removeImage()}),this.allowImageDropAndPaste&&this.bindDragNDropEvents(),this.eventHandler.addEvent(this.editorEl,"paste.contenteditable",function(t){e.onPaste(t)})}},{key:"bindDragNDropEvents",value:function(){var e=this;this.eventHandler.addEvent(this.editorEl,"dragstart.contenteditable",function(t){"function"==typeof t.target.setAttribute&&(t.target.setAttribute("id","dragging"),t.dataTransfer.setData("text",t.target.id),e.editorEl.classList.add("in-editor-drag"))}),this.eventHandler.addEvent(this.editorEl,"dragenter.contenteditable",function(){window.getSelection().removeAllRanges()}),this.eventHandler.addEvent(this.editorEl,"drop.contenteditable",function(t,n){return e.handleDrop(t,n)}),this.eventHandler.addEvent(document,"dragover.contenteditable",function(t){e.editorEl!==document.activeElement||e.editorEl.classList.contains("in-editor-drag")||"function"!=typeof e.handleAttachmentDrag||e.handleAttachmentDrag(!0,t)})}},{key:"onPaste",value:function(e){this.allowImageDropAndPaste&&Object(s.u)(e)&&(e.stopPropagation(),this.pasteImage(e))}},{key:"handleDrop",value:function(e,t){var n=this;if(e.preventDefault(),this.editorEl.classList.contains("in-editor-drag"))return this.handleInlineDragAndDrop(e);var r=t||1===e.dataTransfer.files.length&&e.dataTransfer.files[0];if(r&&-1!==this.validImageTypes.indexOf(r.type)){var o=this.getRandomHashFromFileName(r.name);this.createPlaceholderAndUploadImage(r,o,function(t,r){return n.onDropFileSuccess(e,o,t,r)},e)}}},{key:"onDropFileSuccess",value:function(e,t,n,r){var o=window.getSelection(),i=document.createRange(),a=document.elementFromPoint(e.clientX,e.clientY);i.selectNode(a),o.removeAllRanges(),o.addRange(i),o.collapseToStart(),"function"==typeof this.onDropInlineImage&&this.onDropInlineImage(),this.insertImage(t,n,r)}},{key:"getRandomHashFromFileName",value:function(e){return e.length*Math.floor(100*Math.random())}},{key:"handleInlineDragAndDrop",value:function(e){var t=e.dataTransfer.getData("text"),n=document.getElementById(t);if(n){var r=document.createRange(),o=e.target.parentNode,i=window.getSelection(),a=this.getCaretPostionFromData(e);if(n.parentElement.href&&(n=n.parentElement),a.nodeValue&&e.target.childNodes.length){var s=this.getChildNodeForPositioning(e);this.dropImgToPosition(n,{target:e.target,caretFromPointOffset:a.caretFromPointOffset,childNode:s})}else{var c=Math.abs(e.clientX-e.target.getBoundingClientRect().left),l=Math.abs(e.clientX-(e.target.getBoundingClientRect().left+e.target.width));l?c<l?o.insertBefore(n,e.target):o.insertBefore(n,e.target.nextSibling):e.target.prepend(n)}r.setStartAfter(n),r.collapse(!0),i.removeAllRanges(),i.addRange(r)}var u=document.getElementById("dragging");u&&u.removeAttribute("id"),this.editorEl.classList.remove("in-editor-drag")}},{key:"getChildNodeForPositioning",value:function(e){var t=this.getCaretPostionFromData(e),n=t.childNode;return e.target.childNodes&&e.target.childNodes.length&&e.target.childNodes.forEach(function(e){e.textContent===t.nodeValue&&(n=e)}),0===t.caretFromPointOffset&&(n=t.childNode),"function"==typeof n.querySelectorAll&&n.querySelectorAll(".".concat(this.editorEl.classList[0])).length&&(n=this.editorEl),n}},{key:"getCaretPostionFromData",value:function(e){var t={};if(document.caretPositionFromPoint){var n=document.caretPositionFromPoint(e.clientX,e.clientY);t.caretFromPointOffset=n.offset,t.nodeValue=n.offsetNode.nodeValue,t.childNode=n.offsetNode}else{var r=document.caretRangeFromPoint(e.clientX,e.clientY);t.caretFromPointOffset=r.startOffset,t.nodeValue=r.startContainer.nodeValue,t.childNode=r.startContainer.parentNode}return t}},{key:"dropImgToPosition",value:function(e,t){var n,r=(t=t||{}).childNode;if(r)(n=document.createRange()).selectNodeContents(t.target),r instanceof HTMLElement?r.appendChild(e):n&&(n.setStart(r,t.caretFromPointOffset),n.insertNode(e));else{var o=window.getSelection();(n=o.rangeCount&&o.getRangeAt(0))&&n.insertNode(e)}}},{key:"pasteImage",value:function(e){var t=this;(e.preventDefault(),this.allowImageDropAndPaste)&&("safari"!==Object(s.m)()&&(window.clipboardData||e.clipboardData).files.forEach(function(e){if(-1!==t.validImageTypes.indexOf(e.type)){var n=t.getRandomHashFromFileName(e.name);t.createPlaceholderAndUploadImage(e,n)}}))}},{key:"setImgPlaceholder",value:function(e,t,n){var r=this,o=new FileReader;o.addEventListener("load",function(e){var o=new Image;o.addEventListener("load",function(){return r.createImgPlaceholder(o,t,n)}),o.src=e.currentTarget.result}),o.readAsDataURL(e)}},{key:"createImgPlaceholder",value:function(e,t,n){var r,o,i=e.width,a=e.height,c=i/a,l=document.createElement("div"),u={};i>this.maxLongestSide||a>this.maxLongestSide?c>1?(r=this.maxLongestSide,o=this.maxLongestSide/c):(r=this.maxLongestSide*c,o=this.maxLongestSide):(o=a,r=i),l.classList.add(oe.a.imagePlaceholder),l.setAttribute("data-container","imagePlaceholder"),l.setAttribute("data-placeholder",t),l.style.width="".concat(r,"px"),l.style.height="".concat(o,"px"),r>=32&&o>=32&&l.appendChild(this.getSpinner()),n&&(u.target=n.target,u.caretFromPointOffset=this.getCaretPostionFromData(n).caretFromPointOffset,u.childNode=this.getChildNodeForPositioning(n)),this.dropImgToPosition(l,u),Object(s.x)(l)}},{key:"getSpinner",value:function(){var e=document.createElement("span");return e.classList.add(oe.a.imagePlaceholderSpinner),e}},{key:"insertImage",value:function(e,t,n){var r=this,o=this.createImageElement(e,t,n),i=o.image,a=o.placeholder;a.parentNode.replaceChild(i,a),Object(s.x)(i),this.callPluginMethod("imageResizer","getImgOptionBestFitSizes",[i,function(e){r.callPluginMethod("imageResizer","setImgElSize",[i,e.width,e.height])}]),this.trackUsage("image_added")}},{key:"createImageElement",value:function(e,t,n){var r=this.editorEl.querySelector('[data-placeholder="'.concat(e,'"]'));if(r){var o=document.createElement("img");return o.setAttribute("src",t),o.style.width="".concat(r.offsetWidth,"px"),o.style.height="".concat(r.offsetHeight,"px"),n&&o.setAttribute("data-pipecid","cid:".concat(n)),{image:o,placeholder:r}}}},{key:"removeImgPlaceholder",value:function(e){var t=this.editorEl.querySelector('[data-placeholder="'.concat(e,'"]'));if(t){var n=t.parentNode;n.contains(t)&&n.removeChild(t)}}},{key:"loadInlineImageByCid",value:function(e,t){var n=Array.from(this.editorEl.querySelectorAll('[src="cid:'.concat(e,'"]')));n.length&&n.forEach(function(n){n.setAttribute("src",t),n.setAttribute("data-pipecid","cid:".concat(e))})}},{key:"prepareInlineImagesForDisplaying",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Array.from(this.editorEl.querySelectorAll("img[src]"));n.length&&n.forEach(function(n){var r=n.getAttribute("src"),o=r&&r.match(/(cid:)\w+/)&&r.replace(/(cid:)/,""),i=o&&e.find(function(e){return e.cid==="<".concat(o,">")})||e.find(function(e){return e.cid===o});if(o&&i){var a="".concat(i.url,"?").concat(t);n.setAttribute("src",a),n.setAttribute("data-pipecid",r)}})}},{key:"getInlineImageByCid",value:function(e){return!!e&&this.editorEl.querySelectorAll('[src="cid:'.concat(e,'"]'))}},{key:"getMissingInlineImagesCids",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.editorEl.innerHTML;return e.filter(function(e){return!t.includes(e.cid)}).map(function(e){return e.cid})}}]),n}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ue,"name","inlineImages");var fe=ue,de=(n(161),n(61)),pe=n.n(de),he=n(3),ge=n.n(he);function ve(e){"@babel/helpers - typeof";return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return we(e)}(this,n)}}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(n,a);var t=be(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).linkPopoverOpen=!1,r.eventHandler=e.eventHandler,r.editorEl=e.editorEl,r.translations=e.translations,r.callPluginMethod=e.callPluginMethod,r.removeImage=e.removeImage,r.maxLongestSide=e.maxLongestSide||512,r.updateImageMaxLongestSide=r.updateImageMaxLongestSide.bind(we(r)),r.bindEvents(),r}return function(e,t,n){t&&me(e.prototype,t),n&&me(e,n)}(n,[{key:"updateImageMaxLongestSide",value:function(){var e=this.editorEl.offsetWidth;this.maxLongestSide=e?e-32:512}},{key:"bindEvents",value:function(){var e=this;this.eventHandler.addEvent(document.body,"mscontrolselect.imageResizer",function(e){"IMG"===e.target.tagName&&Object(s.a)(e.target)&&e.preventDefault()}),this.eventHandler.addEvent(this.editorEl,"click.contenteditable",function(t){"IMG"===t.target.tagName&&(t.preventDefault(),e.focusImage(t.target))}),window.addEventListener("resize",this.updateImageMaxLongestSide),this.updateImageMaxLongestSide()}},{key:"onParseContent",value:function(e){var t=e.querySelector('[data-container="temporaryImageResizerWrapper"]');if(t){var n=t.parentElement,r=t.querySelector("img");r.parentElement&&r.parentElement.href&&(r=t.querySelector("a")),r&&n.insertBefore(r,t),n.contains(t)&&n.removeChild(t)}}},{key:"focusImage",value:function(e){if("temporaryImageResizerWrapper"!==e.parentElement.getAttribute("data-container")){this.callPluginMethod("linkHandler","closePopovers"),window.getSelection().removeAllRanges();var t=document.createElement("div"),n=e.parentElement.href,r='<div class="'.concat(oe.a.resizeFrame,'" data-container="resizeFrame"\n \t\t\t\t\t\t\tstyle="width:').concat(e.clientWidth,"px;height:").concat(e.clientHeight,'px;"\n \t\t\t\t\t\t\tdata-resize-frame="true">\n\t\t\t\t<div class="').concat(oe.a.resizeFrameBubble," ").concat(oe.a.resizeTL,'" data-resize-bubble="tl"></div>\n\t\t\t\t<div class="').concat(oe.a.resizeFrameBubble," ").concat(oe.a.resizeTR,'" data-resize-bubble="tr"></div>\n\t\t\t\t<div class="').concat(oe.a.resizeFrameBubble," ").concat(oe.a.resizeBL,'" data-resize-bubble="bl"></div>\n\t\t\t\t<div class="').concat(oe.a.resizeFrameBubble," ").concat(oe.a.resizeBR,'" data-resize-bubble="br"></div>\n\t\t\t</div>'),o=e;n&&(o=e.parentElement),t.setAttribute("class",oe.a.temporaryImageResizerWrapper),t.setAttribute("data-container","temporaryImageResizerWrapper"),o.parentElement.insertBefore(t,o),t.innerHTML=r,t.appendChild(o),this.openOptionsPopover(t,this.linkPopoverOpen,this.translations),this.bindMainListeners(t),this.bindImageDragDropEvents(t)}}},{key:"onDocumentMouseDown",value:function(e,t){var n=!!t.target.getAttribute("data-resize-bubble"),r=!!t.target.getAttribute("data-resize-frame"),o=!!this.elInPopover(t.target),i=!!this.elInLinkPopover(t.target),a=this.isAddLink(t),s=!!t.target.closest('[data-type="showHiddenGroups"]'),c=t.currentTarget.querySelector('[data-container="resizeFrame"]');if(n)this.onBubbleMouseDown(t,e);else if(a&&c)t.preventDefault(),this.closePopover(),this.openOptionsPopover(e,!0,this.translations);else{if(i||s)return;r||o?t.preventDefault():(this.linkPopoverOpen=!1,this.blurImage(e))}}},{key:"isAddLink",value:function(e){return e.target.classList&&!!e.target.classList.contains("toolbar_link")||e.target.parentElement&&!!e.target.parentElement.classList.contains("toolbar_link")}},{key:"onImageReclick",value:function(e){var t=!!e.target.getAttribute("data-resize-bubble"),n=!!e.target.getAttribute("data-resize-frame"),r=!!document.body.querySelector("#imageResizerPopover")||!!document.body.querySelector("#linkHandler")||!!document.body.querySelector("#linkPreview");!t&&!n||r||this.openOptionsPopover(e.currentTarget,this.linkPopoverOpen,this.translations)}},{key:"onDocumentKeyDown",value:function(e,t){!!this.elInLinkPopover(t.target)||-1!==[8,46].indexOf(t.keyCode)&&(t.preventDefault(),t.stopPropagation(),this.performImageRemoval(e))}},{key:"onEditorChange",value:function(e){var t=e.querySelector('[data-container="temporaryImageResizerWrapper"]'),n=t&&t.querySelector("img");t&&!n&&this.blurImage(t)}},{key:"resizeImg",value:function(e,t,n){if(-1===["msie","edge"].indexOf(Object(s.m)())){var r=e.querySelector("img"),o=r.parentElement.href&&r.parentElement.cloneNode(!1),i=r.cloneNode(!0),a=e.parentElement,c=document.createElement("div");this.setImgElSize(i,n.width,n.height),i.setAttribute("data-container","temporaryImageResizer"),o?(o.appendChild(i),c.appendChild(o)):c.appendChild(i),this.blurImage(e);var l=document.createRange(),u=window.getSelection();l.selectNode(r),u.removeAllRanges(),u.addRange(l),document.execCommand("insertHTML",!1,c.innerHTML),(r=a.querySelector('[data-container="temporaryImageResizer"]'))&&(t&&this.focusImage(r),r.classList.remove("temporaryImageResizerClass"))}else this.resizeImgIE(e,t,n)}},{key:"resizeImgIE",value:function(e,t,n){var r=e.querySelector("img");this.setImgElSize(r,n.width,n.height),t?this.updatePopover(e):this.blurImage(e)}},{key:"setImgElSize",value:function(e,t,n){e.style.width="".concat(Math.ceil(t),"px"),e.style.height="".concat(Math.ceil(n),"px"),e.setAttribute("width",Math.ceil(t)),e.setAttribute("height",Math.ceil(n)),this.updateImageMaxLongestSide()}},{key:"performImageRemoval",value:function(e){var t=e.querySelector("img"),n=t.getAttribute("data-pipecid");if(this.blurImage(e),-1===["msie","edge"].indexOf(Object(s.m)())){var r=document.createRange(),o=window.getSelection();r.selectNode(t),o.removeAllRanges(),o.addRange(r),document.execCommand("insertHTML",!1,""),"function"==typeof this.removeImage&&this.removeImage(n)}else this.performImageRemovalIE(t)}},{key:"performImageRemovalIE",value:function(e){var t=document.createRange(),n=window.getSelection(),r=e.parentElement;t.setStartBefore(e),n.removeAllRanges(),n.addRange(t),r.contains(e)&&r.removeChild(e)}},{key:"blurImage",value:function(e){var t=e.parentElement,n=e.querySelector("img"),r=n&&n.parentElement&&n.parentElement.href;this.unbindMainListeners(e),r&&(n=e.querySelector("a")),n&&t.insertBefore(n,e),t.contains(e)&&t.removeChild(e),this.closePopover(),this.editorEl.style.paddingBottom=""}},{key:"bindMainListeners",value:function(e){var t=this,n=Object(s.a)(e),r=e.parentElement;this.eventHandler.addEvent(document,"mousedown.imageResizer",function(n){return t.onDocumentMouseDown(e,n)}),this.eventHandler.addEvent(e,"click.imageResizer",function(e){return t.onImageReclick(e)}),this.eventHandler.addEvent(document,"keydown.imageResizer",function(n){return t.onDocumentKeyDown(e,n)}),this.eventHandler.addEvent(document,"contextmenu.imageResizer",function(n){return t.blurImage(e,n)}),this.eventHandler.addEvent(n,"input.imageResizer",function(e){return t.onEditorChange(r,e)})}},{key:"unbindMainListeners",value:function(e){var t=Object(s.a)(e);this.eventHandler.removeEvent(document,"mousedown.imageResizer"),this.eventHandler.removeEvent(e,"click.imageResizer"),this.eventHandler.removeEvent(document,"keydown.imageResizer"),this.eventHandler.removeEvent(document,"contextmenu.imageResizer"),this.eventHandler.removeEvent(t,"input.imageResizer"),window.removeEventListener("resize",this.updateImageMaxLongestSide)}},{key:"bindImageDragDropEvents",value:function(e){var t=this,n=Object(s.a)(e);this.eventHandler.removeEvent(e,"mousedown.dragging"),this.eventHandler.removeEvent(n,"mouseup.dragging"),this.eventHandler.addEvent(e,"mousedown.dragging",function(n){return t.handleMouseDownOnActiveImage(e,n)}),this.eventHandler.addEvent(n,"mouseup.dragging",function(e){return t.handleImageMouseUp(e)})}},{key:"handleImageMouseUp",value:function(e){var t=e.target;t.classList.contains("dragged-active-img")&&(t.classList.remove("dragged-active-img"),this.focusImage(t))}},{key:"handleMouseDownOnActiveImage",value:function(e,t){if(t.target.classList.contains(oe.a.resizeFrameBubble))return!1;t.currentTarget.querySelector("img").classList.add("dragged-active-img"),this.blurImage(e)}},{key:"unload",value:function(){this.closePopover()}},{key:"onBubbleMouseDown",value:function(e,t){var n=this;e.preventDefault();var r=t.querySelector('[data-container="resizeFrame"]'),o={tl:{directions:{x:-1,y:-1},framePositioning:{left:"auto",top:"auto",right:0,bottom:0},cursor:"nwse-resize"},tr:{directions:{x:1,y:-1},framePositioning:{left:0,top:"auto",right:"auto",bottom:0},cursor:"nesw-resize"},bl:{directions:{x:-1,y:1},framePositioning:{left:"auto",top:0,right:0,bottom:"auto"},cursor:"nesw-resize"},br:{directions:{x:1,y:1},framePositioning:{left:0,top:0,right:"auto",bottom:"auto"},cursor:"nwse-resize"}}[e.target.getAttribute("data-resize-bubble")],i=r.clientWidth,a=r.clientHeight,s=document.onmousemove,c=this.editorEl.style.cursor,l={frameEl:r,frameInitWidth:r.clientWidth,frameInitHeight:r.clientHeight,initX:e.clientX-i*o.directions.x,initY:e.clientY-a*o.directions.y,initC:Math.sqrt(Math.pow(r.clientWidth,2)+Math.pow(r.clientHeight,2)),directions:o.directions,aspectRatio:r.clientWidth/r.clientHeight,initialOnmousemove:s};r.style.left=o.framePositioning.left,r.style.right=o.framePositioning.right,r.style.top=o.framePositioning.top,r.style.bottom=o.framePositioning.bottom,this.editorEl.style.cursor=o.cursor,document.onmousemove=function(e){return n.onBubbleDrag(l,e)},this.eventHandler.addEvent(document,"mouseup.imageResizer",function(){return n.onBubbleMouseUp(t,s,c)})}},{key:"onBubbleDrag",value:function(e,t){"function"==typeof e.initialOnmousemove&&e.initialOnmousemove(t);var n=(t.clientX-e.initX)*e.directions.x,r=(t.clientY-e.initY)*e.directions.y,o=100*Math.sqrt(Math.pow(n,2)+Math.pow(r,2))/e.initC/100,i=e.frameInitWidth*o,a=e.frameInitHeight*o;this.isAboveDaLow(i,a,n,r)&&(i>this.maxLongestSide&&(a=(i=this.maxLongestSide)/e.aspectRatio),a>this.maxLongestSide&&(i=(a=this.maxLongestSide)*e.aspectRatio),e.frameEl.style.width="".concat(i,"px"),e.frameEl.style.height="".concat(a,"px"))}},{key:"onBubbleMouseUp",value:function(e,t,n){document.onmousemove=t,this.editorEl.style.cursor=n,this.eventHandler.removeEvent(document,"mouseup.imageResizer");var r=e.querySelector('[data-container="resizeFrame"]'),o={width:r.clientWidth,height:r.clientHeight};this.resizeImg(e,!0,o)}},{key:"isAboveDaLow",value:function(e,t,n,r){return!(e<16||t<16||n<0||r<0)}},{key:"openOptionsPopover",value:function(e,t,n){var r=this,o=document.createElement("div"),i=e.querySelector("img"),a=i.parentElement.href;t?(o=document.createElement("form"),this.linkPopoverOpen=!0,o.id="linkHandler",o.className="".concat(pe.a.popover," ").concat(ge.a.linkHandlerPopover),o.innerHTML='<div class="'.concat(ge.a.popoverRow,'">\n\t\t\t\t<span class="').concat(ge.a.popoverLabel,'">').concat(n.link.linkLabel,'</span>\n\t\t\t\t<input class="').concat(ge.a.inputText,'" type="text" name="link" value="').concat(a||"",'">\n\t\t\t\t<input class="').concat(ge.a.inputSave,'" type="submit" value="').concat(n.shared.saveButton,'">\n\t\t\t</div>'),o.onsubmit=function(t){return r.onEditLinkSubmit(t,e)}):a?(o.id="linkPreview",o.className="".concat(pe.a.popover," ").concat(ge.a.linkPreviewPopover),o.innerHTML='\n\t\t\t\t<span class="'.concat(ge.a.option," ").concat(ge.a.url,'">\n\t\t\t\t\t<a class="').concat(ge.a.link,'" href="').concat(a,'" target="_blank" rel="noopener noreferrer">').concat(a,'</a>\n\t\t\t\t</span>\n\t\t\t\t<span class="').concat(ge.a.option,'">\n\t\t\t\t\t<a class="').concat(ge.a.link,'" data-action="edit">').concat(n.shared.editButton,'</a>\n\t\t\t\t</span>\n\t\t\t\t<span class="').concat(ge.a.option," ").concat(oe.a.remove,'">\n\t\t\t\t\t<a class="').concat(ge.a.link,'" data-action="remove">').concat(n.shared.removeButton,"</a>\n\t\t\t\t</span>")):(o.id="imageResizerPopover",o.className="".concat(pe.a.popover," ").concat(oe.a.resizerPopover),o.innerHTML='<span class="'.concat(oe.a.option,'" data-option="small">\n\t\t\t\t\t<a class="').concat(oe.a.link,'" data-action="small">').concat(n.image.smallSize,'</a>\n\t\t\t\t</span>\n\t\t\t\t<span class="').concat(oe.a.option,'" data-option="bestFit">\n\t\t\t\t\t<a class="').concat(oe.a.link,'" data-action="bestFit">').concat(n.image.bestFitSize,'</a>\n\t\t\t\t</span>\n\t\t\t\t<span class="').concat(oe.a.option,'" data-option="remove">\n\t\t\t\t\t<a class="').concat(oe.a.link,'" data-action="remove">').concat(n.shared.deleteButton,"</a>\n\t\t\t\t</span>")),document.body.appendChild(o),this.setComposerPadding(e,o),t||a||this.makeButtonActive(i,o),this.setPopoverPosition(o,i),this.bindPopoverButtonClicks(o,e,t)}},{key:"onEditLinkSubmit",value:function(e,t){e.preventDefault();var n=e.currentTarget.querySelector("input[name=link]").value,r=t.querySelector("img");this.closePopover(),this.linkPopoverOpen=!1,this.createLink(n,r),this.openOptionsPopover(t,null,this.translations)}},{key:"getScrollingElement",value:function(){return this.editorEl.parentElement.style.maxHeight||this.editorEl.parentElement.style.height?this.editorEl.parentElement:this.editorEl}},{key:"setComposerPadding",value:function(e,t){var n=this.editorEl.offsetHeight,r=e.offsetTop,o=e.offsetHeight,i=this.getScrollingElement(),a=t.offsetHeight+18;r+o+a>n&&(this.editorEl.style.paddingBottom="".concat(a,"px"),i.scrollTop=i.scrollHeight)}},{key:"createLink",value:function(e,t){var n=t.parentElement.href;if(e&&!/^((https?|ftp|mailto):)|([a-zA-Z]*:\/\/)/i.test(e)&&(e="http://".concat(e)),!/^(data)/i.test(e))if(n)t.parentElement.href=e;else{var r=document.createElement("a");r.style.display="inline-block",r.href=e,t.parentNode.insertBefore(r,t),r.appendChild(t)}}},{key:"editLink",value:function(e){this.closePopover(e),this.openOptionsPopover(e,!0,this.translations)}},{key:"removeLink",value:function(e){var t=e.querySelector("img"),n=t.parentElement;n.parentElement.replaceChild(t,n),this.closePopover(),this.openOptionsPopover(e,null,this.translations)}},{key:"makeButtonActive",value:function(e,t){var n=this,r=e.clientWidth,o=e.clientHeight;this.getImgOptionSmallSizes(e,function(i){if(r===i.width&&o===i.height)return t.querySelector('[data-option="small"]').classList.add(oe.a.activeOption);n.getImgOptionBestFitSizes(e,function(e){r===e.width&&o===e.height&&t.querySelector('[data-option="bestFit"]').classList.add(oe.a.activeOption)})})}},{key:"setPopoverPosition",value:function(e,t){var n=Object(s.i)(t),r=n.top,o=n.left,i=document.documentElement.clientWidth;o+e.offsetWidth>i?(o=o-e.offsetWidth+50,e.className+=" ".concat(oe.a.reversed)):o-=1,e.style.top="".concat(r+t.clientHeight+11,"px"),e.style.left="".concat(o,"px")}},{key:"onResizeOptionClicked",value:function(e,t,n){var r=this;if(!this.isButtonActive(n.target)){var o=e.querySelector("img");this[{small:"getImgOptionSmallSizes",bestFit:"getImgOptionBestFitSizes"}[t]](o,function(t){return r.resizeImg(e,!1,t)})}}},{key:"isButtonActive",value:function(e){return-1!==e.parentElement.getAttribute("class").indexOf("active")}},{key:"getImgOptionSmallSizes",value:function(e,t){var n=this;this.getImgOrigSizeData(e,function(e){var r,o;e.origWidth>e.origHeight?o=(r=e.origWidth<=n.maxLongestSide?e.origWidth/2:n.maxLongestSide/2)/e.aspectRatio:r=(o=e.origHeight<=n.maxLongestSide?e.origHeight/2:n.maxLongestSide/2)*e.aspectRatio,t({width:Math.ceil(r),height:Math.ceil(o)})})}},{key:"getImgOptionBestFitSizes",value:function(e,t){var n=this;this.getImgOrigSizeData(e,function(e){var r,o;e.origWidth>e.origHeight?o=(r=e.origWidth<=n.maxLongestSide?e.origWidth:n.maxLongestSide)/e.aspectRatio:r=(o=e.origHeight<=n.maxLongestSide?e.origHeight:n.maxLongestSide)*e.aspectRatio,t({width:Math.ceil(r),height:Math.ceil(o)})})}},{key:"getImgOrigSizeData",value:function(e,t){var n=new Image;n.onload=function(){var e=n.width,r=n.height;t({origWidth:e,origHeight:r,aspectRatio:e/r})},n.src=e.src}},{key:"updatePopover",value:function(e){this.closePopover(),this.openOptionsPopover(e,null,this.translations)}},{key:"elInLinkPopover",value:function(e){return"linkHandler"===e.parentElement.getAttribute("id")||"linkPreview"===e.parentElement.getAttribute("id")||Object(s.b)(e,function(e){return"linkHandler"===e.getAttribute("id")||"linkPreview"===e.getAttribute("id")})}},{key:"elInPopover",value:function(e){return"imageResizerPopover"===e.parentElement.getAttribute("id")||Object(s.b)(e,function(e){return"imageResizerPopover"===e.getAttribute("id")})}},{key:"closePopover",value:function(){var e=document.body,t=e.querySelector("#imageResizerPopover")||e.querySelector("#linkHandler")||e.querySelector("#linkPreview");t&&(this.unbindPopoverButtonClicks(t),e.contains(t)&&e.removeChild(t))}},{key:"bindImageResizeEvents",value:function(e,t){var n=this;this.eventHandler.addEvent(e.querySelector('[data-action="small"]'),"click.imageResizerPopover",function(e){return n.onResizeOptionClicked(t,"small",e)}),this.eventHandler.addEvent(e.querySelector('[data-action="bestFit"]'),"click.imageResizerPopover",function(e){return n.onResizeOptionClicked(t,"bestFit",e)}),this.eventHandler.addEvent(e.querySelector('[data-action="remove"]'),"click.imageResizerPopover",function(){return n.performImageRemoval(t)})}},{key:"bindLinkPreviewPopoverEvents",value:function(e,t){var n=this;this.eventHandler.addEvent(e.querySelector('[data-action="edit"]'),"click.linkPreviewPopover",function(){return n.editLink(t)}),this.eventHandler.addEvent(e.querySelector('[data-action="remove"]'),"click.linkPreviewPopover",function(){return n.removeLink(t)})}},{key:"bindPopoverButtonClicks",value:function(e,t){var n="linkPreview"===e.id;if("linkHandler"!==e.id)return n?this.bindLinkPreviewPopoverEvents(e,t):this.bindImageResizeEvents(e,t)}},{key:"unbindPopoverButtonClicks",value:function(e){this.eventHandler.removeEvent(e.querySelector('[data-action="small"]'),"click.imageResizerPopover"),this.eventHandler.removeEvent(e.querySelector('[data-action="bestFit"]'),"click.imageResizerPopover"),this.eventHandler.removeEvent(e.querySelector('[data-action="remove"]'),"click.imageResizerPopover"),this.eventHandler.removeEvent(e.querySelector('[data-action="edit"]'),"click.linkPreviewPopover"),this.eventHandler.removeEvent(e.querySelector('[data-action="remove"]'),"click.linkPreviewPopover")}}]),n}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xe,"name","imageResizer");var ke=xe;n(99),n(158),n(212),n(97);var Ee=n(52),Se=n(128),Oe=n.n(Se);function Te(e){"@babel/helpers - typeof";return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t,n){return(Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(n,ue);var t=je(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).width=e.width||200,r.height=e.height||200,r.imageQuality=e.imageQuality||.75,r}return function(e,t,n){t&&Pe(e.prototype,t),n&&Pe(e,n)}(n,[{key:"createPlaceholderAndUploadImage",value:function(e,t,n){var r=this;this.createImageFromFile(e).then(function(e){var t=e.image,n=e.orientation;return r.resizeImage(t,n)}).then(function(o){var i=o.resizedImageBlob,a=o.resizedImageData;return i.lastModifiedDate=new Date,i.name="thumbnail_"+e.name,r.createImgPlaceholder(a,t),n||(n=function(e,n){return r.insertImage(t,e,n)}),r.uploadImage([e,i],n,function(){return r.removeImgPlaceholder(t)})})}},{key:"createImageFromFile",value:function(e){return new Promise(function(t){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",function(e){var n=new Image;n.addEventListener("load",function(){Oe.a.getData(n,function(){var e=Oe.a.getTag(n,"Orientation")||1;t({image:n,orientation:e})})||t({image:n,orientation:1})}),n.src=e.currentTarget.result})})}},{key:"resizeImage",value:function(e,t){var n=this,r=function(e){var t=e.originalWidth,n=e.originalHeight,r=e.maxWidth,o=e.maxHeight;if(t<r&&n<o)return{width:t,height:n};var i=t>n?r/t:o/n;return{width:t*i,height:n*i}}({originalWidth:e.width,originalHeight:e.height,maxWidth:this.width,maxHeight:this.height}),o=r.width,i=r.height,a=document.createElement("canvas");a.hidden=!0,a.width=o,a.height=i;var s=a.getContext("2d");this.drawImageToCanvas(e,a,s,t,o,i),document.body.appendChild(a);var c=s.getImageData(0,0,o,i);return new Promise(function(e){s.canvas.toBlob(function(t){e({resizedImageData:c,resizedImageBlob:t}),a.remove()},"image/png",n.imageQuality)})}},{key:"calculateResizedImageDimensions",value:function(e,t){if(e<this.width&&t<this.height)return{width:e,height:t};var n=e>t?this.width/e:this.height/t;return{width:e*n,height:t*n}}},{key:"drawImageToCanvas",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;switch(Number(r)){case 1:break;case 2:n.translate(o,0),n.scale(-1,1);break;case 3:n.translate(o,i),n.rotate(Math.PI);break;case 4:n.translate(0,i),n.scale(1,-1);break;case 5:t.width=i,t.height=o,n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:t.width=i,t.height=o,n.rotate(.5*Math.PI),n.translate(0,-i);break;case 7:t.width=i,t.height=o,n.rotate(1.5*Math.PI),n.translate(-o,i),n.scale(1,-1);break;case 8:t.width=i,t.height=o,n.translate(0,o),n.rotate(1.5*Math.PI)}n.drawImage(e,0,0,o,i)}},{key:"insertImage",value:function(e,t,n){var r=this.createImageElement(e,t[1],n[1]),o=r.image,i=r.placeholder,a=document.createElement("a");a.href=t[0],a.target="_blank",a.setAttribute("data-pipecid","cid:".concat(n[0])),a.appendChild(o),i.parentNode.replaceChild(a,i),Object(s.x)(o)}},{key:"onParseContent",value:function(e){Ie(Ne(n.prototype),"onParseContent",this).call(this,e);var t=Array.from(e.querySelectorAll("a[data-pipecid]"));t.length&&t.forEach(function(e){var t=e.getAttribute("data-pipecid");t&&e.setAttribute("href",t)})}},{key:"onPaste",value:function(e){(function(e,t){return t in e&&e[t].length>0})(Object(s.h)(e.dataTransfer||e.clipboardData),"text/rtf")||Ie(Ne(n.prototype),"onPaste",this).call(this,e)}}],[{key:"uploadImagesToPipedriveApi",value:function(e,t,n,r,o){var i=function(e){var r=new FormData;return r.append("file",e),r.append("".concat(t,"_id"),n),r.append("inline_flag",!0),r.append("is_note_image",!0),fetch("/api/v1/files?session_token=".concat(Object(Ee.b)("pipe-session-token")),{headers:{Accept:"application/json","Cache-control":"no-cache",Pragma:"no-cache"},method:"POST",body:r}).then(function(e){return e.json()})},a=e[0],s=e[1];Promise.all([i(a),i(s)]).then(function(e){var t=Ce(e,2),n=t[0],o=t[1];if(!n.success||!o.success)throw new Error;var i=Object(Ee.b)("pipe-session-token"),c="?session_token=".concat(i),l="".concat(n.data.url).concat(c),u=n.data.id,f="".concat(o.data.url).concat(c),d=o.data.id;r([l,f],[u,d],{fullFile:a,fullFileResponse:n,resizedFile:s,resizedFileResponse:o})}).catch(function(e){o(e)})}}]),n}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Re,"name","inlineImages");var Me=Re;function ze(e){"@babel/helpers - typeof";return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Be(e);if(t){var o=Be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(n,a);var t=Fe(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).editorEl=e.editorEl,r.eventHandler=e.eventHandler,r.translations=e.translations,r.trackUsage=e.trackUsage||function(){},r.bindEvents(),r}return function(e,t,n){t&&De(e.prototype,t),n&&De(e,n)}(n,[{key:"bindEvents",value:function(){var e=this;["keyup","mouseup"].forEach(function(t){e.eventHandler.addEvent(e.editorEl,"".concat(t,".linkHandler"),function(t){var n=window.getSelection();if(n.rangeCount){if(27===t.keyCode)return e.closeLinkPreview();var r=n.getRangeAt(0),o=r.commonAncestorContainer.parentNode,i="A"===o.tagName&&!Object(s.q)(o);if(Object(s.a)(r.commonAncestorContainer)&&(e.closeLinkPreview(),i)){t.stopPropagation();var a=r.cloneRange();a.selectNode(o),e.openLinkPreview(o.href,a,e.translations)}}})}),this.eventHandler.addEvent(this.editorEl,"keydown.linkHandler",function(t){if(13===t.keyCode||32===t.keyCode)return e.parseLinks()})}},{key:"toolbarButtonClick",value:function(){var e=window.getSelection(),t=e.rangeCount&&e.getRangeAt(0);if(t){var n=t.toString();Object(s.w)(n)?this.createLink(n):this.openLinkEditorPopover(t,null,this.translations)}}},{key:"openLinkEditorPopover",value:function(e,t,n){var r=this;if(Object(s.a)(e.commonAncestorContainer)){var o=document.createElement("form"),i={text:n.link.textLabel,link:n.link.linkLabel,submit:n.shared.saveButton},a=Object(s.d)(e.toString());t=t||"",o.id="linkHandler",o.className="".concat(pe.a.popover," ").concat(ge.a.linkHandlerPopover),o.innerHTML='<div class="'.concat(ge.a.popoverRow,'">\n\t\t\t\t<span class="').concat(ge.a.popoverLabel," ").concat(ge.a.extraMargin,'">').concat(i.text,':</span>\n\t\t\t\t<input class="').concat(ge.a.inputText," ").concat(ge.a.extraMargin,'" type="text" name="text" value="').concat(a,'">\n\t\t\t</div>\n\t\t\t<div class="').concat(ge.a.popoverRow,'">\n\t\t\t\t<span class="').concat(ge.a.popoverLabel,'">').concat(i.link,':</span>\n\t\t\t\t<input class="').concat(ge.a.inputText,'" type="text" name="link" value="').concat(t,'">\n\t\t\t\t<input class="').concat(ge.a.inputSave,'" type="submit" value="').concat(i.submit,'">\n\t\t\t</div>'),o.onsubmit=function(t){t.preventDefault();var n=window.getSelection(),o=t.currentTarget.querySelector("input[name=link]").value,i=t.currentTarget.querySelector("input[name=text]").value||o;r.trackUsage("link_added"),r.closeLinkEditorPopover(),e.deleteContents(),e.insertNode(document.createTextNode(i)),n.removeAllRanges(),n.addRange(e),r.createLink(o),e.commonAncestorContainer.focus(),n.collapseToEnd()},this.eventHandler.addEvent(window,"click.linkHandler",function(e){return r.onWindowClickEditor(e)}),this.eventHandler.addEvent(window,"keyup.linkHandler",function(e){return r.onWindowKeyupEditor(e)}),this.eventHandler.addEvent(window,"resize.linkHandler",function(){return r.closeLinkEditorPopover()}),document.body.appendChild(o),this.setPopoverPosition(o,e);var c=t?"text":"link";o.querySelector("input[name=".concat(c,"]")).focus()}}},{key:"linkReplacer",value:function(e){var t=window.getSelection(),n=t.focusNode;if(n&&(!n.parentElement||"A"!==n.parentElement.tagName)){var r=n.nodeValue&&n.nodeValue.indexOf(e),o=r+e.length;if(-1!==r){var i=document.createRange(),a=e;if(i.setStart(n,r),i.setEnd(n,o),t.removeAllRanges(),t.addRange(i),/^http[s]*:\/\/[\w]+/i.test(a)||(a="http://".concat(a)),Object(s.p)()&&i){i.deleteContents();var c=document.createElement("a");c.text=Object(s.d)(e),c.href=a,i.insertNode(c),i.setStartAfter(c)}else document.execCommand("insertHTML",!1,'<a href="'.concat(a,'">').concat(Object(s.d)(e),"</a>"))}}}},{key:"parseLinks",value:function(){var e=window.getSelection&&window.getSelection(),t=document.activeElement?document.activeElement.innerHTML:null;if(e&&!(e.rangeCount<=0)){var n=e.getRangeAt(0);if(t&&n.collapsed){var r=(t=n.startContainer.textContent.substring(0,n.startOffset+1)).split(/\s/g).filter(function(e){return e}).pop();(/(^|[\s\n]|(?:<|&lt;)(?!a\s)[A-Za-z0-9\s@#/%?=\-()~_|!\\:"',.;]*\/?(?:>|&gt;))((?:https?|ftp):\/\/[-A-Z\u00C0-\u017F0-9+\u0026\u2019@#/%?=()~_|!:,.;]*[-A-Z\u00C0-\u017F0-9+\u0026@#/%=~()_|])/gi.test(r)||/(^|[\s\n]|(?:<|&lt;)(?!a\s)[A-Za-z0-9\s@#/%?=\-()~_|!\\:"',.;]*\/?(?:>|&gt;))(www\.[-A-Z\u00C0-\u017F0-9+\u0026\u2019@#/%?=()~_|!:,.;]*[-A-Z\u00C0-\u017F0-9+\u0026@#/%=~()_|])/gim.test(r))&&this.linkReplacer(r)}}}},{key:"onWindowKeyupEditor",value:function(e){27===e.keyCode&&this.closeLinkEditorPopover()}},{key:"createLink",value:function(e){e&&/^\+?[(]?[0-9]{1,4}\)?[-\s.\/0-9]*$/.test(e)&&(e="tel:".concat(e.replace(/\s/g,""))),e&&!/^((https?|ftp|mailto|tel|callto):)|([a-zA-Z]*:\/\/)/i.test(e)&&(e="http://".concat(e)),/^((data)|(javascript))/i.test(e)||document.execCommand("createLink",!1,e),this.triggerContentChanged()}},{key:"onWindowClickEditor",value:function(e){Object(s.b)(e.target,function(e){return"linkHandler"===e.id})||this.closeLinkEditorPopover()}},{key:"setPopoverPosition",value:function(e,t){var n=this.getCaretCoordinates(t),r=n.top,o=n.left;o+e.offsetWidth>document.documentElement.clientWidth?(o=o-e.offsetWidth+28,e.className+=" ".concat(ge.a.reversed)):o-=28,e.style.top="".concat(r+16,"px"),e.style.left="".concat(o,"px")}},{key:"getCaretCoordinates",value:function(e){var t=document.createElement("div"),n={};(e=e.cloneRange()).collapse(!0),t.style.display="inline-block",e.insertNode(t);var r=t.getBoundingClientRect();n.top=r.top+window.scrollY,n.left=r.left;var o=t.parentNode;return o.contains(t)&&o.removeChild(t),n}},{key:"closePopovers",value:function(){this.closeLinkEditorPopover(),this.closeLinkPreview()}},{key:"closeLinkEditorPopover",value:function(){var e=document.body.querySelector("#linkHandler"),t=document.body;e&&(t.contains(e)&&t.removeChild(e),this.eventHandler.removeEvent(window,"click.linkHandler"),this.eventHandler.removeEvent(window,"keyup.linkHandler"),this.eventHandler.removeEvent(window,"resize.linkHandler"))}},{key:"openLinkPreview",value:function(e,t,n){var r=this,o=document.createElement("div"),i={edit:n.shared.editButton,remove:n.shared.removeButton},a=t.commonAncestorContainer.querySelector("a");e=Object(s.d)(e),o.id="linkPreview",o.className="".concat(pe.a.popover," ").concat(ge.a.linkPreviewPopover),o.innerHTML='<span class="'.concat(ge.a.option," ").concat(ge.a.url,'">\n\t\t\t\t<a class="').concat(ge.a.link,'" href="').concat(e,'" target="_blank" rel="noopener noreferrer">').concat(e,'</a>\n\t\t\t</span>\n\t\t\t<span class="').concat(ge.a.option,'"><a class="').concat(ge.a.link,'" data-action="edit">').concat(i.edit,'</a></span>\n\t\t\t<span class="').concat(ge.a.option,'"><a class="').concat(ge.a.link,'" data-action="remove">').concat(i.remove,"</a></span>"),this.eventHandler.addEvent(o.querySelector('[data-action="edit"]'),"click.linkPreview",function(o){o.stopPropagation(),r.closeLinkPreview(),r.openLinkEditorPopover(t,e,n)}),this.eventHandler.addEvent(o.querySelector('[data-action="remove"]'),"click.linkPreview",function(){r.closeLinkPreview(),r.removeLink(a)}),this.eventHandler.addEvent(window,"mouseup.linkHandler",function(e){return r.onWindowClickPreview(e)}),this.eventHandler.addEvent(window,"resize.linkHandler",function(){return r.closeLinkPreview()}),document.body.appendChild(o),this.setPopoverPosition(o,t)}},{key:"onWindowClickPreview",value:function(e){Object(s.b)(e.target,function(e){return"linkPreview"===e.id})||this.closeLinkPreview()}},{key:"closeLinkPreview",value:function(){var e=document.body.querySelector("#linkPreview"),t=document.body;e&&(t.contains(e)&&t.removeChild(e),this.eventHandler.removeEvent(window,"mouseup.linkHandler"),this.eventHandler.removeEvent(window,"resize.linkHandler"))}},{key:"removeLink",value:function(e){e.parentNode.replaceChild(document.createTextNode(e.innerText),e),this.triggerContentChanged()}},{key:"triggerContentChanged",value:function(){this.editorEl.dispatchEvent(new Event("contentChanged"))}}]),n}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ue,"name","linkHandler");var qe=Ue;function Ve(e){"@babel/helpers - typeof";return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(n,a);var t=Ke(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).NUMBERS_REGEX=/^\s?([0-9]*(\.|\)))\s/,r.BULLETS_REGEX=/^\s?(\*|-)\s/,r.editorEl=e.editorEl,r.eventHandler=e.eventHandler,r.bindEvents(),r}return function(e,t,n){t&&We(e.prototype,t),n&&We(e,n)}(n,[{key:"bindEvents",value:function(){var e=this;this.eventHandler.addEvent(this.editorEl,"keyup.listAutoconverter",function(t){32===t.keyCode&&e.autoconvertToList()})}},{key:"autoconvertToList",value:function(){var e=this;if(this.toAutoconvert()){var t=window.getSelection().focusNode,n=this.fillNewListItem(t),r=t.textContent.match(this.NUMBERS_REGEX),o=r?this.NUMBERS_REGEX:this.BULLETS_REGEX,i=n.childNodes[0];i.textContent=i.textContent.replace(o,"");var a=r&&parseInt(r[0].match(/[0-9]*/)[0],10),s=r?"OL":"UL",c=this.getPreviousSameTypeList(t,s),l=1!==a&&c,u=l?l.cloneNode(!0):document.createElement(s),f=document.createElement("div");u.appendChild(n),f.appendChild(u),this.placeAndFocus(l,t,f.innerHTML),this.eventHandler.addEvent(this.editorEl,"keydown.undoListAutoconversion",function(t){return e.deconvert(t)}),this.eventHandler.addEvent(this.editorEl,"blur.undoListAutoconversion",function(){return e.removeUndoListeners()})}}},{key:"toAutoconvert",value:function(){var e=window.getSelection(),t=e.focusNode;if(t&&"LI"!==t.parentNode.tagName&&!Object(s.p)()&&(!t.previousSibling||"A"!==t.previousSibling.nodeName)){var n=t.textContent.match(this.NUMBERS_REGEX),r=t.textContent.match(this.BULLETS_REGEX),o=n||r;return o&&o[0].length===e.focusOffset&&(this.toAutoconvertToNumbers(n,t)||!!r)}}},{key:"toAutoconvertToNumbers",value:function(e,t){if(!e)return!1;var n=parseInt(e[0].match(/[0-9]*/)[0],10);if(1===n)return!0;var r=this.getPreviousSameTypeList(t,"OL");return r&&n===r.children.length+1}},{key:"fillNewListItem",value:function(e){var t,n=document.createElement("li"),r=e;do{n.appendChild(r.cloneNode(!0)),t=(r=r.nextSibling)&&-1===["DIV","BR"].indexOf(r.tagName)}while(t);return n}},{key:"getPreviousSameTypeList",value:function(e,t){var n=e.previousElementSibling,r=e.parentNode,o=r?r.previousElementSibling:null,i=o&&o.tagName===t;return n&&n.tagName===t?n:"DIV"===r.tagName&&!r.getAttribute("contenteditable")&&i?o:null}},{key:"placeAndFocus",value:function(e,t,n){var r=window.getSelection(),o=document.createRange();if(e){var i=t.parentNode,a=i.querySelector("div, br"),c=a&&a.previousSibling||i.lastChild;o.setStartBefore(e,0),o.setEndAfter(c,0)}else o.selectNode(t);r.removeAllRanges(),r.addRange(o),document.execCommand("insertHTML",!1,n);var l=Object(s.b)(r.focusNode,function(e){return"LI"===e.tagName});Object(s.z)(l)}},{key:"getSelectionNode",value:function(){var e=document.getSelection().anchorNode;return 3===e.nodeType?e.parentNode:e}},{key:"deconvert",value:function(e){8===e.keyCode&&(e.preventDefault(),e.stopPropagation(),document.execCommand("undo",!1,null),Object(s.z)(this.getSelectionNode())),this.removeUndoListeners()}},{key:"removeUndoListeners",value:function(){this.eventHandler.removeEvent(this.editorEl,"keydown.undoListAutoconversion"),this.eventHandler.removeEvent(this.editorEl,"blur.undoListAutoconversion")}}]),n}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ye,"name","listAutoconverter");var $e=Ye,Qe=(n(127),n(64),n(125),n(38)),Je=n.n(Qe);n(214),n(163);function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var et=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tribute=t,this.tribute.events=this}return function(e,t,n){t&&Ze(e.prototype,t),n&&Ze(e,n)}(e,[{key:"bind",value:function(e){e.boundKeydown=this.keydown.bind(e,this),e.boundKeyup=this.keyup.bind(e,this),e.boundInput=this.input.bind(e,this),e.addEventListener("keydown",e.boundKeydown,!1),e.addEventListener("keyup",e.boundKeyup,!1),e.addEventListener("input",e.boundInput,!1)}},{key:"unbind",value:function(e){e.removeEventListener("keydown",e.boundKeydown,!1),e.removeEventListener("keyup",e.boundKeyup,!1),e.removeEventListener("input",e.boundInput,!1),delete e.boundKeydown,delete e.boundKeyup,delete e.boundInput}},{key:"keydown",value:function(t,n){t.shouldDeactivate(n)&&(t.tribute.isActive=!1,t.tribute.hideMenu());var r=this;t.commandEvent=!1,e.keys().forEach(function(e){e.key===n.keyCode&&(t.commandEvent=!0,t.callbacks()[e.value.toLowerCase()](n,r))})}},{key:"input",value:function(e,t){e.inputEvent=!0,e.keyup.call(this,e,t)}},{key:"click",value:function(e,t){var n=e.tribute;if(n.menu&&n.menu.contains(t.target)){var r=t.target;for(t.preventDefault(),t.stopPropagation();"li"!==r.nodeName.toLowerCase();)if(!(r=r.parentNode)||r===n.menu)throw new Error("cannot find the <li> container for the click");n.selectItemAtIndex(r.getAttribute("data-index"),t),n.hideMenu()}else n.current.element&&(n.current.externalTrigger=!1,setTimeout(function(){return n.hideMenu()}))}},{key:"keyup",value:function(e,t){e.inputEvent&&(e.inputEvent=!1),e.updateSelection(this);if(![27,37,38,39,40].includes(t.keyCode)){if(!e.tribute.allowSpaces&&e.tribute.hasTrailingSpace)return e.tribute.hasTrailingSpace=!1,e.commandEvent=!0,void e.callbacks().space(t,this);if(!e.tribute.isActive)if(e.tribute.autocompleteMode)e.callbacks().triggerChar(t,this,"");else{var n=e.getKeyCode(e,this,t);if(isNaN(n)||!n)return;var r=e.tribute.triggers().find(function(e){return e.charCodeAt(0)===n});void 0!==r&&e.callbacks().triggerChar(t,this,r)}e.tribute.current.mentionText.length<e.tribute.current.collection.menuShowMinLength||((e.tribute.current.trigger||e.tribute.autocompleteMode)&&!1===e.commandEvent||8===t.keyCode)&&e.tribute.showMenuFor(this,!0)}}},{key:"shouldDeactivate",value:function(t){if(!this.tribute.isActive)return!1;if(0===this.tribute.current.mentionText.length){var n=!1;return e.keys().forEach(function(e){t.keyCode===e.key&&(n=!0)}),!n}return!1}},{key:"getKeyCode",value:function(e,t,n){var r=e.tribute,o=r.range.getTriggerInfo(!1,r.hasTrailingSpace,!0,r.allowSpaces,r.autocompleteMode);return!!o&&o.mentionTriggerChar.charCodeAt(0)}},{key:"updateSelection",value:function(e){this.tribute.current.element=e;var t=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);t&&(this.tribute.current.selectedPath=t.mentionSelectedPath,this.tribute.current.mentionText=t.mentionText,this.tribute.current.selectedOffset=t.mentionSelectedOffset)}},{key:"callbacks",value:function(){var e=this;return{triggerChar:function(t,n,r){var o=e.tribute;o.current.trigger=r;var i=o.collection.find(function(e){return e.trigger===r});o.current.collection=i,o.current.mentionText.length>=o.current.collection.menuShowMinLength&&o.inputEvent&&o.showMenuFor(n,!0)},enter:function(t,n){e.tribute.isActive&&e.tribute.current.filteredItems&&(t.preventDefault(),t.stopPropagation(),setTimeout(function(){e.tribute.selectItemAtIndex(e.tribute.menuSelected,t),e.tribute.hideMenu()},0))},escape:function(t,n){e.tribute.isActive&&(t.preventDefault(),t.stopPropagation(),e.tribute.isActive=!1,e.tribute.hideMenu())},tab:function(t,n){e.callbacks().enter(t,n)},space:function(t,n){e.tribute.isActive&&(e.tribute.spaceSelectsMatch?e.callbacks().enter(t,n):e.tribute.allowSpaces||(t.stopPropagation(),setTimeout(function(){e.tribute.hideMenu(),e.tribute.isActive=!1},0)))},up:function(t,n){if(e.tribute.isActive&&e.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();var r=e.tribute.current.filteredItems.length,o=e.tribute.menuSelected;r>o&&o>0?(e.tribute.menuSelected--,e.setActiveLi()):0===o&&(e.tribute.menuSelected=r-1,e.setActiveLi(),e.tribute.menu.scrollTop=e.tribute.menu.scrollHeight)}},down:function(t,n){if(e.tribute.isActive&&e.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();var r=e.tribute.current.filteredItems.length-1,o=e.tribute.menuSelected;r>o?(e.tribute.menuSelected++,e.setActiveLi()):r===o&&(e.tribute.menuSelected=0,e.setActiveLi(),e.tribute.menu.scrollTop=0)}},delete:function(t,n){e.tribute.isActive&&e.tribute.current.mentionText.length<1?e.tribute.hideMenu():e.tribute.isActive&&e.tribute.showMenuFor(n)}}}},{key:"setActiveLi",value:function(e){var t=this.tribute.menu.querySelectorAll("li"),n=t.length>>>0;e&&(this.tribute.menuSelected=parseInt(e));for(var r=0;r<n;r++){var o=t[r];if(r===this.tribute.menuSelected){o.classList.add(this.tribute.current.collection.selectClass);var i=o.getBoundingClientRect(),a=this.tribute.menu.getBoundingClientRect();if(i.bottom>a.bottom){var s=i.bottom-a.bottom;this.tribute.menu.scrollTop+=s}else if(i.top<a.top){var c=a.top-i.top;this.tribute.menu.scrollTop-=c}}else o.classList.remove(this.tribute.current.collection.selectClass)}}},{key:"getFullHeight",value:function(e,t){var n=e.getBoundingClientRect().height;if(t){var r=e.currentStyle||window.getComputedStyle(e);return n+parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}}],[{key:"keys",value:function(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}}]),e}();function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tribute=t,this.tribute.menuEvents=this,this.menu=this.tribute.menu}return function(e,t,n){t&&tt(e.prototype,t),n&&tt(e,n)}(e,[{key:"bind",value:function(e){var t=this;this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce(function(){t.tribute.isActive&&t.tribute.showMenuFor(t.tribute.current.element,!1)},300,!1),this.windowResizeEvent=this.debounce(function(){t.tribute.isActive&&t.tribute.range.positionMenuAtCaret(!0)},300,!1),this.closeOnScrollEvent=this.debounce(function(){t.tribute.isActive&&t.tribute.hideMenu()},300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),!0===this.tribute.closeOnScroll?window.addEventListener("scroll",this.closeOnScrollEvent):this.tribute.closeOnScroll instanceof Element||this.tribute.closeOnScroll instanceof HTMLDocument?this.tribute.closeOnScroll.addEventListener("scroll",this.closeOnScrollEvent,!1):this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}},{key:"unbind",value:function(e){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),!0===this.tribute.closeOnScroll?window.removeEventListener("scroll",this.closeOnScrollEvent):this.tribute.closeOnScroll instanceof Element||this.tribute.closeOnScroll instanceof HTMLDocument?this.tribute.closeOnScroll.removeEventListener("scroll",this.closeOnScrollEvent,!1):this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}},{key:"debounce",value:function(e,t,n){var r,o=arguments,i=this;return function(){var a=i,s=o,c=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(a,s)},t),c&&e.apply(a,s)}}}]),e}();function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ot=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tribute=t,this.tribute.range=this}return function(e,t,n){t&&rt(e.prototype,t),n&&rt(e,n)}(e,[{key:"getDocument",value:function(){var e;return this.tribute.current.collection&&(e=this.tribute.current.collection.iframe),e?e.contentWindow.document:document}},{key:"positionMenuAtCaret",value:function(e){var t,n=this,r=this.tribute.current,o=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==o){if(!this.tribute.positionMenu)return void(this.tribute.menu.style.cssText="display: block;");t=this.isContentEditable(r.element)?this.getContentEditableCaretPosition(o.mentionPosition):this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,o.mentionPosition),this.tribute.menu.style.cssText="top: ".concat(t.top,"px;\n                                     left: ").concat(t.left,"px;\n                                     right: ").concat(t.right,"px;\n                                     bottom: ").concat(t.bottom,"px;\n                                     position: absolute;\n                                     display: block;"),"auto"===t.left&&(this.tribute.menu.style.left="auto"),"auto"===t.top&&(this.tribute.menu.style.top="auto"),e&&this.scrollIntoView(),window.setTimeout(function(){var r={width:n.tribute.menu.offsetWidth,height:n.tribute.menu.offsetHeight},o=n.isMenuOffScreen(t,r),i=window.innerWidth>r.width&&(o.left||o.right),a=window.innerHeight>r.height&&(o.top||o.bottom);(i||a)&&(n.tribute.menu.style.cssText="display: none",n.positionMenuAtCaret(e))},0)}else this.tribute.menu.style.cssText="display: none"}},{key:"menuContainerIsBody",get:function(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}},{key:"selectElement",value:function(e,t,n){var r,o=e;if(t)for(var i=0;i<t.length;i++){if(void 0===(o=o.childNodes[t[i]]))return;for(;o.length<n;)n-=o.length,o=o.nextSibling;0!==o.childNodes.length||o.length||(o=o.previousSibling)}var a=this.getWindowSelection();(r=this.getDocument().createRange()).setStart(o,n),r.setEnd(o,n),r.collapse(!0);try{a.removeAllRanges()}catch(e){}a.addRange(r),e.focus()}},{key:"replaceTriggerText",value:function(e,t,n,r,o){var i=this.getTriggerInfo(!0,n,t,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==i){var a=this.tribute.current,s=new CustomEvent("tribute-replaced",{detail:{item:o,instance:a,context:i,event:r}});if(this.isContentEditable(a.element)){e+="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";var c=i.mentionPosition+i.mentionText.length;this.tribute.autocompleteMode||(c+=i.mentionTriggerChar.length),this.pasteHtml(e,i.mentionPosition,c)}else{var l=this.tribute.current.element,u="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";e+=u;var f=i.mentionPosition,d=i.mentionPosition+i.mentionText.length+u.length;this.tribute.autocompleteMode||(d+=i.mentionTriggerChar.length-1),l.value=l.value.substring(0,f)+e+l.value.substring(d,l.value.length),l.selectionStart=f+e.length,l.selectionEnd=f+e.length}a.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),a.element.dispatchEvent(s)}}},{key:"pasteHtml",value:function(e,t,n){var r,o;o=this.getWindowSelection(),(r=this.getDocument().createRange()).setStart(o.anchorNode,t),r.setEnd(o.anchorNode,n),r.deleteContents();var i=this.getDocument().createElement("div");i.innerHTML=e;for(var a,s,c=this.getDocument().createDocumentFragment();a=i.firstChild;)s=c.appendChild(a);r.insertNode(c),s&&((r=r.cloneRange()).setStartAfter(s),r.collapse(!0),o.removeAllRanges(),o.addRange(r))}},{key:"getWindowSelection",value:function(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}},{key:"getNodePositionInParent",value:function(e){if(null===e.parentNode)return 0;for(var t=0;t<e.parentNode.childNodes.length;t++){if(e.parentNode.childNodes[t]===e)return t}}},{key:"getContentEditableSelectedPath",value:function(e){var t=this.getWindowSelection(),n=t.anchorNode,r=[];if(null!=n){for(var o,i=n.contentEditable;null!==n&&"true"!==i;)o=this.getNodePositionInParent(n),r.push(o),null!==(n=n.parentNode)&&(i=n.contentEditable);return r.reverse(),{selected:n,path:r,offset:t.getRangeAt(0).startOffset}}}},{key:"getTextPrecedingCurrentSelection",value:function(){var e=this.tribute.current,t="";if(this.isContentEditable(e.element)){var n=this.getWindowSelection().anchorNode;if(null!=n){var r=n.textContent,o=this.getWindowSelection().getRangeAt(0).startOffset;r&&o>=0&&(t=r.substring(0,o))}}else{var i=this.tribute.current.element;if(i){var a=i.selectionStart;i.value&&a>=0&&(t=i.value.substring(0,a))}}return t}},{key:"getLastWordInText",value:function(e){var t;return e=e.replace(/\u00A0/g," "),(t=this.tribute.autocompleteSeparator?e.split(this.tribute.autocompleteSeparator):e.split(/\s+/))[t.length-1].trim()}},{key:"getTriggerInfo",value:function(e,t,n,r,o){var i,a,s,c=this,l=this.tribute.current;if(this.isContentEditable(l.element)){var u=this.getContentEditableSelectedPath(l);u&&(i=u.selected,a=u.path,s=u.offset)}else i=this.tribute.current.element;var f=this.getTextPrecedingCurrentSelection(),d=this.getLastWordInText(f);if(o)return{mentionPosition:f.length-d.length,mentionText:d,mentionSelectedElement:i,mentionSelectedPath:a,mentionSelectedOffset:s};if(void 0!==f&&null!==f){var p,h=-1;if(this.tribute.collection.forEach(function(e){var t=e.trigger,r=e.requireLeadingSpace?c.lastIndexWithLeadingSpace(f,t):f.lastIndexOf(t);r>h&&(h=r,p=t,n=e.requireLeadingSpace)}),h>=0&&(0===h||!n||/[\xA0\s]/g.test(f.substring(h-1,h)))){var g=f.substring(h+p.length,f.length);p=f.substring(h,h+p.length);var v=g.substring(0,1),m=g.length>0&&(" "===v||" "===v);t&&(g=g.trim());var y=r?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=y.test(g),!m&&(e||!y.test(g)))return{mentionPosition:h,mentionText:g,mentionSelectedElement:i,mentionSelectedPath:a,mentionSelectedOffset:s,mentionTriggerChar:p}}}}},{key:"lastIndexWithLeadingSpace",value:function(e,t){for(var n=e.split("").reverse().join(""),r=-1,o=0,i=e.length;o<i;o++){for(var a=o===e.length-1,s=/\s/.test(n[o+1]),c=!0,l=t.length-1;l>=0;l--)if(t[l]!==n[o-l]){c=!1;break}if(c&&(a||s)){r=e.length-1-o;break}}return r}},{key:"isContentEditable",value:function(e){return"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName}},{key:"isMenuOffScreen",value:function(e,t){var n=window.innerWidth,r=window.innerHeight,o=document.documentElement,i=(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),a=(window.pageYOffset||o.scrollTop)-(o.clientTop||0),s="number"==typeof e.top?e.top:a+r-e.bottom-t.height,c="number"==typeof e.right?e.right:e.left+t.width,l="number"==typeof e.bottom?e.bottom:e.top+t.height,u="number"==typeof e.left?e.left:i+n-e.right-t.width;return{top:s<Math.floor(a),right:c>Math.ceil(i+n),bottom:l>Math.ceil(a+r),left:u<Math.floor(i)}}},{key:"getMenuDimensions",value:function(){var e={width:null,height:null};return this.tribute.menu.style.cssText="top: 0px;\n                                 left: 0px;\n                                 position: fixed;\n                                 display: block;\n                                 visibility; hidden;",e.width=this.tribute.menu.offsetWidth,e.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",e}},{key:"getTextAreaOrInputUnderlinePosition",value:function(e,t,n){var r=null!==window.mozInnerScreenX,o=this.getDocument().createElement("div");o.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(o);var i=o.style,a=window.getComputedStyle?getComputedStyle(e):e.currentStyle;i.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(i.wordWrap="break-word"),i.position="absolute",i.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach(function(e){i[e]=a[e]}),r?(i.width="".concat(parseInt(a.width)-2,"px"),e.scrollHeight>parseInt(a.height)&&(i.overflowY="scroll")):i.overflow="hidden",o.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(o.textContent=o.textContent.replace(/\s/g," "));var s=this.getDocument().createElement("span");s.textContent=e.value.substring(t)||".",o.appendChild(s);var c=e.getBoundingClientRect(),l=document.documentElement,u=(window.pageXOffset||l.scrollLeft)-(l.clientLeft||0),f=(window.pageYOffset||l.scrollTop)-(l.clientTop||0),d=0,p=0;this.menuContainerIsBody&&(d=c.top,p=c.left);var h={top:d+f+s.offsetTop+parseInt(a.borderTopWidth)+parseInt(a.fontSize)-e.scrollTop,left:p+u+s.offsetLeft+parseInt(a.borderLeftWidth)},g=window.innerWidth,v=window.innerHeight,m=this.getMenuDimensions(),y=this.isMenuOffScreen(h,m);y.right&&(h.right=g-h.left,h.left="auto");var b=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(y.bottom){var w=b-(v-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);h.bottom=w+(v-c.top-s.offsetTop),h.top="auto"}return(y=this.isMenuOffScreen(h,m)).left&&(h.left=g>m.width?u+g-m.width:u,delete h.right),y.top&&(h.top=v>m.height?f+v-m.height:f,delete h.bottom),this.getDocument().body.removeChild(o),h}},{key:"getContentEditableCaretPosition",value:function(e){var t,n=this.getWindowSelection();(t=this.getDocument().createRange()).setStart(n.anchorNode,e),t.setEnd(n.anchorNode,e),t.collapse(!1);var r=t.getBoundingClientRect(),o=document.documentElement,i=(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),a=(window.pageYOffset||o.scrollTop)-(o.clientTop||0),s={left:r.left+i,top:r.top+r.height+a},c=window.innerWidth,l=window.innerHeight,u=this.getMenuDimensions(),f=this.isMenuOffScreen(s,u);f.right&&(s.left="auto",s.right=c-r.left-i);var d=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(f.bottom){var p=d-(l-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);s.top="auto",s.bottom=p+(l-r.top)}return(f=this.isMenuOffScreen(s,u)).left&&(s.left=c>u.width?i+c-u.width:i,delete s.right),f.top&&(s.top=l>u.height?a+l-u.height:a,delete s.bottom),this.menuContainerIsBody||(s.left=s.left?s.left-this.tribute.menuContainer.offsetLeft:s.left,s.top=s.top?s.top-this.tribute.menuContainer.offsetTop:s.top),s}},{key:"scrollIntoView",value:function(e){var t,n=this.menu;if(void 0!==n){for(;void 0===t||0===t.height;)if(0===(t=n.getBoundingClientRect()).height&&(void 0===(n=n.childNodes[0])||!n.getBoundingClientRect))return;var r=t.top,o=r+t.height;if(r<0)window.scrollTo(0,window.pageYOffset+t.top-20);else if(o>window.innerHeight){var i=window.pageYOffset+t.top-20;i-window.pageYOffset>100&&(i=window.pageYOffset+100);var a=window.pageYOffset-(window.innerHeight-o);a>i&&(a=i),window.scrollTo(0,a)}}}}]),e}();n(98),n(217);function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var at=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tribute=t,this.tribute.search=this}return function(e,t,n){t&&it(e.prototype,t),n&&it(e,n)}(e,[{key:"simpleFilter",value:function(e,t){var n=this;return t.filter(function(t){return n.test(e,t)})}},{key:"test",value:function(e,t){return null!==this.match(e,t)}},{key:"match",value:function(e,t,n){n=n||{};t.length;var r=n.pre||"",o=n.post||"",i=n.caseSensitive&&t||t.toLowerCase();if(n.skip)return{rendered:t,score:0};e=n.caseSensitive&&e||e.toLowerCase();var a=this.traverse(i,e,0,0,[]);return a?{rendered:this.render(t,a.cache,r,o),score:a.score}:null}},{key:"traverse",value:function(e,t,n,r,o){if(this.tribute.autocompleteSeparator&&(t=t.split(this.tribute.autocompleteSeparator).splice(-1)[0]),t.length===r)return{score:this.calculateScore(o),cache:o.slice()};if(!(e.length===n||t.length-r>e.length-n)){for(var i,a,s=t[r],c=e.indexOf(s,n);c>-1;){if(o.push(c),a=this.traverse(e,t,c+1,r+1,o),o.pop(),!a)return i;(!i||i.score<a.score)&&(i=a),c=e.indexOf(s,c+1)}return i}}},{key:"calculateScore",value:function(e){var t=0,n=1;return e.forEach(function(r,o){o>0&&(e[o-1]+1===r?n+=n+1:n=1),t+=n}),t}},{key:"render",value:function(e,t,n,r){var o=e.substring(0,t[0]);return t.forEach(function(i,a){o+=n+e[i]+r+e.substring(i+1,t[a+1]?t[a+1]:e.length)}),o}},{key:"filter",value:function(e,t,n){var r=this;return n=n||{},t.reduce(function(t,o,i,a){var s=o;n.extract&&((s=n.extract(o))||(s=""));var c=r.match(e,s,n);return null!=c&&(t[t.length]={string:c.rendered,score:c.score,index:i,original:o}),t},[]).sort(function(e,t){var n=t.score-e.score;return n||e.index-t.index})}}]),e}();function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ut=function(){function e(t){var n=this,r=t.values,o=void 0===r?null:r,i=t.loadingItemTemplate,a=void 0===i?null:i,s=t.iframe,c=void 0===s?null:s,l=t.selectClass,u=void 0===l?"highlight":l,f=t.containerClass,d=void 0===f?"tribute-container":f,p=t.itemClass,h=void 0===p?"":p,g=t.trigger,v=void 0===g?"@":g,m=t.autocompleteMode,y=void 0!==m&&m,b=t.autocompleteSeparator,w=void 0===b?null:b,_=t.selectTemplate,x=void 0===_?null:_,k=t.menuItemTemplate,E=void 0===k?null:k,S=t.lookup,O=void 0===S?"key":S,T=t.fillAttr,C=void 0===T?"value":T,A=t.collection,P=void 0===A?null:A,I=t.menuContainer,L=void 0===I?null:I,j=t.noMatchTemplate,N=void 0===j?null:j,R=t.requireLeadingSpace,M=void 0===R||R,z=t.allowSpaces,D=void 0!==z&&z,H=t.replaceTextSuffix,F=void 0===H?null:H,B=t.positionMenu,U=void 0===B||B,q=t.spaceSelectsMatch,V=void 0!==q&&q,W=t.searchOpts,G=void 0===W?{}:W,K=t.menuItemLimit,X=void 0===K?null:K,Y=t.menuShowMinLength,$=void 0===Y?0:Y,Q=t.closeOnScroll,J=void 0!==Q&&Q;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.autocompleteMode=y,this.autocompleteSeparator=w,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=L,this.allowSpaces=D,this.replaceTextSuffix=F,this.positionMenu=U,this.hasTrailingSpace=!1,this.spaceSelectsMatch=V,this.closeOnScroll=J,this.autocompleteMode&&(v="",D=!1),o)this.collection=[{trigger:v,iframe:c,selectClass:u,containerClass:d,itemClass:h,selectTemplate:(x||e.defaultSelectTemplate).bind(this),menuItemTemplate:(E||e.defaultMenuItemTemplate).bind(this),noMatchTemplate:function(e){return"string"==typeof e?""===e.trim()?null:e:"function"==typeof e?e.bind(n):N||function(){return"<li>No Match Found!</li>"}.bind(n)}(N),lookup:O,fillAttr:C,values:o,loadingItemTemplate:a,requireLeadingSpace:M,searchOpts:G,menuItemLimit:X,menuShowMinLength:$}];else{if(!P)throw new Error("[Tribute] No collection specified.");this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=P.map(function(t){return{trigger:t.trigger||v,iframe:t.iframe||c,selectClass:t.selectClass||u,containerClass:t.containerClass||d,itemClass:t.itemClass||h,selectTemplate:(t.selectTemplate||e.defaultSelectTemplate).bind(n),menuItemTemplate:(t.menuItemTemplate||e.defaultMenuItemTemplate).bind(n),noMatchTemplate:function(e){return"string"==typeof e?""===e.trim()?null:e:"function"==typeof e?e.bind(n):N||function(){return"<li>No Match Found!</li>"}.bind(n)}(N),lookup:t.lookup||O,fillAttr:t.fillAttr||C,values:t.values,loadingItemTemplate:t.loadingItemTemplate,requireLeadingSpace:t.requireLeadingSpace,searchOpts:t.searchOpts||G,menuItemLimit:t.menuItemLimit||X,menuShowMinLength:t.menuShowMinLength||$}})}new ot(this),new et(this),new nt(this),new at(this)}return function(e,t,n){t&&lt(e.prototype,t),n&&lt(e,n)}(e,[{key:"isActive",get:function(){return this._isActive},set:function(e){if(this._isActive!=e&&(this._isActive=e,this.current.element)){var t=new CustomEvent("tribute-active-".concat(e));this.current.element.dispatchEvent(t)}}},{key:"triggers",value:function(){return this.collection.map(function(e){return e.trigger})}},{key:"attach",value:function(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array)for(var t=e.length,n=0;n<t;++n)this._attach(e[n]);else this._attach(e)}},{key:"_attach",value:function(e){e.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+e.nodeName),this.ensureEditable(e),this.events.bind(e),e.setAttribute("data-tribute",!0)}},{key:"ensureEditable",value:function(t){if(-1===e.inputTypes().indexOf(t.nodeName)){if(!t.contentEditable)throw new Error("[Tribute] Cannot bind to "+t.nodeName);t.contentEditable=!0}}},{key:"createMenu",value:function(e){var t=this.range.getDocument().createElement("div"),n=this.range.getDocument().createElement("ul");return t.className=e,t.appendChild(n),this.menuContainer?this.menuContainer.appendChild(t):this.range.getDocument().body.appendChild(t)}},{key:"showMenuFor",value:function(e,t){var n=this;if(!this.isActive||this.current.element!==e||this.current.mentionText!==this.currentMentionTextSnapshot){this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),e.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");var r=function(e){if(n.isActive){var r=n.search.filter(n.current.mentionText,e,{pre:n.current.collection.searchOpts.pre||"<span>",post:n.current.collection.searchOpts.post||"</span>",skip:n.current.collection.searchOpts.skip,extract:function(e){if("string"==typeof n.current.collection.lookup)return e[n.current.collection.lookup];if("function"==typeof n.current.collection.lookup)return n.current.collection.lookup(e,n.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});n.current.collection.menuItemLimit&&(r=r.slice(0,n.current.collection.menuItemLimit)),n.current.filteredItems=r;var o=n.menu.querySelector("ul");if(n.range.positionMenuAtCaret(t),!r.length){var i=new CustomEvent("tribute-no-match",{detail:n.menu});return n.current.element.dispatchEvent(i),void("function"==typeof n.current.collection.noMatchTemplate&&!n.current.collection.noMatchTemplate()||!n.current.collection.noMatchTemplate?n.hideMenu():"function"==typeof n.current.collection.noMatchTemplate?o.innerHTML=n.current.collection.noMatchTemplate():o.innerHTML=n.current.collection.noMatchTemplate)}o.innerHTML="";var a=n.range.getDocument().createDocumentFragment();r.forEach(function(e,t){var r=n.range.getDocument().createElement("li");r.setAttribute("data-index",t),r.className=n.current.collection.itemClass,r.addEventListener("mousemove",function(e){var t=st(n._findLiTarget(e.target),2),r=(t[0],t[1]);0!==e.movementY&&n.events.setActiveLi(r)}),n.menuSelected===t&&r.classList.add(n.current.collection.selectClass),r.innerHTML=n.current.collection.menuItemTemplate(e),a.appendChild(r)}),o.appendChild(a)}};"function"==typeof this.current.collection.values?(this.current.collection.loadingItemTemplate&&(this.menu.querySelector("ul").innerHTML=this.current.collection.loadingItemTemplate,this.range.positionMenuAtCaret(t)),this.current.collection.values(this.current.mentionText,r)):r(this.current.collection.values)}}},{key:"_findLiTarget",value:function(e){if(!e)return[];var t=e.getAttribute("data-index");return t?[e,t]:this._findLiTarget(e.parentNode)}},{key:"showMenuForCollection",value:function(e,t){e!==document.activeElement&&this.placeCaretAtEnd(e),this.current.collection=this.collection[t||0],this.current.externalTrigger=!0,this.current.element=e,e.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(e,this.current.collection.trigger),this.showMenuFor(e)}},{key:"placeCaretAtEnd",value:function(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}},{key:"insertTextAtCursor",value:function(e){var t,n;(n=(t=window.getSelection()).getRangeAt(0)).deleteContents();var r=document.createTextNode(e);n.insertNode(r),n.selectNodeContents(r),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}},{key:"insertAtCaret",value:function(e,t){var n=e.scrollTop,r=e.selectionStart,o=e.value.substring(0,r),i=e.value.substring(e.selectionEnd,e.value.length);e.value=o+t+i,r+=t.length,e.selectionStart=r,e.selectionEnd=r,e.focus(),e.scrollTop=n}},{key:"hideMenu",value:function(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}},{key:"selectItemAtIndex",value:function(e,t){if("number"==typeof(e=parseInt(e))&&!isNaN(e)){var n=this.current.filteredItems[e],r=this.current.collection.selectTemplate(n);null!==r&&this.replaceText(r,t,n)}}},{key:"replaceText",value:function(e,t,n){this.range.replaceTriggerText(e,!0,!0,t,n)}},{key:"_append",value:function(e,t,n){if("function"==typeof e.values)throw new Error("Unable to append to values, as it is a function.");e.values=n?t:e.values.concat(t)}},{key:"append",value:function(e,t,n){var r=parseInt(e);if("number"!=typeof r)throw new Error("please provide an index for the collection to update.");var o=this.collection[r];this._append(o,t,n)}},{key:"appendCurrent",value:function(e,t){if(!this.isActive)throw new Error("No active state. Please use append instead and pass an index.");this._append(this.current.collection,e,t)}},{key:"detach",value:function(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array)for(var t=e.length,n=0;n<t;++n)this._detach(e[n]);else this._detach(e)}},{key:"_detach",value:function(e){var t=this;this.events.unbind(e),e.tributeMenu&&this.menuEvents.unbind(e.tributeMenu),setTimeout(function(){e.removeAttribute("data-tribute"),t.isActive=!1,e.tributeMenu&&e.tributeMenu.remove()})}}],[{key:"defaultSelectTemplate",value:function(e){return void 0===e?"".concat(this.current.collection.trigger).concat(this.current.mentionText):this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+e.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+e.original[this.current.collection.fillAttr]}},{key:"defaultMenuItemTemplate",value:function(e){return e.string}},{key:"inputTypes",value:function(){return["TEXTAREA","INPUT"]}}]),e}(),ft=(n(222),n(1)),dt=n.n(ft),pt=n(46),ht=n.n(pt),gt=n(8);function vt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function mt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){vt(i,r,o,a,s,"next",e)}function s(e){vt(i,r,o,a,s,"throw",e)}a(void 0)})}}var yt="wysiwyg-mentions-hovercard",bt="wysiwyg-mentions-tooltip",wt="cui4-user-chip",_t='<svg class="cui4-icon cui4-icon--s cui4-icon--blue"><use href="#icon-warning" xlink:href="#icon-warning-outline" /></svg>';function xt(){return(xt=mt(regeneratorRuntime.mark(function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.el,r=t.componentLoader,o=t.toUserId,e.next=3,r.load("quick-info-card");case 3:i=e.sent,a=i.default,n.addEventListener("mouseenter",mt(regeneratorRuntime.mark(function e(){var t,i,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.load("webapp:users");case 2:t=e.sent,i=t.get(o),s=i.attributes,c={id:o,data:s,type:"user",source:"mentions",triggerElement:n,popoverProps:{portalTo:document.body,placement:"bottom",visible:!0,popperProps:{modifiers:{preventOverflow:{enabled:!0,padding:8,boundariesElement:"viewport"}}}}},(l=document.getElementById(yt))&&l.remove(),(l=document.createElement("div")).id=yt,c.triggerElement.append(l),ht.a.render(dt.a.createElement(a,c),l);case 11:case"end":return e.stop()}},e)}))),n.addEventListener("mouseleave",function(){var e=document.getElementById(yt);e&&(ht.a.unmountComponentAtNode(e),e.remove())});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kt(){var e=window.getSelection();return e.rangeCount&&e.getRangeAt(0)}function Et(e){var t=e.el,n=e.texts;t.querySelector(".cui4-icon")&&n.noPermission&&!t.dataset.tooltipAdded&&(t.addEventListener("mouseenter",mt(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=document.getElementById(bt))||((r=document.createElement("div")).style.position="absolute",r.style.bottom="0px",r.style.left="50%",r.id=bt),t.appendChild(r),t.dataset.tooltipAdded=!0,ht.a.render(dt.a.createElement(gt.Tooltip,{content:n.noPermission,children:dt.a.createElement("div"),placement:"bottom",visible:!0,portalTo:document.body,popperProps:{modifiers:{preventOverflow:{enabled:!0,padding:8,boundariesElement:"viewport"}}}}),r);case 5:case"end":return e.stop()}},e)}))),t.addEventListener("mouseleave",St))}function St(){var e=document.getElementById(bt);e&&(ht.a.unmountComponentAtNode(e),e.remove())}function Ot(){return function(){var e=kt();if(!e)return;var t=e.endContainer,n=t.lastElementChild||t;if(e.startOffset>1)return;if(Tt(n))return n;if(3===n.nodeType&&e.startOffset<=1)return Tt(n=n.previousSibling)?n:null;try{for(;1===e.comparePoint(n,0);)n=n.previousSibling}catch(e){return null}if(Tt(n))return n;return null}()||function(){var e=kt();if(!e)return;var t=e.endContainer.parentElement;if(Tt(t))return t;return null}()}function Tt(e){return e&&e.classList&&e.classList.contains(wt)}function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.componentLoader,r=t.texts,o=void 0===r?{}:r,i=e.querySelectorAll("[data-mentions]");Array.from(i).forEach(function(e){var t=!0;delete e.dataset.tooltipAdded;var r=e.dataset.mentions,i=parseInt(r.split(":")[1],10);e.classList.add(wt);var a=function(e,t){e.href||(e.href="/users/details/".concat(t))};"true"===e.dataset.mentionsYou?(e.classList.add("".concat(wt,"--you")),a(e,i)):"false"===e.dataset.mentionsActive?(t=!1,e.classList.add("".concat(wt,"--deactivated")),o.deactivated&&e.innerText&&!e.innerText.endsWith("(".concat(o.deactivated,")"))?e.innerText+=" (".concat(o.deactivated,")"):e.innerText&&!e.innerText.endsWith("(deactivated)")&&(e.innerText+=" (deactivated)"),a(e,i)):"false"===e.dataset.mentionsPermission?(t=!1,e.classList.add("".concat(wt,"--no-permission")),e.innerHTML+=_t):"true"===e.dataset.mentionsIsHidden?(e.classList.add("".concat(wt,"--hidden")),t=!1,e.href=null,o.hiddenUser&&(e.innerText=e.innerText.replace("hidden user",o.hiddenUser))):(e.classList.add("".concat(wt,"--other")),a(e,i)),"_blank"===e.target&&(e.target=void 0),n&&t&&function(e){xt.apply(this,arguments)}({el:e,componentLoader:n,toUserId:i}),Et({el:e,texts:o})})}function At(e){return function(e){if(Array.isArray(e))return Pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function jt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Lt(i,r,o,a,s,"next",e)}function s(e){Lt(i,r,o,a,s,"throw",e)}a(void 0)})}}function Nt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=jt(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityType,r=t.entityId,e.next=3,Mt({entityType:n,entityId:r});case 3:return o=e.sent,i=o.ownerId,a=o.personId,s=o.orgId,e.next=9,Dt({entityType:n,entityId:r,personId:a,orgId:s});case 9:return c=e.sent,e.abrupt("return",{ownerId:i,permittedUsers:c});case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Mt(e){return zt.apply(this,arguments)}function zt(){return(zt=jt(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s,c,l,u,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityType,r=t.entityId,e.prev=1,e.next=4,Object(Ee.a)("/api/v1/".concat(n,"s/").concat(r,":(user_id,owner_id,person_id,org_id)"));case 4:return o=e.sent,i=o.data,a=i.owner_id,s=i.user_id,c=i.person_id,l=i.org_id,u=o.related_objects,f=u.organization,d=u.person,c&&!d[c].active_flag&&(c=null),l&&!f[l].active_flag&&(l=null),e.abrupt("return",{ownerId:a||s,personId:c,orgId:l});case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return",{ownerId:-1});case 21:case"end":return e.stop()}},e,null,[[1,18]])}))).apply(this,arguments)}function Dt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=jt(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityType,r=t.entityId,o=t.personId,i=t.orgId,e.prev=1,s={queryParams:{limit:500}},(a=[]).push(Object(Ee.a)("/api/v1/".concat(n,"s/").concat(r,"/permittedUsers"),s)),o&&a.push(Object(Ee.a)("/api/v1/persons/".concat(o,"/permittedUsers"),s)),i&&a.push(Object(Ee.a)("/api/v1/organizations/".concat(i,"/permittedUsers"),s)),e.t0=Je.a,e.next=10,Promise.all(a);case 10:return e.t1=e.sent,e.t2=function(e){return e.data||[]},c=e.t0.map.call(e.t0,e.t1,e.t2),e.abrupt("return",Je.a.intersection.apply(Je.a,At(c)));case 16:return e.prev=16,e.t3=e.catch(1),e.abrupt("return",null);case 19:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}var Ft=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.validKeys=["orderedCompanyUsers","ownerId","permittedUsers"],this.fetchRequiredMetaData=Je.a.throttle(Nt,2e3,{trailing:!1})}return function(e,t,n){t&&It(e.prototype,t),n&&It(e,n)}(e,[{key:"populateWithDataFromApi",value:function(){var e=jt(regeneratorRuntime.mark(function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.entityType,r=t.entityId,n&&r){e.next=5;break}this.setCachedDataFromApi({ownerId:null,permittedUsers:"*"}),e.next=11;break;case 5:return e.next=7,this.fetchRequiredMetaData({entityType:n,entityId:r});case 7:o=e.sent,i=o.ownerId,a=o.permittedUsers,this.setCachedDataFromApi({ownerId:i,permittedUsers:a});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setCachedDataFromApi",value:function(e){var t=e.ownerId,n=e.permittedUsers;this.ownerId=t,this.permittedUsers=n}},{key:"invalidate",value:function(){var e=this;this.validKeys.forEach(function(t){e[t]=null})}},{key:"set",value:function(e,t){this._validateKey(e),this[e]=t}},{key:"get",value:function(e){return this._validateKey(e),this[e]}},{key:"_validateKey",value:function(e){if(!this.validKeys.includes(e))throw new Error("Invalid key: ".concat(e))}}]),e}();function Bt(e){"@babel/helpers - typeof";return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(n,a);var t=Xt(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).editorEl=e.editorEl,r.eventHandler=e.eventHandler,r.userId=e.userId,r.companyUsers=e.companyUsers,r.entityType=e.entityType,r.entityId=e.entityId,r.texts=e.texts||{},r.tributeOptions=e.tributeOptions,r.cache=new Ft,r.initTribute(),n.applyMentionsStyles(r.editorEl,{texts:r.texts}),r.eventHandler.addEvent(r.editorEl,"blur.".concat(n.name),function(e){r.cache.invalidate()}),r.removeMentionsTooltipDebounced=Je.a.debounce(St,300),r.eventHandler.addEvent(r.editorEl,"keydown.".concat(n.name),function(e){8===e.keyCode&&r.handleBackspaceKeypress(e),r.removeMentionsTooltipDebounced(),r.isLastEntryMention=!1}),r.eventHandler.addEvent(r.editorEl,"tribute-replaced.".concat(n.name),function(e){r.isLastEntryMention=!0}),r}return function(e,t,n){t&&Gt(e.prototype,t),n&&Gt(e,n)}(n,[{key:"initTribute",value:function(){var e=this;this.tribute=new ut(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach(function(t){$t(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({containerClass:"cui4-popover cui4-popover__inner tribute-container",values:function(){var t=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Vt(i,r,o,a,s,"next",e)}function s(e){Vt(i,r,o,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.cache.get("ownerId")){t.next=5;break}return e.tribute.menu.querySelector("ul").innerHTML='<div class="pdwysiwyg-mentions-loader"><div class="cui4-spinner"><div class="cui4-spinner__trail"></div></div></div>',e.tribute.range.positionMenuAtCaret(),t.next=5,e.cache.populateWithDataFromApi({entityType:e.entityType,entityId:e.entityId});case 5:e.filterUsers(n,r);case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),menuItemTemplate:function(t){var n=t.original,r=!!n.icon_url?'<div class="cui4-avatar cui4-avatar--s">\n\t\t\t\t\t\t<img class="cui4-avatar__image" src="'.concat(n.icon_url,'" />\n\t\t\t\t\t</div>'):'<div class="cui4-avatar cui4-avatar--user cui4-avatar--s">\n\t\t\t\t\t\t'.concat(e.createUserAvatarName(n.name),"\n\t\t\t\t\t</div>"),o="";return n.is_you?o+='<div class="pdwysiwyg-mentions-user-status"> ('.concat(e.texts.you||"you",")</div>"):n.id===e.cache.get("ownerId")&&(o+='<div class="pdwysiwyg-mentions-user-status"> ('.concat(e.texts.owner||"owner",")</div>")),"".concat(r,' <div class="pdwysiwyg-mentions-name">').concat(n.name,"</div>").concat(o)},lookup:function(e){return e.name},selectTemplate:function(t){var n,r,o=t.original,i=o.id,a=o.name,s=Je.a.escape(a),c="";return i===e.userId?(n="cui4-user-chip--you",c='data-mentions-you="true" data-mentions-permission="true"'):e.cache.get("permittedUsers")&&Je.a.isArray(e.cache.get("permittedUsers"))&&!e.cache.get("permittedUsers").includes(i)?(n="cui4-user-chip--no-permission",c='data-mentions-you="false" data-mentions-permission="false"',r=_t):(n="cui4-user-chip--other",c='data-mentions-you="false" data-mentions-permission="true"'),'<a href="/users/details/'.concat(i,'" class="cui4-user-chip ').concat(n,'" data-mentions="').concat(e.userId,":").concat(i,'" ').concat(c,">@").concat(s).concat(r||"","</a>")},noMatchTemplate:function(){return""},menuItemLimit:8},this.tributeOptions)),this.tribute.attach(this.editorEl),this.editorEl.addEventListener("tribute-replaced",function(){var t=e.editorEl.querySelectorAll(".cui4-user-chip");Array.from(t).forEach(function(t){Et({el:t,texts:e.texts})})})}},{key:"filterUsers",value:function(e,t){var n=this;if(!this.cache.get("orderedCompanyUsers")){var r=Je()(this.companyUsers).filter(function(e){return e.active_flag}).orderBy(["is_you",function(e){return e.id===n.cache.get("ownerId")},"name"],["desc","desc","asc"]).value();this.cache.set("orderedCompanyUsers",r)}t(this.cache.get("orderedCompanyUsers").filter(function(t){return t.name.toUpperCase().split(" ").find(function(t){return t.startsWith(e.toUpperCase())})}))}},{key:"createUserAvatarName",value:function(e){return e=(e=e.split(" ")).length>1?e[0][0]+e[e.length-1][0]:e[0][0]}},{key:"handleBackspaceKeypress",value:function(e){if(this.isLastEntryMention){var t=window.getSelection(),n=t.rangeCount&&t.getRangeAt(0);if(!n)return;var r=n.endContainer;r&&r.lastElementChild&&Tt(r.lastElementChild)&&r.lastElementChild.remove()}var o=Ot();o&&o.remove()}},{key:"toolbarButtonClick",value:function(){this.tribute.showMenuForCollection(this.editorEl)}}],[{key:"applyMentionsStyles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.componentLoader,r=t.texts;return Ct(e,{componentLoader:n,texts:void 0===r?{}:r})}},{key:"removeMentionsStyles",value:function(e){return function(e){var t=e.querySelectorAll("[data-mentions]");"".concat(wt,"--you"),"".concat(wt,"--deactivated"),Array.from(t).forEach(function(e){if(e.classList.remove(wt),"true"===e.dataset.mentionsYou?e.classList.remove("".concat(wt,"--you")):"false"===e.dataset.mentionsActive?e.classList.remove("".concat(wt,"--deactivated")):"false"===e.dataset.mentionsPermission?e.classList.remove("".concat(wt,"--no-permission")):"true"===e.dataset.mentionsIsHidden?e.classList.remove("".concat(wt,"--hidden")):e.classList.remove("".concat(wt,"--other")),e.innerHTML.includes("#icon-warning")){var t=e.querySelector("svg");t&&t.querySelector('[href="#icon-warning"]')&&t.remove()}var n=document.getElementById(yt);n&&n.remove();var r=document.getElementById(bt);r&&r.remove()})}(e)}},{key:"getMentions",value:function(e){var t=[],n=document.createElement("div");n.innerHTML=e;var r=n.querySelectorAll("[data-mentions]");Array.from(r).forEach(function(e){var n=Ut(e.dataset.mentions.split(":"),2),r=n[0],o=n[1];t.push({from:parseInt(r,10),to:parseInt(o,10)})});var o=t.map(function(e){return e.to}),i=Je.a.uniq(o).length;return n.remove(),{mentionsCount:i,mentionings:t}}}]),n}();$t(Qt,"name","mentions");var Jt=Qt,Zt=(n(104),n(2)),en=n.n(Zt);function tn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nn(e,t){return e(t={exports:{}},t.exports),t.exports}function rn(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var on=/javascript\s*\:/gim;var an={whiteList:rn(),getDefaultWhiteList:rn,onAttr:function(e,t,n){},onIgnoreAttr:function(e,t,n){},safeAttrValue:function(e,t){return on.test(t)?"":t}},sn={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}};var cn=function(e,t){";"!==(e=sn.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,r=!1,o=0,i=0,a="";function s(){if(!r){var n=sn.trim(e.slice(o,i)),s=n.indexOf(":");if(-1!==s){var c=sn.trim(n.slice(0,s)),l=sn.trim(n.slice(s+1));if(c){var u=t(o,a.length,c,l,n);u&&(a+=u+"; ")}}}o=i+1}for(;i<n;i++){var c=e[i];if("/"===c&&"*"===e[i+1]){var l=e.indexOf("*/",i+2);if(-1===l)break;o=(i=l+1)+1,r=!1}else"("===c?r=!0:")"===c?r=!1:";"===c?r||s():"\n"===c&&s()}return sn.trim(a)};function ln(e){return void 0===e||null===e}function un(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||an.whiteList,e.onAttr=e.onAttr||an.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||an.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||an.safeAttrValue,this.options=e}un.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,o=t.onIgnoreAttr,i=t.safeAttrValue;return cn(e,function(e,t,a,s,c){var l=n[a],u=!1;if(!0===l?u=l:"function"==typeof l?u=l(s):l instanceof RegExp&&(u=l.test(s)),!0!==u&&(u=!1),s=i(a,s)){var f,d={position:t,sourcePosition:e,source:c,isWhite:u};return u?ln(f=r(a,s,d))?a+":"+s:f:ln(f=o(a,s,d))?void 0:f}})};var fn=un,dn=nn(function(e,t){for(var n in(t=e.exports=function(e,t){return new fn(t).process(e)}).FilterCSS=fn,an)t[n]=an[n];"undefined"!=typeof window&&(window.filterCSS=e.exports)}),pn=(dn.FilterCSS,{indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}),hn=dn.FilterCSS,gn=dn.getDefaultWhiteList;function vn(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var mn=new hn;function yn(e){return e.replace(bn,"&lt;").replace(wn,"&gt;")}var bn=/</g,wn=/>/g,_n=/"/g,xn=/&quot;/g,kn=/&#([a-zA-Z0-9]*);?/gim,En=/&colon;?/gim,Sn=/&newline;?/gim,On=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,Tn=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Cn=/u\s*r\s*l\s*\(.*/gi;function An(e){return e.replace(_n,"&quot;")}function Pn(e){return e.replace(xn,'"')}function In(e){return e.replace(kn,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function Ln(e){return e.replace(En,":").replace(Sn," ")}function jn(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return pn.trim(t)}function Nn(e){return e=jn(e=Ln(e=In(e=Pn(e))))}function Rn(e){return e=yn(e=An(e))}var Mn=/<!--[\s\S]*?-->/g;var zn={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},getDefaultWhiteList:vn,onTag:function(e,t,n){},onIgnoreTag:function(e,t,n){},onTagAttr:function(e,t,n){},onIgnoreTagAttr:function(e,t,n){},safeAttrValue:function(e,t,n,r){if(n=Nn(n),"href"===t||"src"===t){if("#"===(n=pn.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(On.lastIndex=0,On.test(n))return""}else if("style"===t){if(Tn.lastIndex=0,Tn.test(n))return"";if(Cn.lastIndex=0,Cn.test(n)&&(On.lastIndex=0,On.test(n)))return"";!1!==r&&(n=(r=r||mn).process(n))}return n=Rn(n)},escapeHtml:yn,escapeQuote:An,unescapeQuote:Pn,escapeHtmlEntities:In,escapeDangerHtml5Entities:Ln,clearNonPrintableCharacter:jn,friendlyAttrValue:Nn,escapeAttrValue:Rn,onIgnoreTagStripAll:function(){return""},StripTagBody:function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(i,a,s){if(function(t){return!!n||-1!==pn.indexOf(e,t)}(i)){if(s.isClosing){var c="[/removed]",l=s.position+c.length;return r.push([!1!==o?o:s.position,l]),o=!1,c}return o||(o=s.position),"[removed]"}return t(i,a,s)},remove:function(e){var t="",n=0;return pn.forEach(r,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}},stripCommentTag:function(e){return e.replace(Mn,"")},stripBlankChar:function(e){var t=e.split("");return(t=t.filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)})).join("")},cssFilter:mn,getDefaultCSSWhiteList:gn};function Dn(e){var t=pn.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=pn.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function Hn(e){return"</"===e.slice(0,2)}var Fn=/[^a-zA-Z0-9_:\.\-]/gim;function Bn(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function Un(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function qn(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var Vn={parseTag:function(e,t,n){"user strict";var r="",o=0,i=!1,a=!1,s=0,c=e.length,l="",u="";for(s=0;s<c;s++){var f=e.charAt(s);if(!1===i){if("<"===f){i=s;continue}}else if(!1===a){if("<"===f){r+=n(e.slice(o,s)),i=s,o=s;continue}if(">"===f){r+=n(e.slice(o,i)),l=Dn(u=e.slice(i,s+1)),r+=t(i,r.length,l,u,Hn(u)),o=s+1,i=!1;continue}if(('"'===f||"'"===f)&&"="===e.charAt(s-1)){a=f;continue}}else if(f===a){a=!1;continue}}return o<e.length&&(r+=n(e.substr(o))),r},parseAttr:function(e,t){"user strict";var n=0,r=[],o=!1,i=e.length;function a(e,n){if(!((e=(e=pn.trim(e)).replace(Fn,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&r.push(o)}}for(var s=0;s<i;s++){var c,l=e.charAt(s);if(!1!==o||"="!==l)if(!1===o||s!==n||'"'!==l&&"'"!==l||"="!==e.charAt(s-1)){if(/\s|\n|\t/.test(l)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(c=Bn(e,s))){a(pn.trim(e.slice(n,s))),o=!1,n=s+1;continue}s=c-1;continue}if(-1===(c=Un(e,s-1))){a(o,qn(pn.trim(e.slice(n,s)))),o=!1,n=s+1;continue}}}else{if(-1===(c=e.indexOf(l,s+1)))break;a(o,pn.trim(e.slice(n+1,c))),o=!1,n=(s=c)+1}else o=e.slice(n,s),n=s+1}return n<e.length&&(!1===o?a(e.slice(n)):a(o,qn(pn.trim(e.slice(n))))),pn.trim(r.join(" "))}},Wn=dn.FilterCSS,Gn=Vn.parseTag,Kn=Vn.parseAttr;function Xn(e){return void 0===e||null===e}function Yn(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=zn.onIgnoreTagStripAll),e.whiteList=e.whiteList||zn.whiteList,e.onTag=e.onTag||zn.onTag,e.onTagAttr=e.onTagAttr||zn.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||zn.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||zn.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||zn.safeAttrValue,e.escapeHtml=e.escapeHtml||zn.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Wn(e.css))}Yn.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,o=t.onIgnoreTag,i=t.onTagAttr,a=t.onIgnoreTagAttr,s=t.safeAttrValue,c=t.escapeHtml,l=this.cssFilter;t.stripBlankChar&&(e=zn.stripBlankChar(e)),t.allowCommentTag||(e=zn.stripCommentTag(e));var u=!1;if(t.stripIgnoreTagBody){u=zn.StripTagBody(t.stripIgnoreTagBody,o);o=u.onIgnoreTag}var f=Gn(e,function(e,t,u,f,d){var p,h={sourcePosition:e,position:t,isClosing:d,isWhite:n.hasOwnProperty(u)};if(!Xn(p=r(u,f,h)))return p;if(h.isWhite){if(h.isClosing)return"</"+u+">";var g=function(e){var t=pn.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=pn.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=pn.trim(e.slice(0,-1))),{html:e,closing:n}}(f),v=n[u],m=Kn(g.html,function(e,t){var n,r=-1!==pn.indexOf(v,e);return Xn(n=i(u,e,t,r))?r?(t=s(u,e,t,l))?e+'="'+t+'"':e:Xn(n=a(u,e,t,r))?void 0:n:n});f="<"+u;return m&&(f+=" "+m),g.closing&&(f+=" /"),f+=">"}return Xn(p=o(u,f,h))?c(f):p},c);return u&&(f=u.remove(f)),f};var $n=Yn,Qn=nn(function(e,t){for(var n in(t=e.exports=function(e,t){return new $n(t).process(e)}).FilterXSS=$n,zn)t[n]=zn[n];for(var n in Vn)t[n]=Vn[n];"undefined"!=typeof window&&(window.filterXSS=e.exports)}),Jn=(Qn.FilterXSS,"[object String]"),Zn=Object.prototype.toString,er=Array.isArray;var tr=function(e){return"string"==typeof e||!er(e)&&function(e){return!!e&&"object"==typeof e}(e)&&Zn.call(e)==Jn},nr=nn(function(e,t){t.__esModule=!0;t.default={nbsp:" "}});tn(nr);var rr=nn(function(e,t){function n(e){this.named=e}t.__esModule=!0;var r=/^#[xX]([A-Fa-f0-9]+)$/,o=/^#([0-9]+)$/,i=/^([A-Za-z0-9]+)$/;n.prototype.parse=function(e){if(e){var t=e.match(r);return t?"&#x"+t[1]+";":(t=e.match(o))?"&#"+t[1]+";":(t=e.match(i))?this.named[t[1]]||"&"+t[1]+";":void 0}},t.default=n});tn(rr);var or=nn(function(e,t){t.__esModule=!0,t.isSpace=function(e){return n.test(e)},t.isAlpha=function(e){return r.test(e)},t.preprocessInput=function(e){return e.replace(o,"\n")};var n=/[\t\n\f ]/,r=/[A-Za-z]/,o=/\r\n?/g});tn(or);or.isSpace,or.isAlpha,or.preprocessInput;var ir=nn(function(e,t){function n(e,t){this.delegate=e,this.entityParser=t,this.state=null,this.input=null,this.index=-1,this.line=-1,this.column=-1,this.tagLine=-1,this.tagColumn=-1,this.reset()}t.__esModule=!0,n.prototype={reset:function(){this.state="beforeData",this.input="",this.index=0,this.line=1,this.column=0,this.tagLine=-1,this.tagColumn=-1,this.delegate.reset()},tokenize:function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},tokenizePart:function(e){for(this.input+=(0,or.preprocessInput)(e);this.index<this.input.length;)this.states[this.state].call(this)},tokenizeEOF:function(){this.flushData()},flushData:function(){"data"===this.state&&(this.delegate.finishData(),this.state="beforeData")},peek:function(){return this.input.charAt(this.index)},consume:function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},consumeCharRef:function(){var e=this.input.indexOf(";",this.index);if(-1!==e){var t=this.input.slice(this.index,e),n=this.entityParser.parse(t);if(n){for(var r=t.length;r;)this.consume(),r--;return this.consume(),n}}},markTagStart:function(){this.tagLine=this.line,this.tagColumn=this.column,this.delegate.tagOpen&&this.delegate.tagOpen()},states:{beforeData:function(){"<"===this.peek()?(this.state="tagOpen",this.markTagStart(),this.consume()):(this.state="data",this.delegate.beginData())},data:function(){var e=this.peek();"<"===e?(this.delegate.finishData(),this.state="tagOpen",this.markTagStart(),this.consume()):"&"===e?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e))},tagOpen:function(){var e=this.consume();"!"===e?this.state="markupDeclaration":"/"===e?this.state="endTagOpen":(0,or.isAlpha)(e)&&(this.state="tagName",this.delegate.beginStartTag(),this.delegate.appendToTagName(e.toLowerCase()))},markupDeclaration:function(){"-"===this.consume()&&"-"===this.input.charAt(this.index)&&(this.consume(),this.state="commentStart",this.delegate.beginComment())},commentStart:function(){var e=this.consume();"-"===e?this.state="commentStartDash":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData(e),this.state="comment")},commentStartDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("-"),this.state="comment")},comment:function(){var e=this.consume();"-"===e?this.state="commentEndDash":this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":(this.delegate.appendToCommentData("-"+e),this.state="comment")},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("--"+e),this.state="comment")},tagName:function(){var e=this.consume();(0,or.isSpace)(e)?this.state="beforeAttributeName":"/"===e?this.state="selfClosingStartTag":">"===e?(this.delegate.finishTag(),this.state="beforeData"):this.delegate.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();(0,or.isSpace)(e)?this.consume():"/"===e?(this.state="selfClosingStartTag",this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeName",this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},attributeName:function(){var e=this.peek();(0,or.isSpace)(e)?(this.state="afterAttributeName",this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.state="beforeAttributeValue",this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();(0,or.isSpace)(e)?this.consume():"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.consume(),this.state="beforeAttributeValue"):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="attributeName",this.delegate.beginAttribute(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();(0,or.isSpace)(e)?this.consume():'"'===e?(this.state="attributeValueDoubleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.state="attributeValueSingleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeValueUnquoted",this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef('"')||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef("'")||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();(0,or.isSpace)(e)?(this.delegate.finishAttributeValue(),this.consume(),this.state="beforeAttributeName"):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef(">")||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();(0,or.isSpace)(e)?(this.consume(),this.state="beforeAttributeName"):"/"===e?(this.consume(),this.state="selfClosingStartTag"):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},endTagOpen:function(){var e=this.consume();(0,or.isAlpha)(e)&&(this.state="tagName",this.delegate.beginEndTag(),this.delegate.appendToTagName(e.toLowerCase()))}}},t.default=n});tn(ir);var ar=nn(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(ir);function r(e,t){this.token=null,this.startLine=1,this.startColumn=0,this.options=t||{},this.tokenizer=new n.default(this,e)}r.prototype={tokenize:function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},tokenizePart:function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},tokenizeEOF:function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},reset:function(){this.token=null,this.startLine=1,this.startColumn=0},addLocInfo:function(){this.options.loc&&(this.token.loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},beginData:function(){this.token={type:"Chars",chars:""},this.tokens.push(this.token)},appendToData:function(e){this.token.chars+=e},finishData:function(){this.addLocInfo()},beginComment:function(){this.token={type:"Comment",chars:""},this.tokens.push(this.token)},appendToCommentData:function(e){this.token.chars+=e},finishComment:function(){this.addLocInfo()},beginStartTag:function(){this.token={type:"StartTag",tagName:"",attributes:[],selfClosing:!1},this.tokens.push(this.token)},beginEndTag:function(){this.token={type:"EndTag",tagName:""},this.tokens.push(this.token)},finishTag:function(){this.addLocInfo()},markTagAsSelfClosing:function(){this.token.selfClosing=!0},appendToTagName:function(e){this.token.tagName+=e},beginAttribute:function(){this._currentAttribute=["","",null],this.token.attributes.push(this._currentAttribute)},appendToAttributeName:function(e){this._currentAttribute[0]+=e},beginAttributeValue:function(e){this._currentAttribute[2]=e},appendToAttributeValue:function(e){this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=e},finishAttributeValue:function(){}},t.default=r});tn(ar);var sr=nn(function(e,t){t.__esModule=!0,t.default=function(e,t){return new n.default(new r.default(o.default),t).tokenize(e)};var n=i(ar),r=i(rr),o=i(nr);function i(e){return e&&e.__esModule?e:{default:e}}});tn(sr);var cr=nn(function(e,t){t.__esModule=!0;var n=s(nr),r=s(rr),o=s(ir),i=s(ar),a=s(sr);function s(e){return e&&e.__esModule?e:{default:e}}var c={HTML5NamedCharRefs:n.default,EntityParser:r.default,EventedTokenizer:o.default,Tokenizer:i.default,tokenize:a.default};t.default=c});tn(cr);var lr=nn(function(e,t){t.__esModule=!0,t.inherits=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(e.prototype);for(var o in n)r[o]=n[o];return r.constructor=t,t.prototype=r,t}});tn(lr);lr.inherits;var ur=nn(function(e,t){t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={defaultProtocol:"http",events:null,format:i,formatHref:i,nl2br:!1,tagName:"a",target:function(e,t){return"url"===t?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function o(e){e=e||{},this.defaultProtocol=e.hasOwnProperty("defaultProtocol")?e.defaultProtocol:r.defaultProtocol,this.events=e.hasOwnProperty("events")?e.events:r.events,this.format=e.hasOwnProperty("format")?e.format:r.format,this.formatHref=e.hasOwnProperty("formatHref")?e.formatHref:r.formatHref,this.nl2br=e.hasOwnProperty("nl2br")?e.nl2br:r.nl2br,this.tagName=e.hasOwnProperty("tagName")?e.tagName:r.tagName,this.target=e.hasOwnProperty("target")?e.target:r.target,this.validate=e.hasOwnProperty("validate")?e.validate:r.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||r.attributes,this.className=e.hasOwnProperty("className")?e.className:e.linkClass||r.className;for(var t=e.hasOwnProperty("ignoreTags")?e.ignoreTags:r.ignoreTags,n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function i(e){return e}t.defaults=r,t.Options=o,t.contains=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},o.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,o){var i=void 0,a=this[e];if(!a)return a;switch(void 0===a?"undefined":n(a)){case"function":return a(t,o.type);case"object":return"function"==typeof(i=a.hasOwnProperty(o.type)?a[o.type]:r[e])?i(t,o.type):i}return a},getObject:function(e,t,n){var r=this[e];return"function"==typeof r?r(t,n.type):r}}});tn(ur);ur.defaults,ur.Options,ur.contains;var fr=nn(function(e,t){t.__esModule=!0,t.stateify=t.TokenState=t.CharacterState=void 0;var n=function(e){this.j=[],this.T=e||null};n.prototype={defaultTransition:!1,on:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)this.j.push([e[n],t]);return this}return this.j.push([e,t]),this},next:function(e){for(var t=0;t<this.j.length;t++){var n=this.j[t],r=n[0],o=n[1];if(this.test(e,r))return o}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,t){return e===t},emit:function(){return this.T}};var r=(0,lr.inherits)(n,function(e){this.j=[],this.T=e||null},{test:function(e,t){return e===t||t instanceof RegExp&&t.test(e)}}),o=(0,lr.inherits)(n,function(e){this.j=[],this.T=e||null},{jump:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.next(new e(""));return n===this.defaultTransition?(n=new this.constructor(t),this.on(e,n)):t&&(n.T=t),n},test:function(e,t){return e instanceof t}});t.CharacterState=r,t.TokenState=o,t.stateify=function(e,t,n,o){for(var i=0,a=e.length,s=t,c=[],l=void 0;i<a&&(l=s.next(e[i]));)s=l,i++;if(i>=a)return[];for(;i<a-1;)l=new r(o),c.push(l),s.on(e[i],l),s=l,i++;return l=new r(n),c.push(l),s.on(e[a-1],l),c}});tn(fr);fr.stateify,fr.TokenState,fr.CharacterState;var dr=nn(function(e,t){t.__esModule=!0,t.createTokenClass=function(){return function(e){e&&(this.v=e)}}});tn(dr);dr.createTokenClass;var pr=nn(function(e,t){t.__esModule=!0,t.AMPERSAND=t.CLOSEPAREN=t.CLOSEANGLEBRACKET=t.CLOSEBRACKET=t.CLOSEBRACE=t.OPENPAREN=t.OPENANGLEBRACKET=t.OPENBRACKET=t.OPENBRACE=t.WS=t.TLD=t.SYM=t.UNDERSCORE=t.SLASH=t.MAILTO=t.PROTOCOL=t.QUERY=t.POUND=t.PLUS=t.NUM=t.NL=t.LOCALHOST=t.PUNCTUATION=t.DOT=t.COLON=t.AT=t.DOMAIN=t.Base=void 0;var n=(0,dr.createTokenClass)();function r(e){var t=e?{v:e}:{};return(0,lr.inherits)(n,(0,dr.createTokenClass)(),t)}n.prototype={toString:function(){return this.v+""}};var o=r(),i=r("@"),a=r(":"),s=r("."),c=r(),l=r(),u=r("\n"),f=r(),d=r("+"),p=r("#"),h=r(),g=r("mailto:"),v=r("?"),m=r("/"),y=r("_"),b=r(),w=r(),_=r(),x=r("{"),k=r("["),E=r("<"),S=r("("),O=r("}"),T=r("]"),C=r(">"),A=r(")"),P=r("&");t.Base=n,t.DOMAIN=o,t.AT=i,t.COLON=a,t.DOT=s,t.PUNCTUATION=c,t.LOCALHOST=l,t.NL=u,t.NUM=f,t.PLUS=d,t.POUND=p,t.QUERY=v,t.PROTOCOL=h,t.MAILTO=g,t.SLASH=m,t.UNDERSCORE=y,t.SYM=b,t.TLD=w,t.WS=_,t.OPENBRACE=x,t.OPENBRACKET=k,t.OPENANGLEBRACKET=E,t.OPENPAREN=S,t.CLOSEBRACE=O,t.CLOSEBRACKET=T,t.CLOSEANGLEBRACKET=C,t.CLOSEPAREN=A,t.AMPERSAND=P});tn(pr);pr.AMPERSAND,pr.CLOSEPAREN,pr.CLOSEANGLEBRACKET,pr.CLOSEBRACKET,pr.CLOSEBRACE,pr.OPENPAREN,pr.OPENANGLEBRACKET,pr.OPENBRACKET,pr.OPENBRACE,pr.WS,pr.TLD,pr.SYM,pr.UNDERSCORE,pr.SLASH,pr.MAILTO,pr.PROTOCOL,pr.QUERY,pr.POUND,pr.PLUS,pr.NUM,pr.NL,pr.LOCALHOST,pr.PUNCTUATION,pr.DOT,pr.COLON,pr.AT,pr.DOMAIN,pr.Base;var hr=nn(function(e,t){t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(pr);var r="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),o="0123456789".split(""),i="0123456789abcdefghijklmnopqrstuvwxyz".split(""),a=[" ","\f","\r","\t","\v"," "," ","᠎"],s=[],c=function(e){return new fr.CharacterState(e)},l=c(),u=c(pr.NUM),f=c(pr.DOMAIN),d=c(),p=c(pr.WS);l.on("@",c(pr.AT)).on(".",c(pr.DOT)).on("+",c(pr.PLUS)).on("#",c(pr.POUND)).on("?",c(pr.QUERY)).on("/",c(pr.SLASH)).on("_",c(pr.UNDERSCORE)).on(":",c(pr.COLON)).on("{",c(pr.OPENBRACE)).on("[",c(pr.OPENBRACKET)).on("<",c(pr.OPENANGLEBRACKET)).on("(",c(pr.OPENPAREN)).on("}",c(pr.CLOSEBRACE)).on("]",c(pr.CLOSEBRACKET)).on(">",c(pr.CLOSEANGLEBRACKET)).on(")",c(pr.CLOSEPAREN)).on("&",c(pr.AMPERSAND)).on([",",";","!",'"',"'"],c(pr.PUNCTUATION)),l.on("\n",c(pr.NL)).on(a,p),p.on(a,p);for(var h=0;h<r.length;h++){var g=(0,fr.stateify)(r[h],l,pr.TLD,pr.DOMAIN);s.push.apply(s,g)}var v=(0,fr.stateify)("file",l,pr.DOMAIN,pr.DOMAIN),m=(0,fr.stateify)("ftp",l,pr.DOMAIN,pr.DOMAIN),y=(0,fr.stateify)("http",l,pr.DOMAIN,pr.DOMAIN),b=(0,fr.stateify)("mailto",l,pr.DOMAIN,pr.DOMAIN);s.push.apply(s,v),s.push.apply(s,m),s.push.apply(s,y),s.push.apply(s,b);var w=v.pop(),_=m.pop(),x=y.pop(),k=b.pop(),E=c(pr.DOMAIN),S=c(pr.PROTOCOL),O=c(pr.MAILTO);_.on("s",E).on(":",S),x.on("s",E).on(":",S),s.push(E),w.on(":",S),E.on(":",S),k.on(":",O);var T=(0,fr.stateify)("localhost",l,pr.LOCALHOST,pr.DOMAIN);s.push.apply(s,T),l.on(o,u),u.on("-",d).on(o,u).on(i,f),f.on("-",d).on(i,f);for(var C=0;C<s.length;C++)s[C].on("-",d).on(i,f);d.on("-",d).on(o,f).on(i,f),l.defaultTransition=c(pr.SYM);var A=l;t.State=fr.CharacterState,t.TOKENS=n,t.run=function(e){for(var t=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),n=e.length,r=[],o=0;o<n;){for(var i=l,a=null,s=0,c=null,u=-1;o<n&&(a=i.next(t[o]));)(i=a).accepts()?(u=0,c=i):u>=0&&u++,s++,o++;if(!(u<0)){o-=u,s-=u;var f=c.emit();r.push(new f(e.substr(o-s,s)))}}return r},t.start=A});tn(hr);hr.start,hr.run,hr.TOKENS,hr.State;var gr=nn(function(e,t){function n(e){return e instanceof pr.DOMAIN||e instanceof pr.TLD}t.__esModule=!0,t.URL=t.TEXT=t.NL=t.EMAIL=t.MAILTOEMAIL=t.Base=void 0;var r=(0,dr.createTokenClass)();r.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],t=0;t<this.v.length;t++)e.push(this.v[t].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var o=(0,lr.inherits)(r,(0,dr.createTokenClass)(),{type:"email",isLink:!0}),i=(0,lr.inherits)(r,(0,dr.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),a=(0,lr.inherits)(r,(0,dr.createTokenClass)(),{type:"text"}),s=(0,lr.inherits)(r,(0,dr.createTokenClass)(),{type:"nl"}),c=(0,lr.inherits)(r,(0,dr.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=!1,r=!1,o=this.v,i=[],a=0;o[a]instanceof pr.PROTOCOL;)t=!0,i.push(o[a].toString().toLowerCase()),a++;for(;o[a]instanceof pr.SLASH;)r=!0,i.push(o[a].toString()),a++;for(;n(o[a]);)i.push(o[a].toString().toLowerCase()),a++;for(;a<o.length;a++)i.push(o[a].toString());return i=i.join(""),t||r||(i=e+"://"+i),i},hasProtocol:function(){return this.v[0]instanceof pr.PROTOCOL}});t.Base=r,t.MAILTOEMAIL=o,t.EMAIL=i,t.NL=s,t.TEXT=a,t.URL=c});tn(gr);gr.URL,gr.TEXT,gr.NL,gr.EMAIL,gr.MAILTOEMAIL,gr.Base;var vr=nn(function(e,t){t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(gr);var r=function(e){return new fr.TokenState(e)},o=r(),i=r(),a=r(),s=r(),c=r(),l=r(),u=r(),f=r(gr.URL),d=r(),p=r(gr.URL),h=r(gr.URL),g=r(),v=r(),m=r(),y=r(),b=r(),w=r(gr.URL),_=r(gr.URL),x=r(gr.URL),k=r(gr.URL),E=r(),S=r(),O=r(),T=r(),C=r(),A=r(),P=r(gr.EMAIL),I=r(),L=r(gr.EMAIL),j=r(gr.MAILTOEMAIL),N=r(),R=r(),M=r(),z=r(),D=r(gr.NL);o.on(pr.NL,D).on(pr.PROTOCOL,i).on(pr.MAILTO,a).on(pr.SLASH,s),i.on(pr.SLASH,s),s.on(pr.SLASH,c),o.on(pr.TLD,l).on(pr.DOMAIN,l).on(pr.LOCALHOST,f).on(pr.NUM,l),c.on(pr.TLD,h).on(pr.DOMAIN,h).on(pr.NUM,h).on(pr.LOCALHOST,h),l.on(pr.DOT,u),C.on(pr.DOT,A),u.on(pr.TLD,f).on(pr.DOMAIN,l).on(pr.NUM,l).on(pr.LOCALHOST,l),A.on(pr.TLD,P).on(pr.DOMAIN,C).on(pr.NUM,C).on(pr.LOCALHOST,C),f.on(pr.DOT,u),P.on(pr.DOT,A),f.on(pr.COLON,d).on(pr.SLASH,h),d.on(pr.NUM,p),p.on(pr.SLASH,h),P.on(pr.COLON,I),I.on(pr.NUM,L);var H=[pr.DOMAIN,pr.AT,pr.LOCALHOST,pr.NUM,pr.PLUS,pr.POUND,pr.PROTOCOL,pr.SLASH,pr.TLD,pr.UNDERSCORE,pr.SYM,pr.AMPERSAND],F=[pr.COLON,pr.DOT,pr.QUERY,pr.PUNCTUATION,pr.CLOSEBRACE,pr.CLOSEBRACKET,pr.CLOSEANGLEBRACKET,pr.CLOSEPAREN,pr.OPENBRACE,pr.OPENBRACKET,pr.OPENANGLEBRACKET,pr.OPENPAREN];h.on(pr.OPENBRACE,v).on(pr.OPENBRACKET,m).on(pr.OPENANGLEBRACKET,y).on(pr.OPENPAREN,b),g.on(pr.OPENBRACE,v).on(pr.OPENBRACKET,m).on(pr.OPENANGLEBRACKET,y).on(pr.OPENPAREN,b),v.on(pr.CLOSEBRACE,h),m.on(pr.CLOSEBRACKET,h),y.on(pr.CLOSEANGLEBRACKET,h),b.on(pr.CLOSEPAREN,h),w.on(pr.CLOSEBRACE,h),_.on(pr.CLOSEBRACKET,h),x.on(pr.CLOSEANGLEBRACKET,h),k.on(pr.CLOSEPAREN,h),E.on(pr.CLOSEBRACE,h),S.on(pr.CLOSEBRACKET,h),O.on(pr.CLOSEANGLEBRACKET,h),T.on(pr.CLOSEPAREN,h),v.on(H,w),m.on(H,_),y.on(H,x),b.on(H,k),v.on(F,E),m.on(F,S),y.on(F,O),b.on(F,T),w.on(H,w),_.on(H,_),x.on(H,x),k.on(H,k),w.on(F,w),_.on(F,_),x.on(F,x),k.on(F,k),E.on(H,w),S.on(H,_),O.on(H,x),T.on(H,k),E.on(F,E),S.on(F,S),O.on(F,O),T.on(F,T),h.on(H,h),g.on(H,h),h.on(F,g),g.on(F,g),a.on(pr.TLD,j).on(pr.DOMAIN,j).on(pr.NUM,j).on(pr.LOCALHOST,j),j.on(H,j).on(F,N),N.on(H,j).on(F,N);var B=[pr.DOMAIN,pr.NUM,pr.PLUS,pr.POUND,pr.QUERY,pr.UNDERSCORE,pr.SYM,pr.AMPERSAND,pr.TLD];l.on(B,R).on(pr.AT,M),f.on(B,R).on(pr.AT,M),u.on(B,R),R.on(B,R).on(pr.AT,M).on(pr.DOT,z),z.on(B,R),M.on(pr.TLD,C).on(pr.DOMAIN,C).on(pr.LOCALHOST,P);t.State=fr.TokenState,t.TOKENS=n,t.run=function(e){for(var t=e.length,n=0,r=[],i=[];n<t;){for(var a=o,s=null,c=null,l=0,u=null,f=-1;n<t&&!(s=a.next(e[n]));)i.push(e[n++]);for(;n<t&&(c=s||a.next(e[n]));)s=null,(a=c).accepts()?(f=0,u=a):f>=0&&f++,n++,l++;if(f<0)for(var d=n-l;d<n;d++)i.push(e[d]);else{i.length>0&&(r.push(new gr.TEXT(i)),i=[]),n-=f,l-=f;var p=u.emit();r.push(new p(e.slice(n-l,n)))}}return i.length>0&&r.push(new gr.TEXT(i)),r},t.start=o});tn(vr);vr.start,vr.run,vr.TOKENS,vr.State;var mr=nn(function(e,t){t.__esModule=!0,t.tokenize=t.test=t.scanner=t.parser=t.options=t.inherits=t.find=void 0;var n=i(ur),r=i(hr),o=i(vr);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var a=function(e){return o.run(r.run(e))};t.find=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a(e),r=[],o=0;o<n.length;o++){var i=n[o];!i.isLink||t&&i.type!==t||r.push(i.toObject())}return r},t.inherits=lr.inherits,t.options=n,t.parser=o,t.scanner=r,t.test=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a(e);return 1===n.length&&n[0].isLink&&(!t||n[0].type===t)},t.tokenize=a});tn(mr);mr.tokenize,mr.test,mr.scanner,mr.parser,mr.options,mr.inherits,mr.find;var yr=nn(function(e,t){t.__esModule=!0,t.default=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=n.default.tokenize(e),g=[],v=[];for(r=new i(r),t=0;t<p.length;t++){var m=p[t];if(m.type!==a)if(m.type===c){var y=u(m.chars,r);g.push.apply(g,y)}else g.push(m);else{g.push(m);var b=m.tagName.toUpperCase(),w="A"===b||o.contains(r.ignoreTags,b);if(!w)continue;var _=g.length;f(b,p,++t,g),t+=g.length-_-1}}for(t=0;t<g.length;t++){var x=g[t];switch(x.type){case a:var k="<"+x.tagName;if(x.attributes.length>0){var E=h(x.attributes);k+=" "+E.join(" ")}k+=">",v.push(k);break;case s:v.push("</"+x.tagName+">");break;case c:v.push(d(x.chars));break;case l:v.push("\x3c!--"+d(x.chars)+"--\x3e")}}return v.join("")};var n=function(e){return e&&e.__esModule?e:{default:e}}(cr),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(mr);var o=r.options,i=o.Options,a="StartTag",s="EndTag",c="Chars",l="Comment";function u(e,t){for(var n=r.tokenize(e),o=[],i=0;i<n.length;i++){var l=n[i];if("nl"===l.type&&t.nl2br)o.push({type:a,tagName:"br",attributes:[],selfClosing:!0});else if(l.isLink&&t.check(l)){var u=t.resolve(l),f=u.formatted,d=u.formattedHref,p=u.tagName,h=u.className,g=u.target,v=u.attributes,m=[["href",d]];for(var y in h&&m.push(["class",h]),g&&m.push(["target",g]),v)m.push([y,v[y]]);o.push({type:a,tagName:p,attributes:m,selfClosing:!1}),o.push({type:c,chars:f}),o.push({type:s,tagName:p})}else o.push({type:c,chars:l.toString()})}return o}function f(e,t,n,r){for(var o=1;n<t.length&&o>0;){var i=t[n];i.type===a&&i.tagName.toUpperCase()===e?o++:i.type===s&&i.tagName.toUpperCase()===e&&o--,r.push(i),n++}return r}function d(e){return e}function p(e){return e.replace(/"/g,"&quot;")}function h(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=r[0],i=r[1];t.push(o+'="'+p(i)+'"')}return t}});tn(yr);var br=yr.default,wr=/<a\s+(?:[^>]*?\s+)?href=("|')(javascript|data)(.*?)>(.*)<\/a>/gim;var _r=[{selector:"table[border]",attribute:"border",style:{key:"border",unit:"px",appliesToSelf:!0,appliesToCells:!0,preventOverriding:!0,properties:[{key:"borderWidth"},{key:"borderColor",default:"gray"},{key:"borderStyle",default:"solid"}]}},{selector:"table[cellpadding]",attribute:"cellpadding",style:{key:"padding",unit:"px",appliesToCells:!0,properties:[{key:"paddingLeft"},{key:"paddingRight"},{key:"paddingTop"},{key:"paddingBottom"}]}},{selector:"table[cellspacing]",attribute:"cellspacing",style:{key:"border-spacing",unit:"px",appliesToSelf:!0}}],xr=_r.map(function(e){return e.selector}).join(", ");function kr(e){var t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll(xr).length?(_r.forEach(function(e){return function(e,t){var n=t.selector,r=t.attribute,o=t.style,i=e.querySelectorAll(n);if(!i.length)return;i.forEach(function(t){var n=o.key,i=o.unit,a=o.appliesToSelf,s=o.appliesToCells,c=t.attributes[r].value,l=parseInt(c,10)?""+c+i:0;a&&!t.style[n]&&Er(t,o,l),s&&function(e,t,n,r){var o="table-"+(new Date).getTime();t.id=o,e.querySelectorAll("#"+o+" > thead > tr > th, #"+o+" > tbody > tr > td").forEach(function(e){e.style[n.key]||Er(e,n,r)}),t.removeAttribute("id")}(e,t,o,l),t.removeAttribute(r)})}(t,e)}),t.innerHTML):e}function Er(e,t,n){var r=t.key,o=t.properties,i=t.preventOverriding;o?i&&o.find(function(t){return e.style[t.key]})||o.forEach(function(t){e.style[t.key]||(e.style[t.key]=t.default?t.default:n)}):e.style[r]=n}var Sr=new Qn.FilterXSS({whiteList:{a:["style","class","href","title","target","rel","name"],img:["style","class","src","alt","width","height","align"],div:["style","class","align","dir"],span:["style","class"],center:["style","class"],p:["style","class","align"],strong:["style","class"],b:["style","class"],u:["style","class"],i:["style","class"],em:["style","class"],blockquote:["style","class"],code:["style","class"],pre:["style","class","width"],hr:["style","class","align","width"],h1:["style","class","align"],h2:["style","class","align"],h3:["style","class","align"],h4:["style","class","align"],h5:["style","class","align"],h6:["style","class","align"],br:[],ul:["style","class","type"],ol:["style","class"],li:["style","class","type","value"],table:["style","class","cellpadding","cellspacing","bgcolor","width"],tbody:["style","class"],thead:["style","class"],tfoot:["style","class"],td:["style","class","colspan","rowspan","align","bgcolor","width","height","valign"],tr:["style","class"],th:["style","class","colspan","rowspan","align","bgcolor","width","height","valign"],colgroup:["style","class","align","valign","width"],col:["style","class","align","valign","width"],font:["style","class","color","face","size"],style:["type"]},onTagAttr:function(e,t,n){var r=new RegExp("^(?!(data|javascript))([a-zA-Z]*:)","i");return"img"===e&&"src"===t&&"cid:"===n.substr(0,4)?t+'="'+Qn.escapeAttrValue(n)+'"':"a"===e&&"href"===t&&n.match(r)?t+'="'+Qn.escapeAttrValue(n)+'"':void 0},onIgnoreTagAttr:function(e,t,n){if("data-"===t.substr(0,5))return t+'="'+Qn.escapeAttrValue(n)+'"'},stripIgnoreTag:!0});var Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.loose,r=void 0!==n&&n,o=t.removeStyle,i=void 0!==o&&o,a=t.replaceLinks,s=void 0!==a&&a,c=t.fullUrlsOnly,l=void 0!==c&&c,u=t.openLinksInNewTab;s&&(e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.linkWrapClass,r=t.bcc,o=t.noEscape,i=void 0!==o&&o,a=t.urlsOnly,s=void 0!==a&&a,c=t.fullUrlsOnly,l=void 0!==c&&c,u=t.openEmailsInNewTab,f=void 0!==u&&u,d=t.openLinksInNewTab,p=void 0!==d&&d,h=t.defaultProtocol,g=void 0===h?"http":h;if(tr(e)){if(wr.test(e)&&(e=e.replace(wr,"$4")),!i){var v=document.createElement("div");v.textContent=e,e=v.innerHTML}return br(e,{defaultProtocol:g,attributes:function(){return p||f?{rel:"noopener noreferrer"}:null},target:{url:function(){return p?"_blank":null},email:function(){return f?"_blank":null}},className:n||"",formatHref:{email:function(e){return tr(r)?e+"?bcc="+encodeURIComponent(r):e}},validate:{url:function(e){return!(l&&!/^((http|ftp)s?:\/\/|www\.)/.test(e))},email:function(){return!s}}})}}(e,{noEscape:!0,urlsOnly:!0,fullUrlsOnly:l,openLinksInNewTab:void 0===u||u})),i||(e=kr(e)),e=Sr.process(e);var f=document.createElement("div");return f.innerHTML=e,f.querySelectorAll('a[target*="_blank"]').forEach(function(e){var t=e.getAttribute("rel")||"";t.search("noopener")<0&&(t+=" noopener"),t.search("noreferrer")<0&&(t+=" noreferrer"),e.setAttribute("rel",t)}),r||(f.querySelectorAll("*").forEach(function(e){return e.removeAttribute("class")}),f.querySelectorAll("style").forEach(function(e){return e.remove()})),i&&f.querySelectorAll("*").forEach(function(e){return e.removeAttribute("style")}),e=f.innerHTML,f.remove(),e},Tr=n(68),Cr=n(43),Ar=n.n(Cr);function Pr(e){"@babel/helpers - typeof";return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Nr(e);if(t){var o=Nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Nr(e){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(n,ft["Component"]);var t=jr(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Ir(e.prototype,t),n&&Ir(e,n)}(n,[{key:"render",value:function(){var e=[this.props.alignRight?Ar.a.groupAlignRight:""];return dt.a.createElement("div",{className:"".concat(Ar.a.group," ").concat(e.join(" "))},this.props.children)}}]),n}();Rr.propTypes={children:en.a.node.isRequired,alignRight:en.a.bool};var Mr=n(102),zr=n(101),Dr=n(103),Hr=dt.a.createContext({isCompact:!1,isMoreIconsButtonVisible:!1});function Fr(e){"@babel/helpers - typeof";return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(){return(Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Gr(e);if(t){var o=Gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wr(e)}(this,n)}}function Wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kr={fontfamily:Mr.a,fontsize:zr.a,fontcolor:Dr.a},Xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(n,ft["Component"]);var t=Vr(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={tooltipProps:{},buttonLabel:""},r.onCloseTooltip=r.onCloseTooltip.bind(Wr(r)),r.setButtonLabel=r.setButtonLabel.bind(Wr(r)),r}return function(e,t,n){t&&Ur(e.prototype,t),n&&Ur(e,n)}(n,[{key:"onCloseTooltip",value:function(e,t){var n=this;e&&e.preventDefault(),t||this.setState({tooltipProps:{visible:!1}},function(){n.setState({tooltipProps:{}})})}},{key:"setButtonLabel",value:function(e){this.setState({buttonLabel:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.icon,o=t.active,i=t.size,a=t.tooltipData,s=void 0===a?{}:a,c=[Ar.a.button,Ar.a.toolbar_field],l=Kr[n];l||c.push("toolbar_".concat(n));var u=function(t){return dt.a.createElement(gt.Button,{color:"ghost",className:c.join(" "),onClick:function(n){e.onCloseTooltip(n,t.isSelect)},active:o,"data-test":n,size:i},e.state.buttonLabel&&!t.isCompact?dt.a.createElement("span",{className:Ar.a.buttonLabel},e.state.buttonLabel,t.isSelect&&dt.a.createElement(gt.Icon,{icon:"triangle-down",color:"black-64"})):dt.a.createElement(dt.a.Fragment,null,dt.a.createElement(gt.Icon,{icon:r||n,color:"black-64"}),t.isSelect&&dt.a.createElement(gt.Icon,{icon:"triangle-down",color:"black-64"})))},f=l?dt.a.createElement(l,{editorElWrapper:this.props.editorElWrapper,eventHandler:this.props.eventHandler,translations:this.props.translations,trackUsage:this.props.trackUsage,closeTooltip:this.onCloseTooltip,setButtonLabel:this.setButtonLabel},dt.a.createElement(u,{isSelect:!0,isCompact:this.context.isCompact})):dt.a.createElement(u,null);return s.text?dt.a.createElement(gt.Tooltip,Br({popperProps:{modifiers:{preventOverflow:{enabled:!0}}},placement:s.placement||"top",offset:s.offset||"",content:dt.a.createElement("span",{className:Ar.a.tooltipText},s.text)},this.state.tooltipProps),dt.a.createElement("span",null,f)):f}}]),n}();Xr.propTypes={type:en.a.oneOf(["fontfamily","fontsize","fontcolor","bold","italic","underline","at","link","image","ul","ol","remove"]),editorElWrapper:en.a.node,eventHandler:en.a.object,translations:en.a.object,tooltipData:en.a.object,icon:en.a.string,active:en.a.bool,trackUsage:en.a.func,size:en.a.oneOf(["s"])},Xr.contextType=Hr;var Yr=n(34),$r=n(60);function Qr(e){return function(e){if(Array.isArray(e))return eo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||Zr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){if(e){if("string"==typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eo(e,t):void 0}}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var to=Object(s.l)(),no={history:[{type:"undo"},{type:"redo"}],fontFamily:[{type:"fontfamily",icon:"font-family"}],fontSize:[{type:"fontsize",icon:"largetext"}],format:[{type:"bold"},{type:"italic"},{type:"underline"},{type:"fontcolor",icon:"font-color"}],list:[{type:"ol",icon:"list-numbered"},{type:"ul",icon:"list-bulleted"},{type:"outdent",icon:"indent-decrease"},{type:"indent",icon:"indent-increase"},{type:"quote",icon:"quote"}],complex:[{type:"link"},{type:"image",icon:"ac-picture"}],strikethrough:[{type:"strikethrough",icon:"strikethrough"}],removeFormat:[{type:"remove",icon:"clearformat"}]},ro=function(e){var t=e.editorElWrapper,n=e.translations,r=e.trackUsage,o=e.buttons,i=void 0===o?["undo","redo","bold","italic","underline","ul","ol","outdent","indent","remove","quote"]:o,a=e.activeButtons,s=void 0===a?[]:a,c=e.fontPickersEnabled,l=void 0===c||c,u=Object(ft.useContext)(Hr),f=new Tr.a,d=n||$r.a,p=Object.keys(no).reduce(function(e,t){var n=no[t].filter(function(e){return i.includes(e.type)});return e.concat([n])},[]),h=Jr(Object(ft.useState)(p),2),g=h[0],v=h[1],m=Jr(Object(ft.useState)([]),2),y=m[0],b=m[1],w=function(e,n,o){return dt.a.createElement(dt.a.Fragment,null,e.map(function(e){return dt.a.createElement(Xr,{editorElWrapper:t,eventHandler:f,translations:d,trackUsage:r,type:e.type,tooltipData:{text:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Yr.a[t]&&Yr.a[t].label||{value:"",shortcut:{}},r=(e.toolbar&&e.toolbar[t]&&e.toolbar[t].label||n).value||n.value,o=n.shortcut&&n.shortcut[to]||"";return"".concat(r," ").concat(o)}(d,e.type),placement:o?"left-start":"top",offset:o?"-xs":""},icon:e.icon,key:"button-".concat(e.type),active:s.includes(e.type)})}),n&&dt.a.createElement(gt.Separator,{type:"vertical",spacing:"xs"}))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map(function(n,r){var o=!!n.length&&++r<e.length&&t&&l;return t?dt.a.createElement(Rr,{key:"group-".concat(r)},w(n,o)):w(n,o,!0)})};return Object(ft.useEffect)(function(){if(u.isMoreIconsButtonVisible&&l){var e=Qr(g),t=e.splice(e.length-3,3);b(t),v(e)}else v(p)},[u.isMoreIconsButtonVisible]),dt.a.createElement(dt.a.Fragment,null,_(g,!0),u.isMoreIconsButtonVisible&&dt.a.createElement(gt.Popover,{placement:"top",spacing:"xs",arrow:!1,toggleOnTriggerClick:!0,content:_(y)},y.length&&dt.a.createElement(gt.Button,{color:"ghost","data-type":"showHiddenGroups",onClick:function(e){return e.preventDefault()}},dt.a.createElement(gt.Icon,{icon:"ellipsis",color:"black-64"}))))};ro.propTypes={editorElWrapper:en.a.node,translations:en.a.object,trackUsage:en.a.func,buttons:en.a.array,activeButtons:en.a.array,fontPickersEnabled:en.a.bool};var oo=n(166);function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ao(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var so=Object(ft.forwardRef)(function(e,t){var n=io(Object(ft.useState)(!1),2),r=n[0],o=n[1],i=io(Object(ft.useState)(!1),2),a=i[0],s=i[1];return Object(ft.useEffect)(function(){function e(){t.current&&t.current.offsetWidth>0&&(o(t.current.offsetWidth<=800),s(t.current.offsetWidth<=734))}var n=Object(oo.debounce)(e);return window.requestAnimationFrame(e),window.addEventListener("resize",n),function(){window.cancelAnimationFrame(e),window.removeEventListener("resize",n)}}),dt.a.createElement(Hr.Provider,{value:{isCompact:r,isMoreIconsButtonVisible:a}},dt.a.createElement("div",{className:"editorToolbar ".concat(Ar.a.toolbar),ref:t},e.children))});so.propTypes={children:en.a.node.isRequired},so.ButtonGroup=Rr,so.Button=Xr,so.contextType=Hr;var co=n(10),lo=n.n(co);function uo(e){"@babel/helpers - typeof";return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach(function(t){go(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=bo(e);if(t){var o=bo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===uo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(n,ft["Component"]);var t=yo(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).lastHtml=e.content,r.editorEl=Object(ft.createRef)(),r.editorElWrapper=Object(ft.createRef)(),r.toolbarEl=Object(ft.createRef)(),r.eventHandler=new Tr.a,r.state={activeButtons:[]},r}return function(e,t,n){t&&vo(e.prototype,t),n&&vo(e,n)}(n,[{key:"componentDidMount",value:function(){this.initWysiwyg()}},{key:"componentWillUnmount",value:function(){this.wysiwyg&&this.wysiwyg.unload()}},{key:"initWysiwyg",value:function(){var e=this;this.setContent(this.props.content),this.wysiwyg=new o.a(ho({placeholder:this.props.placeholder,focusAndPlaceholder:this.props.focusAndPlaceholder,sanitizePasteData:!0,editorEl:this.editorEl.current,toolbarEl:this.toolbarEl.current,sanitizeHtml:Or,defaultEventsEnabled:this.props.defaultEventsEnabled,eventHandler:this.eventHandler,useEventsDelegation:!0,plugins:this.props.plugins||[],onToolbarActiveButtonsChange:function(t){return e.setState({activeButtons:t})}},this.props)),this.props.autoFocus&&this.editorEl.current.focus()}},{key:"setContent",value:function(e){this.editorEl.current.innerHTML=Or(e,{loose:!0})}},{key:"getParsedContent",value:function(e){return this.wysiwyg.getParsedContent(e)}},{key:"handleContentChanged",value:function(e){if(this.editorEl.current&&this.props.onContentChanged&&this.wysiwyg.placeholder!==this.editorEl.current.innerHTML){var t=this.editorEl.current.innerHTML;if(t!==this.lastHtml){var n=Object.assign({},e,{target:ho(ho({},e.target),{},{value:t})});this.props.onContentChanged(n),this.lastHtml=t}}}},{key:"filterEventHandlerProps",value:function(){var e=this,t={};return Object.keys(this.props).forEach(function(n){e.props.hasOwnProperty(n)&&n.startsWith("on")&&"function"==typeof e.props[n]&&(t[n]=e.props[n])}),t}},{key:"getBodyEditorTemplate",value:function(){var e=this,t=this.props,n=t.minHeight,r=t.useDragDrop?{"data-drop-allowed":!0}:{};return dt.a.createElement("div",fo({className:"editorWrapper"},r,{ref:this.editorElWrapper}),dt.a.createElement("div",fo({className:"".concat(lo.a.editor," bodyEditor"),contentEditable:"true",ref:this.editorEl,style:{minHeight:n}},this.filterEventHandlerProps(),{onInput:function(t){return e.handleContentChanged(t)}})))}},{key:"render",value:function(){var e=this.props,t=e.toolbar,n=e.className,r=e.theme,o="".concat(lo.a.wysiwyg," ").concat(lo.a[r]," ").concat(n||"");return dt.a.createElement("div",{className:o},this.getBodyEditorTemplate(),dt.a.createElement(so,{ref:this.toolbarEl},t?dt.a.cloneElement(t,{activeButtons:this.state.activeButtons}):dt.a.createElement(ro,{editorElWrapper:this.editorElWrapper.current,translations:this.props.translations,trackUsage:this.props.trackUsage,buttons:this.props.toolbarButtons,activeButtons:this.state.activeButtons})))}}]),n}();wo.propTypes={translations:en.a.object,theme:en.a.oneOf(["default","note"]),plugins:en.a.arrayOf(en.a.oneOfType([en.a.array,en.a.func])),content:en.a.string,toolbar:en.a.node,toolbarButtons:en.a.arrayOf(en.a.string),minHeight:en.a.number,className:en.a.string,onContentChanged:en.a.func,autoFocus:en.a.bool,placeholder:en.a.string,focusAndPlaceholder:en.a.bool,defaultEventsEnabled:en.a.object,useDragDrop:en.a.bool,trackUsage:en.a.func},wo.defaultProps={minHeight:136,theme:"default"};var _o=so.Button,xo=so.ButtonGroup,ko=wo}])});
//# sourceMappingURL=pd-wysiwyg.js.map