import React from 'react';
import { createFragmentContainer, graphql } from '@pipedrive/relay';

import { CustomField } from '../CustomField';

import type { CustomFieldAutocomplete_data } from './__generated__/CustomFieldAutocomplete_data.graphql';

type Props = {
	readonly data: CustomFieldAutocomplete_data;
};

const CustomFieldAutocompleteWithoutData: React.FC<Props> = ({ data }) => {
	return (
		<CustomField
			icon="autocomplete"
			type="varchar_auto"
			value={data.value}
			data={data}
			isDisabled={true}
			onUpdate={() => Promise.resolve(false)}
		/>
	);
};

export const CustomFieldAutocomplete = createFragmentContainer(CustomFieldAutocompleteWithoutData, {
	data: graphql`
		fragment CustomFieldAutocomplete_data on CustomFieldAutocomplete {
			...CustomField_data
			value
		}
	`,
});
