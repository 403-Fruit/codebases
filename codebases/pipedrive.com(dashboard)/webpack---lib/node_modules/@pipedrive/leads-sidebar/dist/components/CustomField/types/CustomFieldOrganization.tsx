import React from 'react';
import { createFragmentContainer, graphql } from '@pipedrive/relay';

import { CustomField } from '../CustomField';

import type { CustomFieldOrganization_data } from './__generated__/CustomFieldOrganization_data.graphql';

type Props = {
	readonly data: CustomFieldOrganization_data;
};

const CustomFieldOrganizationWithoutData: React.FC<Props> = ({ data }) => (
	<CustomField
		icon="organization"
		type="organization"
		value={data.organization?.name}
		data={data}
		isDisabled={true}
		onUpdate={() => Promise.resolve(false)}
	/>
);

export const CustomFieldOrganization = createFragmentContainer(CustomFieldOrganizationWithoutData, {
	data: graphql`
		fragment CustomFieldOrganization_data on CustomFieldOrganization {
			...CustomField_data
			name
			organization {
				name
			}
		}
	`,
});
