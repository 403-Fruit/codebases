import React from 'react';
import { createFragmentContainer, graphql } from '@pipedrive/relay';

import { CustomField } from '../CustomField';

import type { CustomFieldAddress_data } from './__generated__/CustomFieldAddress_data.graphql';

type Props = {
	readonly data: CustomFieldAddress_data;
};

const CustomFieldAddressWithoutData: React.FC<Props> = ({ data }) => {
	return (
		<CustomField
			icon="address"
			type="address"
			value={data.address}
			data={data}
			isDisabled={true}
			onUpdate={() => Promise.resolve(false)}
		/>
	);
};

export const CustomFieldAddress = createFragmentContainer(CustomFieldAddressWithoutData, {
	data: graphql`
		fragment CustomFieldAddress_data on CustomFieldAddress {
			...CustomField_data
			address
		}
	`,
});
