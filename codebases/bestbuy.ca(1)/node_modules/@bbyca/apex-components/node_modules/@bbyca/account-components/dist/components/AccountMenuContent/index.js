import * as React from "react";
import { analytics } from "../../utils/Analytics";
import { eventToAppEventData } from "../../utils/setAnalyticVariable";
import SignInSvg from "../SignInOutNav/SignInNav/icon/SignInSvg";
import SignOut from "../SignInOutNav/SignOutNav";
import { en, fr } from "./messages";
import * as styles from "./style.css";
export class AccountMenuContent extends React.Component {
    constructor(props) {
        super(props);
        this.handleOnSignOutSuccess = () => {
            const { onSignOutSuccess, isFlyoutMenu } = this.props;
            if (isFlyoutMenu) {
                eventToAppEventData({ event: "Sign_Out_From_GlobalHeader" });
            }
            else {
                eventToAppEventData({ event: "Sign_Out_From_LeftDrawerNavigation" });
            }
            if (onSignOutSuccess) {
                onSignOutSuccess();
            }
        };
        this.handleExternalLink = () => {
            analytics.eventToSessionStorage("My Account");
        };
    }
    render() {
        const { accountDashboardUrl, isFlyoutMenu, locale, cieServiceUrl, } = this.props;
        this.messages = locale.startsWith("fr") ? fr : en;
        const myAccountLink = accountDashboardUrl + "/" + locale.toLowerCase();
        return (React.createElement("ul", { className: `${styles.accountMenuContent}${isFlyoutMenu ? ` ${styles.accountMenuContentIcons}` : ""}`, "data-automation": "account-menu-content" },
            React.createElement("li", null,
                React.createElement("a", { className: isFlyoutMenu ? styles.linkWithIcon : "", onClick: this.handleExternalLink, href: myAccountLink, "data-automation": "my-account-link" },
                    isFlyoutMenu && React.createElement(SignInSvg, { className: styles.myAccountSvg }),
                    React.createElement("span", null, this.messages.accountDashboard))),
            isFlyoutMenu &&
                React.createElement("li", null,
                    React.createElement("hr", { className: styles.divider })),
            React.createElement("li", null,
                React.createElement(SignOut, { locale: locale, cieServiceUrl: cieServiceUrl, onSignOutSuccess: this.handleOnSignOutSuccess, className: isFlyoutMenu ? styles.linkWithIcon : "", hideIcon: !isFlyoutMenu }))));
    }
}
export default AccountMenuContent;
//# sourceMappingURL=index.js.map