"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var accessTokenCookieName = "ta";
exports.cieUtilities = {
    /**
     * Returns true if the user is signed in, returns false otherwise
     */
    isUserSignedIn: function () {
        if (typeof document === "undefined") {
            return false;
        }
        return !!getCookie(accessTokenCookieName);
    },
    /**
     * Returns the access token if it exists; Returns null otherwise.
     */
    getAccessToken: function () {
        var accessTokenValue = getCookie(accessTokenCookieName);
        return accessTokenValue ? accessTokenValue : null;
    },
    buildSignInUrl: function (cieServiceUrl, locale, isCheckout, redirectUrl) {
        if (locale === void 0) { locale = "en-CA"; }
        if (isCheckout === void 0) { isCheckout = false; }
        var windowHref = (typeof window !== "undefined") ? window.location.href : "";
        var redirectTo = redirectUrl || windowHref;
        var signInUrl = cieServiceUrl + "/global/signin?" +
            "redirectUrl=" + encodeURIComponent(redirectTo) +
            "&lang=" + encodeURIComponent(locale);
        return isCheckout ? signInUrl + "&isCheckout=true" : signInUrl;
    },
};
exports.default = exports.cieUtilities;
/**
 * Returns a cookie, that's not http-only, if found; Returns null otherwise
 */
function getCookie(cookieName) {
    if (typeof document !== "undefined") {
        var regexp = new RegExp("(?:(?:^|.*;\\s*)" + cookieName + "\\s*\\=\\s*([^;]*).*$)|^.*$");
        return document.cookie.replace(regexp, "$1");
    }
    return null;
}
//# sourceMappingURL=cieUtilities.js.map