// ============================================================
// components: round-button
//
// Uses:
// * $round-button-map (/helpers/variables/_round-button.map)
// * button mixins (/helpers/mixins/private/_button)
// ============================================================

.#{$namespace}-round-button {
  @include button($round-button-map, variant, default);
  @include button-size($round-button-map, default);
  @include button-padding($round-button-map, default);

  .#{$namespace}-icon {
    @include button-icon($round-button-map, default);

    &.#{$namespace}-icon--sm {
      height: $vds-spacing-4x;
      width: $vds-spacing-4x;
    }
  }

  &__content {
    @include size(100%);
    align-items: center;
    display: flex;
    justify-content: center;
    overflow-y: hidden;
  }

  // variants
  // ============================================================
  &--primary {
    @include button($round-button-map, variant, primary);
  }

  &--secondary {
    @include button($round-button-map, variant, secondary);
  }

  &--dark {
    @include button($round-button-map, variant, dark);
  }

  &--destructive {
    @include button($round-button-map, variant, destructive);
  }

  &--minimal {
    @include button($round-button-map, variant, minimal);
  }

  &--minimal-inverse {
    @include button($round-button-map, variant, minimal-inverse);
  }

  // shadow variants
  // ============================================================
  &--default,
  &--primary,
  &--secondary,
  &--dark,
  &--destructive {
    @include button($round-button-map, shadow, default);
  }

  &--minimal,
  &--minimal-inverse {
    @include button($round-button-map, shadow, minimal);
  }

  // label variant
  // ============================================================
  &--with-label {
    @include button-padding($round-button-map, right-offset);

    .#{$namespace}-icon {
      @include button-icon($round-button-map, right-offset);
    }

    &.#{$namespace}-round-button--icon-right {
      // If there are two icons, we can resort to default padding
      @include button-padding($round-button-map, default);

      .#{$namespace}-icon {
        // If there's a button on the right, adjust the padding
        // and size for that second icon
        &:nth-of-type(2) {
          @include button-icon($round-button-map, left-offset);
        }
      }

      &:not(.#{$namespace}-round-button--icon) {
        // If there's ONLY a right icon, we want more padding on the left
        @include button-padding($round-button-map, left-offset);

        .#{$namespace}-icon {
          @include button-icon($round-button-map, left-offset);
        }
      }
    }
  }

  // size variants
  // ============================================================
  &--small {
    @include button-size($round-button-map, small);
    @include button-padding($round-button-map, small);

    &.#{$namespace}-round-button--with-label {
      @include button-padding($round-button-map, small-right-offset);

      &.#{$namespace}-round-button--icon-right {
        // If there are two icons, we can resort to default small padding
        @include button-padding($round-button-map, small);
      }
    }
  }

  // loading variant
  // ============================================================
  &--loading {
    cursor: wait;

    .#{$namespace}-round-button__content {
      height: 0; // hide text accessibly, preserve content width
      outline: none;
    }

    .#{$namespace}-round-button__loader {
      @include button-loading-animation;
    }
  }
}

// RTL support
// ============================================================
@include rtl {
  .#{$namespace}-round-button {
    // remove letter spacing for RTL languages (i.e. Arabic)
    letter-spacing: 0;

    // label variant
    // ============================================================
    &--with-label {
      @include button-padding($round-button-map, left-offset);

      .#{$namespace}-icon {
        @include button-icon($round-button-map, left-offset);
        padding: 0;
      }

      &.#{$namespace}-round-button--icon-right {
        @include button-padding($round-button-map, default);

        .#{$namespace}-icon {
          // If there's a button on the right, adjust the padding
          // and size for that second icon
          &:nth-of-type(2) {
            @include button-icon($round-button-map, right-offset);
          }
        }

        &:not(.#{$namespace}-round-button--icon) {
          // If there's ONLY a right icon, we want more padding on the left
          @include button-padding($round-button-map, right-offset);

          .#{$namespace}-icon {
            @include button-icon($round-button-map, right-offset);
          }
        }
      }
    }

    // size variants
    // ============================================================
    &--small {
      @include button-size($round-button-map, small);
      @include button-padding($round-button-map, small);

      &.#{$namespace}-round-button--with-label {
        @include button-padding($round-button-map, small-left-offset);
      }
    }
  }
}
