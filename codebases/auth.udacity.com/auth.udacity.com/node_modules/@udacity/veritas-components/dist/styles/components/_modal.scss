// ============================================================
// components: modal
// ============================================================

.#{$namespace}-modal {
  @include border-radius(base);
  @include box-shadow(5);
  animation: $vds-base-duration modalFadeIn $vds-base-timing;
  background: color(white);
  margin: $vds-spacing-2x;
  max-height: 80vh;
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
  position: relative;
  width: rem(400);

  @include breakpoint(md) {
    width: rem(600);
  }

  @include breakpoint(lg) {
    width: rem(800);
  }

  &.#{$namespace}-modal-not-scrollable {
    overflow-y: unset;
  }

  &__content {
    @include spacing(inset, 4x);

    @include breakpoint(md) {
      @include spacing(inset, 6x);
    }

    &:focus {
      outline: none;
    }
  }

  &__blanket {
    @include size(100%);
    align-items: center;
    background-color: rgba($vds-color-slate-darker, 0.5);
    bottom: 0;
    display: flex;
    justify-content: center;
    left: 0;
    position: fixed;
    right: 0;
    top: 0;
    transform: translateZ(0);
    z-index: 9000; // TODO: change to z-index token in future
  }

  &__close-button {
    position: absolute;
    right: $vds-spacing-1x;
    top: $vds-spacing-1x;

    @include breakpoint(md) {
      right: $vds-spacing-2x;
      top: $vds-spacing-2x;
    }
  }
}

// RTL support
// ============================================================
@include rtl {
  .#{$namespace}-modal {
    &__button {
      left: $vds-spacing-1x;
      right: auto;

      @include breakpoint(md) {
        left: $vds-spacing-2x;
      }
    }
  }
}

// Animation
// ============================================================
@keyframes modalFadeIn {
  from {
    opacity: 0;
    transform: translateY(-$vds-spacing-4x);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}
