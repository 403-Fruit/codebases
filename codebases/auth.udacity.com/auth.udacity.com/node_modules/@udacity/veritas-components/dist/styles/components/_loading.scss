// ============================================================
// components: loading
// ============================================================

$spinner-speed: 1100ms;
$spinner-curve: cubic-bezier(0.53, 0.21, 0.29, 0.67);
$spinner-color: color(cerulean);

.#{$namespace}-loading {
  @include size(100%);
  position: relative;

  &__spinner {
    @include spinner-size(md);
    display: block;

    &::before,
    &::after {
      @include border-radius(circle);
      border-style: solid;
      border-width: rem(4);
      content: "";
      display: block;
      left: 0;
      position: absolute;
      top: 0;
    }

    &::before {
      animation: spin $spinner-speed infinite linear 250ms;
      border-bottom-color: transparent;
      border-left-color: $spinner-color;
      border-right-color: transparent;
      border-top-color: $spinner-color;
      transform: translateZ(0);
    }

    &::after {
      animation: spin $spinner-speed infinite $spinner-curve;
      border-bottom-color: transparent;
      border-left-color: $spinner-color;
      border-right-color: transparent;
      border-top-color: $spinner-color;
      transform: translateZ(0);
    }
  }

  // busy
  // ============================================================
  &--busy {
    z-index: 5000; // TODO: change to z-index token in future
  }

  &--busy &__spinner {
    left: 50%;
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 5001; // TODO: change to z-index token in future
  }

  &--busy &__children {
    opacity: $vds-text-selection-opacity;
    pointer-events: none;
  }

  // size modifiers
  // ============================================================
  &--sm &__spinner {
    @include spinner-size(sm);
  }

  &--lg &__spinner {
    @include spinner-size(lg);
  }
}

// animation
// ============================================================
@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}
